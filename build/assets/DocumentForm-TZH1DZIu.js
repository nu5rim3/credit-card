import{au as At,a as at,av as vt,aw as et,_ as Fe,ax as bt,ay as wt,az as Et,aA as tt,j as W,B as ze,n as Ke,u as It,aq as _t,g as Le,l as St,aB as Ae}from"./index-Bf5nJgUi.js";import{_ as Ut,V as Tt,q as xt,o as Pe,c as oe,u as Ct,L as rt,t as Ft}from"./index-2LvIP5-G.js";const Mt=w=>async C=>{C(At());try{const a=await at.get(`/general-customer/${w}`);C(vt(a.data))}catch(a){a instanceof Error?(C(et(a.message)),Fe.error(a.message)):C(et("An unknown error occurred"))}};function Nt(w,C){return C.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(i){if(i!=="default"&&!(i in w)){var e=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(w,i,e.get?e:{enumerable:!0,get:function(){return a[i]}})}})}),Object.freeze(w)}function ot(w,C){return new Promise(function(a,i){let e;return Rt(w).then(function(t){try{return e=t,a(new Blob([C.slice(0,2),e,C.slice(2)],{type:"image/jpeg"}))}catch(u){return i(u)}},i)})}const Rt=w=>new Promise((C,a)=>{const i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return a("not a valid JPEG");for(u+=2;;){const f=t.getUint16(u);if(f===65498)break;const m=t.getUint16(u+2);if(f===65505&&t.getUint32(u+4)===1165519206){const E=u+10;let n;switch(t.getUint16(E)){case 18761:n=!0;break;case 19789:n=!1;break;default:return a("TIFF header contains invalid endian")}if(t.getUint16(E+2,n)!==42)return a("TIFF header contains invalid version");const o=t.getUint32(E+4,n),r=E+o+2+12*t.getUint16(E+o,n);for(let c=E+o+2;c<r;c+=12)if(t.getUint16(c,n)==274){if(t.getUint16(c+2,n)!==3)return a("Orientation data type is invalid");if(t.getUint32(c+4,n)!==1)return a("Orientation data count is invalid");t.setUint16(c+8,1,n);break}return C(e.slice(u,u+2+m))}u+=2+m}return C(new Blob)}),i.readAsArrayBuffer(w)});var He={},Ot={get exports(){return He},set exports(w){He=w}};(function(w){var C,a,i={};Ot.exports=i,i.parse=function(e,t){for(var u=i.bin.readUshort,f=i.bin.readUint,m=0,E={},n=new Uint8Array(e),o=n.length-4;f(n,o)!=101010256;)o--;m=o,m+=4;var r=u(n,m+=4);u(n,m+=2);var c=f(n,m+=2),g=f(n,m+=4);m+=4,m=g;for(var S=0;S<r;S++){f(n,m),m+=4,m+=4,m+=4,f(n,m+=4),c=f(n,m+=4);var T=f(n,m+=4),v=u(n,m+=4),P=u(n,m+2),R=u(n,m+4);m+=6;var F=f(n,m+=8);m+=4,m+=v+P+R,i._readLocal(n,F,E,c,T,t)}return E},i._readLocal=function(e,t,u,f,m,E){var n=i.bin.readUshort,o=i.bin.readUint;o(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var c=n(e,t+=8),g=n(e,t+=2);t+=2;var S=i.bin.readUTF8(e,t,c);if(t+=c,t+=g,E)u[S]={size:m,csize:f};else{var T=new Uint8Array(e.buffer,t);if(r==0)u[S]=new Uint8Array(T.buffer.slice(t,t+f));else{if(r!=8)throw"unknown compression method: "+r;var v=new Uint8Array(m);i.inflateRaw(T,v),u[S]=v}}},i.inflateRaw=function(e,t){return i.F.inflate(e,t)},i.inflate=function(e,t){return e[0],e[1],i.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},i.deflate=function(e,t){t==null&&(t={level:6});var u=0,f=new Uint8Array(50+Math.floor(1.1*e.length));f[u]=120,f[u+1]=156,u+=2,u=i.F.deflateRaw(e,f,u,t.level);var m=i.adler(e,0,e.length);return f[u+0]=m>>>24&255,f[u+1]=m>>>16&255,f[u+2]=m>>>8&255,f[u+3]=m>>>0&255,new Uint8Array(f.buffer,0,u+4)},i.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),f=i.F.deflateRaw(e,u,f,t.level);return new Uint8Array(u.buffer,0,f)},i.encode=function(e,t){t==null&&(t=!1);var u=0,f=i.bin.writeUint,m=i.bin.writeUshort,E={};for(var n in e){var o=!i._noNeed(n)&&!t,r=e[n],c=i.crc.crc(r,0,r.length);E[n]={cpr:o,usize:r.length,crc:c,file:o?i.deflateRaw(r):r}}for(var n in E)u+=E[n].file.length+30+46+2*i.bin.sizeUTF8(n);u+=22;var g=new Uint8Array(u),S=0,T=[];for(var n in E){var v=E[n];T.push(S),S=i._writeHeader(g,S,n,v,0)}var P=0,R=S;for(var n in E)v=E[n],T.push(S),S=i._writeHeader(g,S,n,v,1,T[P++]);var F=S-R;return f(g,S,101010256),S+=4,m(g,S+=4,P),m(g,S+=2,P),f(g,S+=2,F),f(g,S+=4,R),S+=4,S+=2,g.buffer},i._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},i._writeHeader=function(e,t,u,f,m,E){var n=i.bin.writeUint,o=i.bin.writeUshort,r=f.file;return n(e,t,m==0?67324752:33639248),t+=4,m==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,f.cpr?8:0),n(e,t+=2,0),n(e,t+=4,f.crc),n(e,t+=4,r.length),n(e,t+=4,f.usize),o(e,t+=4,i.bin.sizeUTF8(u)),o(e,t+=2,0),t+=2,m==1&&(t+=2,t+=2,n(e,t+=6,E),t+=4),t+=i.bin.writeUTF8(e,t,u),m==0&&(e.set(r,t),t+=r.length),t},i.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,f=0;f<8;f++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e}(),update:function(e,t,u,f){for(var m=0;m<f;m++)e=i.crc.table[255&(e^t[u+m])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^i.crc.update(4294967295,e,t,u)}},i.adler=function(e,t,u){for(var f=1,m=0,E=t,n=t+u;E<n;){for(var o=Math.min(E+5552,n);E<o;)m+=f+=e[E++];f%=65521,m%=65521}return m<<16|f},i.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var f="",m=0;m<u;m++)f+=String.fromCharCode(e[t+m]);return f},writeASCII:function(e,t,u){for(var f=0;f<u.length;f++)e[t+f]=u.charCodeAt(f)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var f,m="",E=0;E<u;E++)m+="%"+i.bin.pad(e[t+E].toString(16));try{f=decodeURIComponent(m)}catch{return i.bin.readASCII(e,t,u)}return f},writeUTF8:function(e,t,u){for(var f=u.length,m=0,E=0;E<f;E++){var n=u.charCodeAt(E);if(!(4294967168&n))e[t+m]=n,m++;else if(!(4294965248&n))e[t+m]=192|n>>6,e[t+m+1]=128|n>>0&63,m+=2;else if(!(4294901760&n))e[t+m]=224|n>>12,e[t+m+1]=128|n>>6&63,e[t+m+2]=128|n>>0&63,m+=3;else{if(4292870144&n)throw"e";e[t+m]=240|n>>18,e[t+m+1]=128|n>>12&63,e[t+m+2]=128|n>>6&63,e[t+m+3]=128|n>>0&63,m+=4}}return m},sizeUTF8:function(e){for(var t=e.length,u=0,f=0;f<t;f++){var m=e.charCodeAt(f);if(!(4294967168&m))u++;else if(!(4294965248&m))u+=2;else if(!(4294901760&m))u+=3;else{if(4292870144&m)throw"e";u+=4}}return u}},i.F={},i.F.deflateRaw=function(e,t,u,f){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],E=i.F.U,n=i.F._goodIndex;i.F._hash;var o=i.F._putsE,r=0,c=u<<3,g=0,S=e.length;if(f==0){for(;r<S;)o(t,c,r+(I=Math.min(65535,S-r))==S?1:0),c=i.F._copyExact(e,r,I,t,c+8),r+=I;return c>>>3}var T=E.lits,v=E.strt,P=E.prev,R=0,F=0,j=0,p=0,N=0,d=0;for(S>2&&(v[d=i.F._hash(e,0)]=0),r=0;r<S;r++){if(N=d,r+1<S-2){d=i.F._hash(e,r+1);var l=r+1&32767;P[l]=v[d],v[d]=l}if(g<=r){(R>14e3||F>26697)&&S-r>100&&(g<r&&(T[R]=r-g,R+=2,g=r),c=i.F._writeBlock(r==S-1||g==S?1:0,T,R,p,e,j,r-j,t,c),R=F=p=0,j=r);var A=0;r<S-2&&(A=i.F._bestMatch(e,r,P,N,Math.min(m[2],S-r),m[3]));var I=A>>>16,b=65535&A;if(A!=0){b=65535&A;var _=n(I=A>>>16,E.of0);E.lhst[257+_]++;var y=n(b,E.df0);E.dhst[y]++,p+=E.exb[_]+E.dxb[y],T[R]=I<<23|r-g,T[R+1]=b<<16|_<<8|y,R+=2,g=r+I}else E.lhst[e[r]]++;F++}}for(j==r&&e.length!=0||(g<r&&(T[R]=r-g,R+=2,g=r),c=i.F._writeBlock(1,T,R,p,e,j,r-j,t,c),R=0,F=0,R=F=p=0,j=r);7&c;)c++;return c>>>3},i.F._bestMatch=function(e,t,u,f,m,E){var n=32767&t,o=u[n],r=n-o+32768&32767;if(o==n||f!=i.F._hash(e,t-r))return 0;for(var c=0,g=0,S=Math.min(32767,t);r<=S&&--E!=0&&o!=n;){if(c==0||e[t+c]==e[t+c-r]){var T=i.F._howLong(e,t,r);if(T>c){if(g=r,(c=T)>=m)break;r+2<T&&(T=r+2);for(var v=0,P=0;P<T-2;P++){var R=t-r+P+32768&32767,F=R-u[R]+32768&32767;F>v&&(v=F,o=R)}}}r+=(n=o)-(o=u[n])+32768&32767}return c<<16|g},i.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var f=t,m=Math.min(e.length,t+258);for(t+=3;t<m&&e[t]==e[t-u];)t++;return t-f},i.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(e,t,u,f,m,E,n,o,r){var c,g,S,T,v,P,R,F,j,p=i.F.U,N=i.F._putsF,d=i.F._putsE;p.lhst[256]++,g=(c=i.F.getTrees())[0],S=c[1],T=c[2],v=c[3],P=c[4],R=c[5],F=c[6],j=c[7];var l=32+(r+3&7?8-(r+3&7):0)+(n<<3),A=f+i.F.contSize(p.fltree,p.lhst)+i.F.contSize(p.fdtree,p.dhst),I=f+i.F.contSize(p.ltree,p.lhst)+i.F.contSize(p.dtree,p.dhst);I+=14+3*R+i.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var b=0;b<286;b++)p.lhst[b]=0;for(b=0;b<30;b++)p.dhst[b]=0;for(b=0;b<19;b++)p.ihst[b]=0;var _=l<A&&l<I?0:A<I?1:2;if(N(o,r,e),N(o,r+1,_),r+=3,_==0){for(;7&r;)r++;r=i.F._copyExact(m,E,n,o,r)}else{var y,x;if(_==1&&(y=p.fltree,x=p.fdtree),_==2){i.F.makeCodes(p.ltree,g),i.F.revCodes(p.ltree,g),i.F.makeCodes(p.dtree,S),i.F.revCodes(p.dtree,S),i.F.makeCodes(p.itree,T),i.F.revCodes(p.itree,T),y=p.ltree,x=p.dtree,d(o,r,v-257),d(o,r+=5,P-1),d(o,r+=5,R-4),r+=4;for(var h=0;h<R;h++)d(o,r+3*h,p.itree[1+(p.ordr[h]<<1)]);r+=3*R,r=i.F._codeTiny(F,p.itree,o,r),r=i.F._codeTiny(j,p.itree,o,r)}for(var s=E,O=0;O<u;O+=2){for(var U=t[O],L=U>>>23,q=s+(8388607&U);s<q;)r=i.F._writeLit(m[s++],y,o,r);if(L!=0){var z=t[O+1],H=z>>16,D=z>>8&255,M=255&z;d(o,r=i.F._writeLit(257+D,y,o,r),L-p.of0[D]),r+=p.exb[D],N(o,r=i.F._writeLit(M,x,o,r),H-p.df0[M]),r+=p.dxb[M],s+=L}}r=i.F._writeLit(256,y,o,r)}return r},i.F._copyExact=function(e,t,u,f,m){var E=m>>>3;return f[E]=u,f[E+1]=u>>>8,f[E+2]=255-f[E],f[E+3]=255-f[E+1],E+=4,f.set(new Uint8Array(e.buffer,t,u),E),m+(u+4<<3)},i.F.getTrees=function(){for(var e=i.F.U,t=i.F._hufTree(e.lhst,e.ltree,15),u=i.F._hufTree(e.dhst,e.dtree,15),f=[],m=i.F._lenCodes(e.ltree,f),E=[],n=i.F._lenCodes(e.dtree,E),o=0;o<f.length;o+=2)e.ihst[f[o]]++;for(o=0;o<E.length;o+=2)e.ihst[E[o]]++;for(var r=i.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&e.itree[1+(e.ordr[c-1]<<1)]==0;)c--;return[t,u,r,m,n,c,f,E]},i.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},i.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},i.F.contSize=function(e,t){for(var u=0,f=0;f<t.length;f++)u+=t[f]*e[1+(f<<1)];return u},i.F._codeTiny=function(e,t,u,f){for(var m=0;m<e.length;m+=2){var E=e[m],n=e[m+1];f=i.F._writeLit(E,t,u,f);var o=E==16?2:E==17?3:7;E>15&&(i.F._putsE(u,f,n,o),f+=o)}return f},i.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var f=0;f<u;f+=2){var m=e[f+1],E=f+3<u?e[f+3]:-1,n=f+5<u?e[f+5]:-1,o=f==0?-1:e[f-1];if(m==0&&E==m&&n==m){for(var r=f+5;r+2<u&&e[r+2]==m;)r+=2;(c=Math.min(r+1-f>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),f+=2*c-2}else if(m==o&&E==m&&n==m){for(r=f+5;r+2<u&&e[r+2]==m;)r+=2;var c=Math.min(r+1-f>>>1,6);t.push(16,c-3),f+=2*c-2}else t.push(m,0)}return u>>>1},i.F._hufTree=function(e,t,u){var f=[],m=e.length,E=t.length,n=0;for(n=0;n<E;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<m;n++)e[n]!=0&&f.push({lit:n,f:e[n]});var o=f.length,r=f.slice(0);if(o==0)return 0;if(o==1){var c=f[0].lit;return r=c==0?1:0,t[1+(c<<1)]=1,t[1+(r<<1)]=1,1}f.sort(function(F,j){return F.f-j.f});var g=f[0],S=f[1],T=0,v=1,P=2;for(f[0]={lit:-1,f:g.f+S.f,l:g,r:S,d:0};v!=o-1;)g=T!=v&&(P==o||f[T].f<f[P].f)?f[T++]:f[P++],S=T!=v&&(P==o||f[T].f<f[P].f)?f[T++]:f[P++],f[v++]={lit:-1,f:g.f+S.f,l:g,r:S};var R=i.F.setDepth(f[v-1],0);for(R>u&&(i.F.restrictDepth(r,u,R),R=u),n=0;n<o;n++)t[1+(r[n].lit<<1)]=r[n].d;return R},i.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(i.F.setDepth(e.l,t+1),i.F.setDepth(e.r,t+1))},i.F.restrictDepth=function(e,t,u){var f=0,m=1<<u-t,E=0;for(e.sort(function(o,r){return r.d==o.d?o.f-r.f:r.d-o.d}),f=0;f<e.length&&e[f].d>t;f++){var n=e[f].d;e[f].d=t,E+=m-(1<<u-n)}for(E>>>=u-t;E>0;)(n=e[f].d)<t?(e[f].d++,E-=1<<t-n-1):f++;for(;f>=0;f--)e[f].d==t&&E<0&&(e[f].d--,E++);E!=0&&console.log("debt left")},i.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},i.F._writeLit=function(e,t,u,f){return i.F._putsF(u,f,t[e<<1]),f+t[1+(e<<1)]},i.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var f=i.F,m=f._bitsF,E=f._bitsE,n=f._decodeTiny,o=f.makeCodes,r=f.codes2map,c=f._get17,g=f.U,S=t==null;S&&(t=new u(e.length>>>2<<3));for(var T,v,P=0,R=0,F=0,j=0,p=0,N=0,d=0,l=0,A=0;P==0;)if(P=m(e,A,1),R=m(e,A+1,2),A+=3,R!=0){if(S&&(t=i.F._check(t,l+(1<<17))),R==1&&(T=g.flmap,v=g.fdmap,N=511,d=31),R==2){F=E(e,A,5)+257,j=E(e,A+5,5)+1,p=E(e,A+10,4)+4,A+=14;for(var I=0;I<38;I+=2)g.itree[I]=0,g.itree[I+1]=0;var b=1;for(I=0;I<p;I++){var _=E(e,A+3*I,3);g.itree[1+(g.ordr[I]<<1)]=_,_>b&&(b=_)}A+=3*p,o(g.itree,b),r(g.itree,b,g.imap),T=g.lmap,v=g.dmap,A=n(g.imap,(1<<b)-1,F+j,e,A,g.ttree);var y=f._copyOut(g.ttree,0,F,g.ltree);N=(1<<y)-1;var x=f._copyOut(g.ttree,F,j,g.dtree);d=(1<<x)-1,o(g.ltree,y),r(g.ltree,y,T),o(g.dtree,x),r(g.dtree,x,v)}for(;;){var h=T[c(e,A)&N];A+=15&h;var s=h>>>4;if(!(s>>>8))t[l++]=s;else{if(s==256)break;var O=l+s-254;if(s>264){var U=g.ldef[s-257];O=l+(U>>>3)+E(e,A,7&U),A+=7&U}var L=v[c(e,A)&d];A+=15&L;var q=L>>>4,z=g.ddef[q],H=(z>>>4)+m(e,A,15&z);for(A+=15&z,S&&(t=i.F._check(t,l+(1<<17)));l<O;)t[l]=t[l++-H],t[l]=t[l++-H],t[l]=t[l++-H],t[l]=t[l++-H];l=O}}}else{7&A&&(A+=8-(7&A));var D=4+(A>>>3),M=e[D-4]|e[D-3]<<8;S&&(t=i.F._check(t,l+M)),t.set(new u(e.buffer,e.byteOffset+D,M),l),A=D+M<<3,l+=M}return t.length==l?t:t.slice(0,l)},i.F._check=function(e,t){var u=e.length;if(t<=u)return e;var f=new Uint8Array(Math.max(u<<1,t));return f.set(e,0),f},i.F._decodeTiny=function(e,t,u,f,m,E){for(var n=i.F._bitsE,o=i.F._get17,r=0;r<u;){var c=e[o(f,m)&t];m+=15&c;var g=c>>>4;if(g<=15)E[r]=g,r++;else{var S=0,T=0;g==16?(T=3+n(f,m,2),m+=2,S=E[r-1]):g==17?(T=3+n(f,m,3),m+=3):g==18&&(T=11+n(f,m,7),m+=7);for(var v=r+T;r<v;)E[r]=S,r++}}return m},i.F._copyOut=function(e,t,u,f){for(var m=0,E=0,n=f.length>>>1;E<u;){var o=e[E+t];f[E<<1]=0,f[1+(E<<1)]=o,o>m&&(m=o),E++}for(;E<n;)f[E<<1]=0,f[1+(E<<1)]=0,E++;return m},i.F.makeCodes=function(e,t){for(var u,f,m,E,n=i.F.U,o=e.length,r=n.bl_count,c=0;c<=t;c++)r[c]=0;for(c=1;c<o;c+=2)r[e[c]]++;var g=n.next_code;for(u=0,r[0]=0,f=1;f<=t;f++)u=u+r[f-1]<<1,g[f]=u;for(m=0;m<o;m+=2)(E=e[m+1])!=0&&(e[m]=g[E],g[E]++)},i.F.codes2map=function(e,t,u){for(var f=e.length,m=i.F.U.rev15,E=0;E<f;E+=2)if(e[E+1]!=0)for(var n=E>>1,o=e[E+1],r=n<<4|o,c=t-o,g=e[E]<<c,S=g+(1<<c);g!=S;)u[m[g]>>>15-t]=r,g++},i.F.revCodes=function(e,t){for(var u=i.F.U.rev15,f=15-t,m=0;m<e.length;m+=2){var E=e[m]<<t-e[m+1];e[m]=u[E]>>>f}},i.F._putsE=function(e,t,u){u<<=7&t;var f=t>>>3;e[f]|=u,e[f+1]|=u>>>8},i.F._putsF=function(e,t,u){u<<=7&t;var f=t>>>3;e[f]|=u,e[f+1]|=u>>>8,e[f+2]|=u>>>16},i.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},i.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},i.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},i.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},i.F.U=(C=Uint16Array,a=Uint32Array,{next_code:new C(16),bl_count:new C(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new C(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new a(32),flmap:new C(512),fltree:[],fdmap:new C(32),fdtree:[],lmap:new C(32768),ltree:[],ttree:[],dmap:new C(32768),dtree:[],imap:new C(512),itree:[],rev15:new C(32768),lhst:new a(286),dhst:new a(30),ihst:new a(19),lits:new a(15e3),strt:new C(65536),prev:new C(32768)}),function(){for(var e=i.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function f(m,E,n){for(;E--!=0;)m.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];f(e.fltree,144,8),f(e.fltree,112,9),f(e.fltree,24,7),f(e.fltree,8,8),i.F.makeCodes(e.fltree,9),i.F.codes2map(e.fltree,9,e.flmap),i.F.revCodes(e.fltree,9),f(e.fdtree,32,5),i.F.makeCodes(e.fdtree,5),i.F.codes2map(e.fdtree,5,e.fdmap),i.F.revCodes(e.fdtree,5),f(e.itree,19,0),f(e.ltree,286,0),f(e.dtree,30,0),f(e.ttree,320,0)}()})();var jt=Nt({__proto__:null,default:He},[He]);const ve=function(){var w={nextZero(n,o){for(;n[o]!=0;)o++;return o},readUshort:(n,o)=>n[o]<<8|n[o+1],writeUshort(n,o,r){n[o]=r>>8&255,n[o+1]=255&r},readUint:(n,o)=>16777216*n[o]+(n[o+1]<<16|n[o+2]<<8|n[o+3]),writeUint(n,o,r){n[o]=r>>24&255,n[o+1]=r>>16&255,n[o+2]=r>>8&255,n[o+3]=255&r},readASCII(n,o,r){let c="";for(let g=0;g<r;g++)c+=String.fromCharCode(n[o+g]);return c},writeASCII(n,o,r){for(let c=0;c<r.length;c++)n[o+c]=r.charCodeAt(c)},readBytes(n,o,r){const c=[];for(let g=0;g<r;g++)c.push(n[o+g]);return c},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,o,r){let c,g="";for(let S=0;S<r;S++)g+=`%${w.pad(n[o+S].toString(16))}`;try{c=decodeURIComponent(g)}catch{return w.readASCII(n,o,r)}return c}};function C(n,o,r,c){const g=o*r,S=t(c),T=Math.ceil(o*S/8),v=new Uint8Array(4*g),P=new Uint32Array(v.buffer),{ctype:R}=c,{depth:F}=c,j=w.readUshort;if(R==6){const U=g<<2;if(F==8)for(var p=0;p<U;p+=4)v[p]=n[p],v[p+1]=n[p+1],v[p+2]=n[p+2],v[p+3]=n[p+3];if(F==16)for(p=0;p<U;p++)v[p]=n[p<<1]}else if(R==2){const U=c.tabs.tRNS;if(U==null){if(F==8)for(p=0;p<g;p++){var N=3*p;P[p]=255<<24|n[N+2]<<16|n[N+1]<<8|n[N]}if(F==16)for(p=0;p<g;p++)N=6*p,P[p]=255<<24|n[N+4]<<16|n[N+2]<<8|n[N]}else{var d=U[0];const L=U[1],q=U[2];if(F==8)for(p=0;p<g;p++){var l=p<<2;N=3*p,P[p]=255<<24|n[N+2]<<16|n[N+1]<<8|n[N],n[N]==d&&n[N+1]==L&&n[N+2]==q&&(v[l+3]=0)}if(F==16)for(p=0;p<g;p++)l=p<<2,N=6*p,P[p]=255<<24|n[N+4]<<16|n[N+2]<<8|n[N],j(n,N)==d&&j(n,N+2)==L&&j(n,N+4)==q&&(v[l+3]=0)}}else if(R==3){const U=c.tabs.PLTE,L=c.tabs.tRNS,q=L?L.length:0;if(F==1)for(var A=0;A<r;A++){var I=A*T,b=A*o;for(p=0;p<o;p++){l=b+p<<2;var _=3*(y=n[I+(p>>3)]>>7-((7&p)<<0)&1);v[l]=U[_],v[l+1]=U[_+1],v[l+2]=U[_+2],v[l+3]=y<q?L[y]:255}}if(F==2)for(A=0;A<r;A++)for(I=A*T,b=A*o,p=0;p<o;p++)l=b+p<<2,_=3*(y=n[I+(p>>2)]>>6-((3&p)<<1)&3),v[l]=U[_],v[l+1]=U[_+1],v[l+2]=U[_+2],v[l+3]=y<q?L[y]:255;if(F==4)for(A=0;A<r;A++)for(I=A*T,b=A*o,p=0;p<o;p++)l=b+p<<2,_=3*(y=n[I+(p>>1)]>>4-((1&p)<<2)&15),v[l]=U[_],v[l+1]=U[_+1],v[l+2]=U[_+2],v[l+3]=y<q?L[y]:255;if(F==8)for(p=0;p<g;p++){var y;l=p<<2,_=3*(y=n[p]),v[l]=U[_],v[l+1]=U[_+1],v[l+2]=U[_+2],v[l+3]=y<q?L[y]:255}}else if(R==4){if(F==8)for(p=0;p<g;p++){l=p<<2;var x=n[h=p<<1];v[l]=x,v[l+1]=x,v[l+2]=x,v[l+3]=n[h+1]}if(F==16)for(p=0;p<g;p++){var h;l=p<<2,x=n[h=p<<2],v[l]=x,v[l+1]=x,v[l+2]=x,v[l+3]=n[h+2]}}else if(R==0)for(d=c.tabs.tRNS?c.tabs.tRNS:-1,A=0;A<r;A++){const U=A*T,L=A*o;if(F==1)for(var s=0;s<o;s++){var O=(x=255*(n[U+(s>>>3)]>>>7-(7&s)&1))==255*d?0:255;P[L+s]=O<<24|x<<16|x<<8|x}else if(F==2)for(s=0;s<o;s++)O=(x=85*(n[U+(s>>>2)]>>>6-((3&s)<<1)&3))==85*d?0:255,P[L+s]=O<<24|x<<16|x<<8|x;else if(F==4)for(s=0;s<o;s++)O=(x=17*(n[U+(s>>>1)]>>>4-((1&s)<<2)&15))==17*d?0:255,P[L+s]=O<<24|x<<16|x<<8|x;else if(F==8)for(s=0;s<o;s++)O=(x=n[U+s])==d?0:255,P[L+s]=O<<24|x<<16|x<<8|x;else if(F==16)for(s=0;s<o;s++)x=n[U+(s<<1)],O=j(n,U+(s<<1))==d?0:255,P[L+s]=O<<24|x<<16|x<<8|x}return v}function a(n,o,r,c){const g=t(n),S=Math.ceil(r*g/8),T=new Uint8Array((S+1+n.interlace)*c);return o=n.tabs.CgBI?e(o,T):i(o,T),n.interlace==0?o=u(o,n,0,r,c):n.interlace==1&&(o=function(P,R){const F=R.width,j=R.height,p=t(R),N=p>>3,d=Math.ceil(F*p/8),l=new Uint8Array(j*d);let A=0;const I=[0,0,4,0,2,0,1],b=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],y=[8,8,4,4,2,2,1];let x=0;for(;x<7;){const s=_[x],O=y[x];let U=0,L=0,q=I[x];for(;q<j;)q+=s,L++;let z=b[x];for(;z<F;)z+=O,U++;const H=Math.ceil(U*p/8);u(P,R,A,U,L);let D=0,M=I[x];for(;M<j;){let Q=b[x],$=A+D*H<<3;for(;Q<F;){var h;if(p==1&&(h=(h=P[$>>3])>>7-(7&$)&1,l[M*d+(Q>>3)]|=h<<7-((7&Q)<<0)),p==2&&(h=(h=P[$>>3])>>6-(7&$)&3,l[M*d+(Q>>2)]|=h<<6-((3&Q)<<1)),p==4&&(h=(h=P[$>>3])>>4-(7&$)&15,l[M*d+(Q>>1)]|=h<<4-((1&Q)<<2)),p>=8){const B=M*d+Q*N;for(let k=0;k<N;k++)l[B+k]=P[($>>3)+k]}$+=p,Q+=O}D++,M+=s}U*L!=0&&(A+=L*(1+H)),x+=1}return l}(o,n)),o}function i(n,o){return e(new Uint8Array(n.buffer,2,n.length-6),o)}var e=function(){const n={H:{}};return n.H.N=function(o,r){const c=Uint8Array;let g,S,T=0,v=0,P=0,R=0,F=0,j=0,p=0,N=0,d=0;if(o[0]==3&&o[1]==0)return r||new c(0);const l=n.H,A=l.b,I=l.e,b=l.R,_=l.n,y=l.A,x=l.Z,h=l.m,s=r==null;for(s&&(r=new c(o.length>>>2<<5));T==0;)if(T=A(o,d,1),v=A(o,d+1,2),d+=3,v!=0){if(s&&(r=n.H.W(r,N+(1<<17))),v==1&&(g=h.J,S=h.h,j=511,p=31),v==2){P=I(o,d,5)+257,R=I(o,d+5,5)+1,F=I(o,d+10,4)+4,d+=14;let U=1;for(var O=0;O<38;O+=2)h.Q[O]=0,h.Q[O+1]=0;for(O=0;O<F;O++){const z=I(o,d+3*O,3);h.Q[1+(h.X[O]<<1)]=z,z>U&&(U=z)}d+=3*F,_(h.Q,U),y(h.Q,U,h.u),g=h.w,S=h.d,d=b(h.u,(1<<U)-1,P+R,o,d,h.v);const L=l.V(h.v,0,P,h.C);j=(1<<L)-1;const q=l.V(h.v,P,R,h.D);p=(1<<q)-1,_(h.C,L),y(h.C,L,g),_(h.D,q),y(h.D,q,S)}for(;;){const U=g[x(o,d)&j];d+=15&U;const L=U>>>4;if(!(L>>>8))r[N++]=L;else{if(L==256)break;{let q=N+L-254;if(L>264){const Q=h.q[L-257];q=N+(Q>>>3)+I(o,d,7&Q),d+=7&Q}const z=S[x(o,d)&p];d+=15&z;const H=z>>>4,D=h.c[H],M=(D>>>4)+A(o,d,15&D);for(d+=15&D;N<q;)r[N]=r[N++-M],r[N]=r[N++-M],r[N]=r[N++-M],r[N]=r[N++-M];N=q}}}}else{7&d&&(d+=8-(7&d));const U=4+(d>>>3),L=o[U-4]|o[U-3]<<8;s&&(r=n.H.W(r,N+L)),r.set(new c(o.buffer,o.byteOffset+U,L),N),d=U+L<<3,N+=L}return r.length==N?r:r.slice(0,N)},n.H.W=function(o,r){const c=o.length;if(r<=c)return o;const g=new Uint8Array(c<<1);return g.set(o,0),g},n.H.R=function(o,r,c,g,S,T){const v=n.H.e,P=n.H.Z;let R=0;for(;R<c;){const F=o[P(g,S)&r];S+=15&F;const j=F>>>4;if(j<=15)T[R]=j,R++;else{let p=0,N=0;j==16?(N=3+v(g,S,2),S+=2,p=T[R-1]):j==17?(N=3+v(g,S,3),S+=3):j==18&&(N=11+v(g,S,7),S+=7);const d=R+N;for(;R<d;)T[R]=p,R++}}return S},n.H.V=function(o,r,c,g){let S=0,T=0;const v=g.length>>>1;for(;T<c;){const P=o[T+r];g[T<<1]=0,g[1+(T<<1)]=P,P>S&&(S=P),T++}for(;T<v;)g[T<<1]=0,g[1+(T<<1)]=0,T++;return S},n.H.n=function(o,r){const c=n.H.m,g=o.length;let S,T,v,P;const R=c.j;for(var F=0;F<=r;F++)R[F]=0;for(F=1;F<g;F+=2)R[o[F]]++;const j=c.K;for(S=0,R[0]=0,T=1;T<=r;T++)S=S+R[T-1]<<1,j[T]=S;for(v=0;v<g;v+=2)P=o[v+1],P!=0&&(o[v]=j[P],j[P]++)},n.H.A=function(o,r,c){const g=o.length,S=n.H.m.r;for(let T=0;T<g;T+=2)if(o[T+1]!=0){const v=T>>1,P=o[T+1],R=v<<4|P,F=r-P;let j=o[T]<<F;const p=j+(1<<F);for(;j!=p;)c[S[j]>>>15-r]=R,j++}},n.H.l=function(o,r){const c=n.H.m.r,g=15-r;for(let S=0;S<o.length;S+=2){const T=o[S]<<r-o[S+1];o[S]=c[T]>>>g}},n.H.M=function(o,r,c){c<<=7&r;const g=r>>>3;o[g]|=c,o[g+1]|=c>>>8},n.H.I=function(o,r,c){c<<=7&r;const g=r>>>3;o[g]|=c,o[g+1]|=c>>>8,o[g+2]|=c>>>16},n.H.e=function(o,r,c){return(o[r>>>3]|o[1+(r>>>3)]<<8)>>>(7&r)&(1<<c)-1},n.H.b=function(o,r,c){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16)>>>(7&r)&(1<<c)-1},n.H.Z=function(o,r){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(o,r){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16|o[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=function(){const o=Uint16Array,r=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=n.H.m;for(var r=0;r<32768;r++){let g=r;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,o.r[r]=(g>>>16|g<<16)>>>17}function c(g,S,T){for(;S--!=0;)g.push(0,T)}for(r=0;r<32;r++)o.q[r]=o.S[r]<<3|o.T[r],o.c[r]=o.p[r]<<4|o.z[r];c(o._,144,8),c(o._,112,9),c(o._,24,7),c(o._,8,8),n.H.n(o._,9),n.H.A(o._,9,o.J),n.H.l(o._,9),c(o.$,32,5),n.H.n(o.$,5),n.H.A(o.$,5,o.h),n.H.l(o.$,5),c(o.Q,19,0),c(o.C,286,0),c(o.D,30,0),c(o.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function u(n,o,r,c,g){let S=t(o);const T=Math.ceil(c*S/8);let v,P;S=Math.ceil(S/8);let R=n[r],F=0;if(R>1&&(n[r]=[0,0,1][R-2]),R==3)for(F=S;F<T;F++)n[F+1]=n[F+1]+(n[F+1-S]>>>1)&255;for(let j=0;j<g;j++)if(v=r+j*T,P=v+j+1,R=n[P-1],F=0,R==0)for(;F<T;F++)n[v+F]=n[P+F];else if(R==1){for(;F<S;F++)n[v+F]=n[P+F];for(;F<T;F++)n[v+F]=n[P+F]+n[v+F-S]}else if(R==2)for(;F<T;F++)n[v+F]=n[P+F]+n[v+F-T];else if(R==3){for(;F<S;F++)n[v+F]=n[P+F]+(n[v+F-T]>>>1);for(;F<T;F++)n[v+F]=n[P+F]+(n[v+F-T]+n[v+F-S]>>>1)}else{for(;F<S;F++)n[v+F]=n[P+F]+f(0,n[v+F-T],0);for(;F<T;F++)n[v+F]=n[P+F]+f(n[v+F-S],n[v+F-T],n[v+F-S-T])}return n}function f(n,o,r){const c=n+o-r,g=c-n,S=c-o,T=c-r;return g*g<=S*S&&g*g<=T*T?n:S*S<=T*T?o:r}function m(n,o,r){r.width=w.readUint(n,o),o+=4,r.height=w.readUint(n,o),o+=4,r.depth=n[o],o++,r.ctype=n[o],o++,r.compress=n[o],o++,r.filter=n[o],o++,r.interlace=n[o],o++}function E(n,o,r,c,g,S,T,v,P){const R=Math.min(o,g),F=Math.min(r,S);let j=0,p=0;for(let x=0;x<F;x++)for(let h=0;h<R;h++)if(T>=0&&v>=0?(j=x*o+h<<2,p=(v+x)*g+T+h<<2):(j=(-v+x)*o-T+h<<2,p=x*g+h<<2),P==0)c[p]=n[j],c[p+1]=n[j+1],c[p+2]=n[j+2],c[p+3]=n[j+3];else if(P==1){var N=n[j+3]*.00392156862745098,d=n[j]*N,l=n[j+1]*N,A=n[j+2]*N,I=c[p+3]*(1/255),b=c[p]*I,_=c[p+1]*I,y=c[p+2]*I;const s=1-N,O=N+I*s,U=O==0?0:1/O;c[p+3]=255*O,c[p+0]=(d+b*s)*U,c[p+1]=(l+_*s)*U,c[p+2]=(A+y*s)*U}else if(P==2)N=n[j+3],d=n[j],l=n[j+1],A=n[j+2],I=c[p+3],b=c[p],_=c[p+1],y=c[p+2],N==I&&d==b&&l==_&&A==y?(c[p]=0,c[p+1]=0,c[p+2]=0,c[p+3]=0):(c[p]=d,c[p+1]=l,c[p+2]=A,c[p+3]=N);else if(P==3){if(N=n[j+3],d=n[j],l=n[j+1],A=n[j+2],I=c[p+3],b=c[p],_=c[p+1],y=c[p+2],N==I&&d==b&&l==_&&A==y)continue;if(N<220&&I>20)return!1}return!0}return{decode:function(o){const r=new Uint8Array(o);let c=8;const g=w,S=g.readUshort,T=g.readUint,v={tabs:{},frames:[]},P=new Uint8Array(r.length);let R,F=0,j=0;const p=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(r[N]!=p[N])throw"The input is not a PNG file!";for(;c<r.length;){const x=g.readUint(r,c);c+=4;const h=g.readASCII(r,c,4);if(c+=4,h=="IHDR")m(r,c,v);else if(h=="iCCP"){for(var d=c;r[d]!=0;)d++;g.readASCII(r,c,d-c),r[d+1];const s=r.slice(d+2,c+x);let O=null;try{O=i(s)}catch{O=e(s)}v.tabs[h]=O}else if(h=="CgBI")v.tabs[h]=r.slice(c,c+4);else if(h=="IDAT"){for(N=0;N<x;N++)P[F+N]=r[c+N];F+=x}else if(h=="acTL")v.tabs[h]={num_frames:T(r,c),num_plays:T(r,c+4)},R=new Uint8Array(r.length);else if(h=="fcTL"){j!=0&&((y=v.frames[v.frames.length-1]).data=a(v,R.slice(0,j),y.rect.width,y.rect.height),j=0);const s={x:T(r,c+12),y:T(r,c+16),width:T(r,c+4),height:T(r,c+8)};let O=S(r,c+22);O=S(r,c+20)/(O==0?100:O);const U={rect:s,delay:Math.round(1e3*O),dispose:r[c+24],blend:r[c+25]};v.frames.push(U)}else if(h=="fdAT"){for(N=0;N<x-4;N++)R[j+N]=r[c+N+4];j+=x-4}else if(h=="pHYs")v.tabs[h]=[g.readUint(r,c),g.readUint(r,c+4),r[c+8]];else if(h=="cHRM")for(v.tabs[h]=[],N=0;N<8;N++)v.tabs[h].push(g.readUint(r,c+4*N));else if(h=="tEXt"||h=="zTXt"){v.tabs[h]==null&&(v.tabs[h]={});var l=g.nextZero(r,c),A=g.readASCII(r,c,l-c),I=c+x-l-1;if(h=="tEXt")_=g.readASCII(r,l+1,I);else{var b=i(r.slice(l+2,l+2+I));_=g.readUTF8(b,0,b.length)}v.tabs[h][A]=_}else if(h=="iTXt"){v.tabs[h]==null&&(v.tabs[h]={}),l=0,d=c,l=g.nextZero(r,d),A=g.readASCII(r,d,l-d);const s=r[d=l+1];var _;r[d+1],d+=2,l=g.nextZero(r,d),g.readASCII(r,d,l-d),d=l+1,l=g.nextZero(r,d),g.readUTF8(r,d,l-d),I=x-((d=l+1)-c),s==0?_=g.readUTF8(r,d,I):(b=i(r.slice(d,d+I)),_=g.readUTF8(b,0,b.length)),v.tabs[h][A]=_}else if(h=="PLTE")v.tabs[h]=g.readBytes(r,c,x);else if(h=="hIST"){const s=v.tabs.PLTE.length/3;for(v.tabs[h]=[],N=0;N<s;N++)v.tabs[h].push(S(r,c+2*N))}else if(h=="tRNS")v.ctype==3?v.tabs[h]=g.readBytes(r,c,x):v.ctype==0?v.tabs[h]=S(r,c):v.ctype==2&&(v.tabs[h]=[S(r,c),S(r,c+2),S(r,c+4)]);else if(h=="gAMA")v.tabs[h]=g.readUint(r,c)/1e5;else if(h=="sRGB")v.tabs[h]=r[c];else if(h=="bKGD")v.ctype==0||v.ctype==4?v.tabs[h]=[S(r,c)]:v.ctype==2||v.ctype==6?v.tabs[h]=[S(r,c),S(r,c+2),S(r,c+4)]:v.ctype==3&&(v.tabs[h]=r[c]);else if(h=="IEND")break;c+=x,g.readUint(r,c),c+=4}var y;return j!=0&&((y=v.frames[v.frames.length-1]).data=a(v,R.slice(0,j),y.rect.width,y.rect.height)),v.data=a(v,P,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(o){const r=o.width,c=o.height;if(o.tabs.acTL==null)return[C(o.data,r,c,o).buffer];const g=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const S=r*c*4,T=new Uint8Array(S),v=new Uint8Array(S),P=new Uint8Array(S);for(let F=0;F<o.frames.length;F++){const j=o.frames[F],p=j.rect.x,N=j.rect.y,d=j.rect.width,l=j.rect.height,A=C(j.data,d,l,o);if(F!=0)for(var R=0;R<S;R++)P[R]=T[R];if(j.blend==0?E(A,d,l,T,r,c,p,N,0):j.blend==1&&E(A,d,l,T,r,c,p,N,1),g.push(T.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)E(v,d,l,T,r,c,p,N,0);else if(j.dispose==2)for(R=0;R<S;R++)T[R]=P[R]}}return g},_paeth:f,_copyTile:E,_bin:w}}();(function(){const{_copyTile:w}=ve,{_bin:C}=ve,a=ve._paeth;var i={table:function(){const d=new Uint32Array(256);for(let l=0;l<256;l++){let A=l;for(let I=0;I<8;I++)1&A?A=3988292384^A>>>1:A>>>=1;d[l]=A}return d}(),update(d,l,A,I){for(let b=0;b<I;b++)d=i.table[255&(d^l[A+b])]^d>>>8;return d},crc:(d,l,A)=>4294967295^i.update(4294967295,d,l,A)};function e(d,l,A,I){l[A]+=d[0]*I>>4,l[A+1]+=d[1]*I>>4,l[A+2]+=d[2]*I>>4,l[A+3]+=d[3]*I>>4}function t(d){return Math.max(0,Math.min(255,d))}function u(d,l){const A=d[0]-l[0],I=d[1]-l[1],b=d[2]-l[2],_=d[3]-l[3];return A*A+I*I+b*b+_*_}function f(d,l,A,I,b,_,y){y==null&&(y=1);const x=I.length,h=[];for(var s=0;s<x;s++){const M=I[s];h.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(s=0;s<x;s++){let M=4294967295;for(var O=0,U=0;U<x;U++){var L=u(h[s],h[U]);U!=s&&L<M&&(M=L,O=U)}}const q=new Uint32Array(b.buffer),z=new Int16Array(l*A*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(s=0;s<H.length;s++)H[s]=255*((H[s]+.5)/16-.5);for(let M=0;M<A;M++)for(let Q=0;Q<l;Q++){var D;s=4*(M*l+Q),y!=2?D=[t(d[s]+z[s]),t(d[s+1]+z[s+1]),t(d[s+2]+z[s+2]),t(d[s+3]+z[s+3])]:(L=H[4*(3&M)+(3&Q)],D=[t(d[s]+L),t(d[s+1]+L),t(d[s+2]+L),t(d[s+3]+L)]),O=0;let $=16777215;for(U=0;U<x;U++){const Y=u(D,h[U]);Y<$&&($=Y,O=U)}const B=h[O],k=[D[0]-B[0],D[1]-B[1],D[2]-B[2],D[3]-B[3]];y==1&&(Q!=l-1&&e(k,z,s+4,7),M!=A-1&&(Q!=0&&e(k,z,s+4*l-4,3),e(k,z,s+4*l,5),Q!=l-1&&e(k,z,s+4*l+4,1))),_[s>>2]=O,q[s>>2]=I[O]}}function m(d,l,A,I,b){b==null&&(b={});const{crc:_}=i,y=C.writeUint,x=C.writeUshort,h=C.writeASCII;let s=8;const O=d.frames.length>1;let U,L=!1,q=33+(O?20:0);if(b.sRGB!=null&&(q+=13),b.pHYs!=null&&(q+=21),b.iCCP!=null&&(U=pako.deflate(b.iCCP),q+=21+U.length+4),d.ctype==3){for(var z=d.plte.length,H=0;H<z;H++)d.plte[H]>>>24!=255&&(L=!0);q+=8+3*z+4+(L?8+1*z+4:0)}for(var D=0;D<d.frames.length;D++)O&&(q+=38),q+=(B=d.frames[D]).cimg.length+12,D!=0&&(q+=4);q+=12;const M=new Uint8Array(q),Q=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)M[H]=Q[H];if(y(M,s,13),s+=4,h(M,s,"IHDR"),s+=4,y(M,s,l),s+=4,y(M,s,A),s+=4,M[s]=d.depth,s++,M[s]=d.ctype,s++,M[s]=0,s++,M[s]=0,s++,M[s]=0,s++,y(M,s,_(M,s-17,17)),s+=4,b.sRGB!=null&&(y(M,s,1),s+=4,h(M,s,"sRGB"),s+=4,M[s]=b.sRGB,s++,y(M,s,_(M,s-5,5)),s+=4),b.iCCP!=null){const k=13+U.length;y(M,s,k),s+=4,h(M,s,"iCCP"),s+=4,h(M,s,"ICC profile"),s+=11,s+=2,M.set(U,s),s+=U.length,y(M,s,_(M,s-(k+4),k+4)),s+=4}if(b.pHYs!=null&&(y(M,s,9),s+=4,h(M,s,"pHYs"),s+=4,y(M,s,b.pHYs[0]),s+=4,y(M,s,b.pHYs[1]),s+=4,M[s]=b.pHYs[2],s++,y(M,s,_(M,s-13,13)),s+=4),O&&(y(M,s,8),s+=4,h(M,s,"acTL"),s+=4,y(M,s,d.frames.length),s+=4,y(M,s,b.loop!=null?b.loop:0),s+=4,y(M,s,_(M,s-12,12)),s+=4),d.ctype==3){for(y(M,s,3*(z=d.plte.length)),s+=4,h(M,s,"PLTE"),s+=4,H=0;H<z;H++){const k=3*H,Y=d.plte[H],G=255&Y,K=Y>>>8&255,ee=Y>>>16&255;M[s+k+0]=G,M[s+k+1]=K,M[s+k+2]=ee}if(s+=3*z,y(M,s,_(M,s-3*z-4,3*z+4)),s+=4,L){for(y(M,s,z),s+=4,h(M,s,"tRNS"),s+=4,H=0;H<z;H++)M[s+H]=d.plte[H]>>>24&255;s+=z,y(M,s,_(M,s-z-4,z+4)),s+=4}}let $=0;for(D=0;D<d.frames.length;D++){var B=d.frames[D];O&&(y(M,s,26),s+=4,h(M,s,"fcTL"),s+=4,y(M,s,$++),s+=4,y(M,s,B.rect.width),s+=4,y(M,s,B.rect.height),s+=4,y(M,s,B.rect.x),s+=4,y(M,s,B.rect.y),s+=4,x(M,s,I[D]),s+=2,x(M,s,1e3),s+=2,M[s]=B.dispose,s++,M[s]=B.blend,s++,y(M,s,_(M,s-30,30)),s+=4);const k=B.cimg;y(M,s,(z=k.length)+(D==0?0:4)),s+=4;const Y=s;h(M,s,D==0?"IDAT":"fdAT"),s+=4,D!=0&&(y(M,s,$++),s+=4),M.set(k,s),s+=z,y(M,s,_(M,Y,s-Y)),s+=4}return y(M,s,0),s+=4,h(M,s,"IEND"),s+=4,y(M,s,_(M,s-4,4)),s+=4,M.buffer}function E(d,l,A){for(let I=0;I<d.frames.length;I++){const b=d.frames[I];b.rect.width;const _=b.rect.height,y=new Uint8Array(_*b.bpl+_);b.cimg=c(b.img,_,b.bpp,b.bpl,y,l,A)}}function n(d,l,A,I,b){const _=b[0],y=b[1],x=b[2],h=b[3],s=b[4],O=b[5];let U=6,L=8,q=255;for(var z=0;z<d.length;z++){const ce=new Uint8Array(d[z]);for(var H=ce.length,D=0;D<H;D+=4)q&=ce[D+3]}const M=q!=255,Q=function(J,Z,ne,ue,te,he){const re=[];for(var V=0;V<J.length;V++){const le=new Uint8Array(J[V]),ye=new Uint32Array(le.buffer);var ge;let me=0,Ee=0,be=Z,Te=ne,We=ue?1:0;if(V!=0){const mt=he||ue||V==1||re[V-2].dispose!=0?1:2;let Ge=0,Xe=1e9;for(let Oe=0;Oe<mt;Oe++){var Ie=new Uint8Array(J[V-1-Oe]);const yt=new Uint32Array(J[V-1-Oe]);let _e=Z,Se=ne,Ne=-1,je=-1;for(let xe=0;xe<ne;xe++)for(let Ce=0;Ce<Z;Ce++)ye[fe=xe*Z+Ce]!=yt[fe]&&(Ce<_e&&(_e=Ce),Ce>Ne&&(Ne=Ce),xe<Se&&(Se=xe),xe>je&&(je=xe));Ne==-1&&(_e=Se=Ne=je=0),te&&((1&_e)==1&&_e--,(1&Se)==1&&Se--);const Je=(Ne-_e+1)*(je-Se+1);Je<Xe&&(Xe=Je,Ge=Oe,me=_e,Ee=Se,be=Ne-_e+1,Te=je-Se+1)}Ie=new Uint8Array(J[V-1-Ge]),Ge==1&&(re[V-1].dispose=2),ge=new Uint8Array(be*Te*4),w(Ie,Z,ne,ge,be,Te,-me,-Ee,0),We=w(le,Z,ne,ge,be,Te,-me,-Ee,3)?1:0,We==1?r(le,Z,ne,ge,{x:me,y:Ee,width:be,height:Te}):w(le,Z,ne,ge,be,Te,-me,-Ee,0)}else ge=le.slice(0);re.push({rect:{x:me,y:Ee,width:be,height:Te},img:ge,blend:We,dispose:0})}if(ue)for(V=0;V<re.length;V++){if((Ue=re[V]).blend==1)continue;const le=Ue.rect,ye=re[V-1].rect,me=Math.min(le.x,ye.x),Ee=Math.min(le.y,ye.y),be={x:me,y:Ee,width:Math.max(le.x+le.width,ye.x+ye.width)-me,height:Math.max(le.y+le.height,ye.y+ye.height)-Ee};re[V-1].dispose=1,V-1!=0&&o(J,Z,ne,re,V-1,be,te),o(J,Z,ne,re,V,be,te)}let De=0;if(J.length!=1)for(var fe=0;fe<re.length;fe++){var Ue;De+=(Ue=re[fe]).rect.width*Ue.rect.height}return re}(d,l,A,_,y,x),$={},B=[],k=[];if(I!=0){const ce=[];for(D=0;D<Q.length;D++)ce.push(Q[D].img.buffer);const J=function(te){let he=0;for(var re=0;re<te.length;re++)he+=te[re].byteLength;const V=new Uint8Array(he);let ge=0;for(re=0;re<te.length;re++){const Ie=new Uint8Array(te[re]),De=Ie.length;for(let fe=0;fe<De;fe+=4){let Ue=Ie[fe],le=Ie[fe+1],ye=Ie[fe+2];const me=Ie[fe+3];me==0&&(Ue=le=ye=0),V[ge+fe]=Ue,V[ge+fe+1]=le,V[ge+fe+2]=ye,V[ge+fe+3]=me}ge+=De}return V.buffer}(ce),Z=S(J,I);for(D=0;D<Z.plte.length;D++)B.push(Z.plte[D].est.rgba);let ne=0;for(D=0;D<Q.length;D++){const ue=(G=Q[D]).img.length;var Y=new Uint8Array(Z.inds.buffer,ne>>2,ue>>2);k.push(Y);const te=new Uint8Array(Z.abuf,ne,ue);O&&f(G.img,G.rect.width,G.rect.height,B,te,Y),G.img.set(te),ne+=ue}}else for(z=0;z<Q.length;z++){var G=Q[z];const ce=new Uint32Array(G.img.buffer);var K=G.rect.width;for(H=ce.length,Y=new Uint8Array(H),k.push(Y),D=0;D<H;D++){const J=ce[D];if(D!=0&&J==ce[D-1])Y[D]=Y[D-1];else if(D>K&&J==ce[D-K])Y[D]=Y[D-K];else{let Z=$[J];if(Z==null&&($[J]=Z=B.length,B.push(J),B.length>=300))break;Y[D]=Z}}}const ee=B.length;for(ee<=256&&s==0&&(L=ee<=2?1:ee<=4?2:ee<=16?4:8,L=Math.max(L,h)),z=0;z<Q.length;z++){(G=Q[z]).rect.x,G.rect.y,K=G.rect.width;const ce=G.rect.height;let J=G.img;new Uint32Array(J.buffer);let Z=4*K,ne=4;if(ee<=256&&s==0){Z=Math.ceil(L*K/8);var pe=new Uint8Array(Z*ce);const ue=k[z];for(let te=0;te<ce;te++){D=te*Z;const he=te*K;if(L==8)for(var X=0;X<K;X++)pe[D+X]=ue[he+X];else if(L==4)for(X=0;X<K;X++)pe[D+(X>>1)]|=ue[he+X]<<4-4*(1&X);else if(L==2)for(X=0;X<K;X++)pe[D+(X>>2)]|=ue[he+X]<<6-2*(3&X);else if(L==1)for(X=0;X<K;X++)pe[D+(X>>3)]|=ue[he+X]<<7-1*(7&X)}J=pe,U=3,ne=1}else if(M==0&&Q.length==1){pe=new Uint8Array(K*ce*3);const ue=K*ce;for(D=0;D<ue;D++){const te=3*D,he=4*D;pe[te]=J[he],pe[te+1]=J[he+1],pe[te+2]=J[he+2]}J=pe,U=2,ne=3,Z=3*K}G.img=J,G.bpl=Z,G.bpp=ne}return{ctype:U,depth:L,plte:B,frames:Q}}function o(d,l,A,I,b,_,y){const x=Uint8Array,h=Uint32Array,s=new x(d[b-1]),O=new h(d[b-1]),U=b+1<d.length?new x(d[b+1]):null,L=new x(d[b]),q=new h(L.buffer);let z=l,H=A,D=-1,M=-1;for(let $=0;$<_.height;$++)for(let B=0;B<_.width;B++){const k=_.x+B,Y=_.y+$,G=Y*l+k,K=q[G];K==0||I[b-1].dispose==0&&O[G]==K&&(U==null||U[4*G+3]!=0)||(k<z&&(z=k),k>D&&(D=k),Y<H&&(H=Y),Y>M&&(M=Y))}D==-1&&(z=H=D=M=0),y&&((1&z)==1&&z--,(1&H)==1&&H--),_={x:z,y:H,width:D-z+1,height:M-H+1};const Q=I[b];Q.rect=_,Q.blend=1,Q.img=new Uint8Array(_.width*_.height*4),I[b-1].dispose==0?(w(s,l,A,Q.img,_.width,_.height,-_.x,-_.y,0),r(L,l,A,Q.img,_)):w(L,l,A,Q.img,_.width,_.height,-_.x,-_.y,0)}function r(d,l,A,I,b){w(d,l,A,I,b.width,b.height,-b.x,-b.y,2)}function c(d,l,A,I,b,_,y){const x=[];let h,s=[0,1,2,3,4];_!=-1?s=[_]:(l*I>5e5||A==1)&&(s=[0]),y&&(h={level:0});const O=jt;for(var U=0;U<s.length;U++){for(let z=0;z<l;z++)g(b,d,z,I,A,s[U]);x.push(O.deflate(b,h))}let L,q=1e9;for(U=0;U<x.length;U++)x[U].length<q&&(L=U,q=x[U].length);return x[L]}function g(d,l,A,I,b,_){const y=A*I;let x=y+A;if(d[x]=_,x++,_==0)if(I<500)for(var h=0;h<I;h++)d[x+h]=l[y+h];else d.set(new Uint8Array(l.buffer,y,I),x);else if(_==1){for(h=0;h<b;h++)d[x+h]=l[y+h];for(h=b;h<I;h++)d[x+h]=l[y+h]-l[y+h-b]+256&255}else if(A==0){for(h=0;h<b;h++)d[x+h]=l[y+h];if(_==2)for(h=b;h<I;h++)d[x+h]=l[y+h];if(_==3)for(h=b;h<I;h++)d[x+h]=l[y+h]-(l[y+h-b]>>1)+256&255;if(_==4)for(h=b;h<I;h++)d[x+h]=l[y+h]-a(l[y+h-b],0,0)+256&255}else{if(_==2)for(h=0;h<I;h++)d[x+h]=l[y+h]+256-l[y+h-I]&255;if(_==3){for(h=0;h<b;h++)d[x+h]=l[y+h]+256-(l[y+h-I]>>1)&255;for(h=b;h<I;h++)d[x+h]=l[y+h]+256-(l[y+h-I]+l[y+h-b]>>1)&255}if(_==4){for(h=0;h<b;h++)d[x+h]=l[y+h]+256-a(0,l[y+h-I],0)&255;for(h=b;h<I;h++)d[x+h]=l[y+h]+256-a(l[y+h-b],l[y+h-I],l[y+h-b-I])&255}}}function S(d,l){const A=new Uint8Array(d),I=A.slice(0),b=new Uint32Array(I.buffer),_=T(I,l),y=_[0],x=_[1],h=A.length,s=new Uint8Array(h>>2);let O;if(A.length<2e7)for(var U=0;U<h;U+=4)O=v(y,L=A[U]*(1/255),q=A[U+1]*(1/255),z=A[U+2]*(1/255),H=A[U+3]*(1/255)),s[U>>2]=O.ind,b[U>>2]=O.est.rgba;else for(U=0;U<h;U+=4){var L=A[U]*.00392156862745098,q=A[U+1]*(1/255),z=A[U+2]*(1/255),H=A[U+3]*(1/255);for(O=y;O.left;)O=P(O.est,L,q,z,H)<=0?O.left:O.right;s[U>>2]=O.ind,b[U>>2]=O.est.rgba}return{abuf:I.buffer,inds:s,plte:x}}function T(d,l,A){A==null&&(A=1e-4);const I=new Uint32Array(d.buffer),b={i0:0,i1:d.length,bst:null,est:null,tdst:0,left:null,right:null};b.bst=j(d,b.i0,b.i1),b.est=p(b.bst);const _=[b];for(;_.length<l;){let x=0,h=0;for(var y=0;y<_.length;y++)_[y].est.L>x&&(x=_[y].est.L,h=y);if(x<A)break;const s=_[h],O=R(d,I,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=O||s.i1<=O){s.est.L=0;continue}const U={i0:s.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};U.bst=j(d,U.i0,U.i1),U.est=p(U.bst);const L={i0:O,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:s.bst.N-U.bst.N},y=0;y<16;y++)L.bst.R[y]=s.bst.R[y]-U.bst.R[y];for(y=0;y<4;y++)L.bst.m[y]=s.bst.m[y]-U.bst.m[y];L.est=p(L.bst),s.left=U,s.right=L,_[h]=U,_.push(L)}for(_.sort((x,h)=>h.bst.N-x.bst.N),y=0;y<_.length;y++)_[y].ind=y;return[b,_]}function v(d,l,A,I,b){if(d.left==null)return d.tdst=function(U,L,q,z,H){const D=L-U[0],M=q-U[1],Q=z-U[2],$=H-U[3];return D*D+M*M+Q*Q+$*$}(d.est.q,l,A,I,b),d;const _=P(d.est,l,A,I,b);let y=d.left,x=d.right;_>0&&(y=d.right,x=d.left);const h=v(y,l,A,I,b);if(h.tdst<=_*_)return h;const s=v(x,l,A,I,b);return s.tdst<h.tdst?s:h}function P(d,l,A,I,b){const{e:_}=d;return _[0]*l+_[1]*A+_[2]*I+_[3]*b-d.eMq}function R(d,l,A,I,b,_){for(I-=4;A<I;){for(;F(d,A,b)<=_;)A+=4;for(;F(d,I,b)>_;)I-=4;if(A>=I)break;const y=l[A>>2];l[A>>2]=l[I>>2],l[I>>2]=y,A+=4,I-=4}for(;F(d,A,b)>_;)A-=4;return A+4}function F(d,l,A){return d[l]*A[0]+d[l+1]*A[1]+d[l+2]*A[2]+d[l+3]*A[3]}function j(d,l,A){const I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=[0,0,0,0],_=A-l>>2;for(let y=l;y<A;y+=4){const x=d[y]*.00392156862745098,h=d[y+1]*(1/255),s=d[y+2]*(1/255),O=d[y+3]*(1/255);b[0]+=x,b[1]+=h,b[2]+=s,b[3]+=O,I[0]+=x*x,I[1]+=x*h,I[2]+=x*s,I[3]+=x*O,I[5]+=h*h,I[6]+=h*s,I[7]+=h*O,I[10]+=s*s,I[11]+=s*O,I[15]+=O*O}return I[4]=I[1],I[8]=I[2],I[9]=I[6],I[12]=I[3],I[13]=I[7],I[14]=I[11],{R:I,m:b,N:_}}function p(d){const{R:l}=d,{m:A}=d,{N:I}=d,b=A[0],_=A[1],y=A[2],x=A[3],h=I==0?0:1/I,s=[l[0]-b*b*h,l[1]-b*_*h,l[2]-b*y*h,l[3]-b*x*h,l[4]-_*b*h,l[5]-_*_*h,l[6]-_*y*h,l[7]-_*x*h,l[8]-y*b*h,l[9]-y*_*h,l[10]-y*y*h,l[11]-y*x*h,l[12]-x*b*h,l[13]-x*_*h,l[14]-x*y*h,l[15]-x*x*h],O=s,U=N;let L=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,z=0;if(I!=0)for(let D=0;D<16&&(L=U.multVec(O,L),z=Math.sqrt(U.dot(L,L)),L=U.sml(1/z,L),!(D!=0&&Math.abs(z-q)<1e-9));D++)q=z;const H=[b*h,_*h,y*h,x*h];return{Cov:s,q:H,e:L,L:q,eMq255:U.dot(U.sml(255,H),L),eMq:U.dot(L,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var N={multVec:(d,l)=>[d[0]*l[0]+d[1]*l[1]+d[2]*l[2]+d[3]*l[3],d[4]*l[0]+d[5]*l[1]+d[6]*l[2]+d[7]*l[3],d[8]*l[0]+d[9]*l[1]+d[10]*l[2]+d[11]*l[3],d[12]*l[0]+d[13]*l[1]+d[14]*l[2]+d[15]*l[3]],dot:(d,l)=>d[0]*l[0]+d[1]*l[1]+d[2]*l[2]+d[3]*l[3],sml:(d,l)=>[d*l[0],d*l[1],d*l[2],d*l[3]]};ve.encode=function(l,A,I,b,_,y,x){b==null&&(b=0),x==null&&(x=!1);const h=n(l,A,I,b,[!1,!1,!1,0,x,!1]);return E(h,-1),m(h,A,I,_,y)},ve.encodeLL=function(l,A,I,b,_,y,x,h){const s={ctype:0+(b==1?0:2)+(_==0?0:4),depth:y,frames:[]},O=(b+_)*y,U=O*A;for(let L=0;L<l.length;L++)s.frames.push({rect:{x:0,y:0,width:A,height:I},img:new Uint8Array(l[L]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(U/8)});return E(s,0,!0),m(s,A,I,x,h)},ve.encode.compress=n,ve.encode.dither=f,ve.quantize=S,ve.quantize.getKDtree=T,ve.quantize.getNearest=v})();const it={toArrayBuffer(w,C){const a=w.width,i=w.height,e=a<<2,t=w.getContext("2d").getImageData(0,0,a,i),u=new Uint32Array(t.data.buffer),f=(32*a+31)/32<<2,m=f*i,E=122+m,n=new ArrayBuffer(E),o=new DataView(n),r=1<<20;let c,g,S,T,v=r,P=0,R=0,F=0;function j(d){o.setUint16(R,d,!0),R+=2}function p(d){o.setUint32(R,d,!0),R+=4}function N(d){R+=d}j(19778),p(E),N(4),p(122),p(108),p(a),p(-i>>>0),j(1),j(32),p(3),p(m),p(2835),p(2835),N(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),function d(){for(;P<i&&v>0;){for(T=122+P*f,c=0;c<e;)v--,g=u[F++],S=g>>>24,o.setUint32(T+c,g<<8|S),c+=4;P++}F<u.length?(v=r,setTimeout(d,it._dly)):C(n)}()},toBlob(w,C){this.toArrayBuffer(w,a=>{C(new Blob([a],{type:"image/bmp"}))})},_dly:9};var de={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Lt={[de.CHROME]:16384,[de.FIREFOX]:11180,[de.DESKTOP_SAFARI]:16384,[de.IE]:8192,[de.IOS]:4096,[de.ETC]:8192};const Ze=typeof window<"u",st=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ke=Ze&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Pt=(Ze||st)&&(ke&&ke.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ct=(Ze||st)&&(ke&&ke.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ve(w,C,a=Date.now()){return new Promise(i=>{const e=w.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let f=u.length;const m=new Uint8Array(f);for(;f--;)m[f]=u.charCodeAt(f);const E=new Blob([m],{type:t});E.name=C,E.lastModified=a,i(E)})}function ft(w){return new Promise((C,a)=>{const i=new ct;i.onload=()=>C(i.result),i.onerror=e=>a(e),i.readAsDataURL(w)})}function ut(w){return new Promise((C,a)=>{const i=new Image;i.onload=()=>C(i),i.onerror=e=>a(e),i.src=w})}function Me(){if(Me.cachedResult!==void 0)return Me.cachedResult;let w=de.ETC;const{userAgent:C}=navigator;return/Chrom(e|ium)/i.test(C)?w=de.CHROME:/iP(ad|od|hone)/i.test(C)&&/WebKit/i.test(C)?w=de.IOS:/Safari/i.test(C)?w=de.DESKTOP_SAFARI:/Firefox/i.test(C)?w=de.FIREFOX:(/MSIE/i.test(C)||document.documentMode)&&(w=de.IE),Me.cachedResult=w,Me.cachedResult}function lt(w,C){const a=Me(),i=Lt[a];let e=w,t=C,u=e*t;const f=e>t?t/e:e/t;for(;u>i*i;){const m=(i+e)/2,E=(i+t)/2;m<E?(t=E,e=E*f):(t=m*f,e=m),u=e*t}return{width:e,height:t}}function Qe(w,C){let a,i;try{if(a=new OffscreenCanvas(w,C),i=a.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{a=document.createElement("canvas"),i=a.getContext("2d")}return a.width=w,a.height=C,[a,i]}function dt(w,C){const{width:a,height:i}=lt(w.width,w.height),[e,t]=Qe(a,i);return C&&/jpe?g/.test(C)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(w,0,0,e.width,e.height),e}function Be(){return Be.cachedResult!==void 0||(Be.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Be.cachedResult}function Ye(w,C={}){return new Promise(function(a,i){let e,t;var u=function(){try{return t=dt(e,C.fileType||w.type),a([e,t])}catch(m){return i(m)}},f=function(m){try{var E=function(n){try{throw n}catch(o){return i(o)}};try{let n;return ft(w).then(function(o){try{return n=o,ut(n).then(function(r){try{return e=r,function(){try{return u()}catch(c){return i(c)}}()}catch(c){return E(c)}},E)}catch(r){return E(r)}},E)}catch(n){E(n)}}catch(n){return i(n)}};try{if(Be()||[de.DESKTOP_SAFARI,de.MOBILE_SAFARI].includes(Me()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(w).then(function(m){try{return e=m,u()}catch{return f()}},f)}catch{f()}})}function qe(w,C,a,i,e=1){return new Promise(function(t,u){let f;if(C==="image/png"){let E,n,o;return E=w.getContext("2d"),{data:n}=E.getImageData(0,0,w.width,w.height),o=ve.encode([n.buffer],w.width,w.height,4096*e),f=new Blob([o],{type:C}),f.name=a,f.lastModified=i,m.call(this)}{let E=function(){return m.call(this)};if(C==="image/bmp")return new Promise(n=>it.toBlob(w,n)).then((function(n){try{return f=n,f.name=a,f.lastModified=i,E.call(this)}catch(o){return u(o)}}).bind(this),u);{let n=function(){return E.call(this)};if(typeof OffscreenCanvas=="function"&&w instanceof OffscreenCanvas)return w.convertToBlob({type:C,quality:e}).then((function(o){try{return f=o,f.name=a,f.lastModified=i,n.call(this)}catch(r){return u(r)}}).bind(this),u);{let o;return o=w.toDataURL(C,e),Ve(o,a,i).then((function(r){try{return f=r,n.call(this)}catch(c){return u(c)}}).bind(this),u)}}}function m(){return t(f)}})}function we(w){w.width=0,w.height=0}function Re(){return new Promise(function(w,C){let a,i,e,t;return Re.cachedResult!==void 0?w(Re.cachedResult):Ve("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return a=u,Ye(a).then(function(f){try{return i=f[1],qe(i,a.type,a.name,a.lastModified).then(function(m){try{return e=m,we(i),Ye(e).then(function(E){try{return t=E[0],Re.cachedResult=t.width===1&&t.height===2,w(Re.cachedResult)}catch(n){return C(n)}},C)}catch(E){return C(E)}},C)}catch(m){return C(m)}},C)}catch(f){return C(f)}},C)})}function ht(w){return new Promise((C,a)=>{const i=new ct;i.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return C(-2);const u=t.byteLength;let f=2;for(;f<u;){if(t.getUint16(f+2,!1)<=8)return C(-1);const m=t.getUint16(f,!1);if(f+=2,m==65505){if(t.getUint32(f+=2,!1)!=1165519206)return C(-1);const E=t.getUint16(f+=6,!1)==18761;f+=t.getUint32(f+4,E);const n=t.getUint16(f,E);f+=2;for(let o=0;o<n;o++)if(t.getUint16(f+12*o,E)==274)return C(t.getUint16(f+12*o+8,E))}else{if((65280&m)!=65280)break;f+=t.getUint16(f,!1)}}return C(-1)},i.onerror=e=>a(e),i.readAsArrayBuffer(w)})}function gt(w,C){const{width:a}=w,{height:i}=w,{maxWidthOrHeight:e}=C;let t,u=w;return isFinite(e)&&(a>e||i>e)&&([u,t]=Qe(a,i),a>i?(u.width=e,u.height=i/a*e):(u.width=a/i*e,u.height=e),t.drawImage(w,0,0,u.width,u.height),we(w)),u}function pt(w,C){const{width:a}=w,{height:i}=w,[e,t]=Qe(a,i);switch(C>4&&C<9?(e.width=i,e.height=a):(e.width=a,e.height=i),C){case 2:t.transform(-1,0,0,1,a,0);break;case 3:t.transform(-1,0,0,-1,a,i);break;case 4:t.transform(1,0,0,-1,0,i);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,i,0);break;case 7:t.transform(0,-1,-1,0,i,a);break;case 8:t.transform(0,-1,1,0,0,a)}return t.drawImage(w,0,0,a,i),we(w),e}function nt(w,C,a=0){return new Promise(function(i,e){let t,u,f,m,E,n,o,r,c,g,S,T,v,P,R,F,j,p,N,d;function l(I=5){if(C.signal&&C.signal.aborted)throw C.signal.reason;t+=I,C.onProgress(Math.min(t,100))}function A(I){if(C.signal&&C.signal.aborted)throw C.signal.reason;t=Math.min(Math.max(I,t),100),C.onProgress(t)}return t=a,u=C.maxIteration||10,f=1024*C.maxSizeMB*1024,l(),Ye(w,C).then((function(I){try{return[,m]=I,l(),E=gt(m,C),l(),new Promise(function(b,_){var y;if(!(y=C.exifOrientation))return ht(w).then((function(h){try{return y=h,x.call(this)}catch(s){return _(s)}}).bind(this),_);function x(){return b(y)}return x.call(this)}).then((function(b){try{return n=b,l(),Re().then((function(_){try{return o=_?E:pt(E,n),l(),r=C.initialQuality||1,c=C.fileType||w.type,qe(o,c,w.name,w.lastModified,r).then((function(y){try{{let h=function(){if(u--&&(R>f||R>v)){let O,U;return O=d?.95*N.width:N.width,U=d?.95*N.height:N.height,[j,p]=Qe(O,U),p.drawImage(N,0,0,O,U),r*=c==="image/png"?.85:.95,qe(j,c,w.name,w.lastModified,r).then(function(L){try{return F=L,we(N),N=j,R=F.size,A(Math.min(99,Math.floor((P-R)/(P-f)*100))),h}catch(q){return e(q)}},e)}return[1]},s=function(){return we(N),we(j),we(E),we(o),we(m),A(100),i(F)};if(g=y,l(),S=g.size>f,T=g.size>w.size,!S&&!T)return A(100),i(g);var x;return v=w.size,P=g.size,R=P,N=o,d=!C.alwaysKeepResolution&&S,(x=(function(O){for(;O;){if(O.then)return void O.then(x,e);try{if(O.pop){if(O.length)return O.pop()?s.call(this):O;O=h}else O=O.call(this)}catch(U){return e(U)}}}).bind(this))(h)}}catch(h){return e(h)}}).bind(this),e)}catch(y){return e(y)}}).bind(this),e)}catch(_){return e(_)}}).bind(this),e)}catch(b){return e(b)}}).bind(this),e)})}const Dt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let $e;function Bt(w,C){return new Promise((a,i)=>{$e||($e=function(u){const f=[];return f.push(u),URL.createObjectURL(new Blob(f))}(Dt));const e=new Worker($e);e.addEventListener("message",function(u){if(C.signal&&C.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return i(new Error(u.data.error)),void e.terminate();a(u.data.file),e.terminate()}else C.onProgress(u.data.progress)}),e.addEventListener("error",i),C.signal&&C.signal.addEventListener("abort",()=>{i(C.signal.reason),e.terminate()}),e.postMessage({file:w,imageCompressionLibUrl:C.libURL,options:{...C,onProgress:void 0,signal:void 0}})})}function ae(w,C){return new Promise(function(a,i){let e,t,u,f,m,E;if(e={...C},u=0,{onProgress:f}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=c=>{u=c,typeof f=="function"&&f(u)},!(w instanceof Blob||w instanceof Pt))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(w.type))return i(new Error("The file given is not an image"));if(E=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||E)return nt(w,e).then((function(c){try{return t=c,r.call(this)}catch(g){return i(g)}}).bind(this),i);var n=(function(){try{return r.call(this)}catch(c){return i(c)}}).bind(this),o=function(c){try{return nt(w,e).then(function(g){try{return t=g,n()}catch(S){return i(S)}},i)}catch(g){return i(g)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Bt(w,e).then(function(c){try{return t=c,n()}catch{return o()}},o)}catch{o()}function r(){try{t.name=w.name,t.lastModified=w.lastModified}catch{}try{e.preserveExif&&w.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===w.type)&&(t=ot(w,t))}catch{}return a(t)}})}ae.getDataUrlFromFile=ft,ae.getFilefromDataUrl=Ve,ae.loadImage=ut,ae.drawImageInCanvas=dt,ae.drawFileInCanvas=Ye,ae.canvasToFile=qe,ae.getExifOrientation=ht,ae.handleMaxWidthOrHeight=gt,ae.followExifOrientation=pt,ae.cleanupCanvasMemory=we,ae.isAutoOrientationInBrowser=Re,ae.approximateBelowMaximumCanvasSizeOfBrowser=lt,ae.copyExifWithoutOrientation=ot,ae.getBrowserName=Me,ae.version="2.0.2";const zt=w=>bt.post("https://asia-southeast1-warrantyloits-247206.cloudfunctions.net/credit-card-web-image-upload-function-uat",w).then(function(C){return C}).catch(function(C){console.log(C)}),Ht=(w,C,a)=>async i=>{i(wt());try{const e=await at.post("/master/update",{referenceNo:C,status:a});i(Et(e.data)),Fe.success(e.data.message??"All document updated successfully"),w("/complete")}catch(e){e instanceof Error?i(tt(e.message)):i(tt("An unknown error occurred"))}},kt=({open:w,close:C,onConfirm:a})=>W.jsx(Ut,{open:w,as:"div",className:"relative z-10 focus:outline-none",onClose:C,children:W.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4 bg-primary/50 backdrop-blur-lg",children:W.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:W.jsxs(Tt,{className:"w-full max-w-md rounded-xl p-6 bg-white duration-300 ease-out data-[closed]:transform-[scale(95%)] data-[closed]:opacity-0",children:[W.jsx(xt,{as:"h3",className:"text-xl font-bold text-primary mb-3",children:"Confirm to Apply"}),W.jsx("p",{className:"mt-2 text-sm/6 text-primary-",children:"Do you want to apply the creadit card?"}),W.jsxs("div",{className:"mt-4 flex gap-2 flex-1 justify-end",children:[W.jsx(ze,{variant:"outline",onClick:C,children:"Close"}),W.jsx(ze,{variant:"primary",onClick:a,children:"Confrim"})]})]})})})}),ie=5e6,se=["image/jpeg","image/jpg","image/png","application/pdf"],Yt=Pe({USER_IDENTIFICATION_1:oe().refine(w=>(w==null?void 0:w.length)>=1,{message:"You must upload front side of the identification"}).refine(w=>w==null?void 0:w.every(C=>se.includes(C.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(w=>w==null?void 0:w.every(C=>C.size<=ie),{message:"Max file size is 5MB"}),USER_IDENTIFICATION_2:oe().refine(w=>(w==null?void 0:w.length)>=1,{message:"You must upload rear side of the identification"}).refine(w=>w==null?void 0:w.every(C=>se.includes(C.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(w=>w==null?void 0:w.every(C=>C.size<=ie),{message:"Max file size is 5MB"}),UTILITY_BILL:oe().refine(w=>(w==null?void 0:w.length)>=1,{message:"Utility bill is required"}).refine(w=>(w==null?void 0:w.length)<=3,{message:"You can upload upto 3 files"}).refine(w=>w==null?void 0:w.every(C=>se.includes(C.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(w=>w==null?void 0:w.every(C=>C.size<=ie),{message:"Max file size is 5MB"})}),qt=w=>{let C=Pe({});switch(w){case"Government Sector":C=Pe({PAY_SLIP:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Latest pay slip is required"}).refine(a=>(a==null?void 0:a.length)<=3,{message:"You can upload upto 3 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}),EMLOYEE_ID:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Employee ID is required"}).refine(a=>(a==null?void 0:a.length)<=2,{message:"You can upload upto 2 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional(),EMPLOYEMENT_CONFIRMATION_LETTER:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Employment confirmation letter is required"}).refine(a=>(a==null?void 0:a.length)<=2,{message:"You can upload upto 2 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional(),BANK_STATEMENT:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Bank statements is required"}).refine(a=>(a==null?void 0:a.length)<=20,{message:"You can upload upto 20 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional(),PROOF_OF_INCOME:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Proof of income is required"}).refine(a=>(a==null?void 0:a.length)<=5,{message:"You can upload upto 5 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}),BUSINESS_CARD:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Business card is required"}).refine(a=>(a==null?void 0:a.length)<=2,{message:"You can upload upto 2 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional()});break;case"Private Sector":C=Pe({PAY_SLIP:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Latest pay slip is required"}).refine(a=>(a==null?void 0:a.length)<=3,{message:"You can upload upto 3 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}),EMLOYEE_ID:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Employee ID is required"}).refine(a=>(a==null?void 0:a.length)<=2,{message:"You can upload upto 2 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional(),EMPLOYEMENT_CONFIRMATION_LETTER:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Employment confirmation letter is required"}).refine(a=>(a==null?void 0:a.length)<=2,{message:"You can upload upto 2 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional(),BANK_STATEMENT:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Bank statements is required"}).refine(a=>(a==null?void 0:a.length)<=20,{message:"You can upload upto 20 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional(),PROOF_OF_INCOME:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Proof of income is required"}).refine(a=>(a==null?void 0:a.length)<=5,{message:"You can upload upto 5 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}),BUSINESS_CARD:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Business card is required"}).refine(a=>(a==null?void 0:a.length)<=2,{message:"You can upload upto 2 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}).optional()});break;case"Self Employed":C=Pe({BUSINESS_REGISTRATION_CRETIFICATION:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Business registeration certificate is required"}).refine(a=>(a==null?void 0:a.length)<=5,{message:"You can upload upto 5 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"}),SELF_BANK_STATEMENT:oe().refine(a=>(a==null?void 0:a.length)>=1,{message:"Bank statements is required"}).refine(a=>(a==null?void 0:a.length)<=20,{message:"You can upload upto 20 files"}).refine(a=>a==null?void 0:a.every(i=>se.includes(i.type)),{message:".jpg, .jpeg, .png and .pdf files are accepted"}).refine(a=>a==null?void 0:a.every(i=>i.size<=ie),{message:"Max file size is 5MB"})});break}return Yt.merge(C)},Gt=()=>{var p,N,d,l,A,I,b,_,y,x,h,s,O,U,L,q,z,H,D,M,Q,$;const{data:w,loading:C}=Ke(B=>B.userDetailGet),a=qt(w==null?void 0:w.employmentCategory),{register:i,handleSubmit:e,setValue:t,formState:{errors:u}}=Ct({resolver:Ft(a),shouldUnregister:!0,defaultValues:{USER_IDENTIFICATION_1:[],USER_IDENTIFICATION_2:[],UTILITY_BILL:[],PAY_SLIP:[],EMLOYEE_ID:[],EMPLOYEMENT_CONFIRMATION_LETTER:[],BANK_STATEMENT:[],PROOF_OF_INCOME:[],BUSINESS_CARD:[],BUSINESS_REGISTRATION_CRETIFICATION:[],SELF_BANK_STATEMENT:[]}}),f=It(),m=_t(),[E,n]=Le.useState(!1),[o,r]=Le.useState(!1),[c,g]=Le.useState(),{loading:S}=Ke(B=>B.documentUpdatePost),{data:T}=Ke(B=>B.userLogin);Le.useEffect(()=>{m(Mt((T==null?void 0:T.referenceNo)??""))},[T]);const v=B=>{switch(B){case"USER_IDENTIFICATION_1":return"identification_document_1_1";case"USER_IDENTIFICATION_2":return"identification_document_1_2";case"PROOF_OF_INCOME":return"income_proof_document";default:return"other_supporting_document"}},P=async B=>{r(!0),g(B)},R=async()=>{const B=c;if(B!==void 0){const k=Object.keys(B).map(async Y=>{if(B[Y].length>1)B[Y].forEach(async(G,K)=>{if(B[Y][K].type!=="application/pdf"){const ee={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,fileType:B[Y].type},pe=await ae(B[Y][K],ee),X=await F(pe);return await j(X.split(",")[0],v(Y),B[Y][K].type,Y)}else{const ee=await F(B[Y][K]);return await j(ee.split(",")[0],v(Y),B[Y][K].type,Y)}});else if(B[Y][0].type!=="application/pdf"){const G={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,fileType:B[Y].type},K=await ae(B[Y][0],G),ee=await F(K);return await j(ee.split(",")[0],v(Y),B[Y][0].type,Y)}else{const G=await F(B[Y][0]);return await j(G.split(",")[0],v(Y),B[Y][0].type,Y)}});await Promise.all(k.flat()).then(Y=>{Y.includes(!1)?n(!1):n(!0)}).catch(Y=>{console.error("[UPLOAD ERROR] - ",Y),n(!1)})}r(!1)},F=B=>new Promise((k,Y)=>{const G=new FileReader;G.onload=()=>{const ee=G.result.split(",")[1];k(ee)},G.onerror=K=>Y(K),G.readAsDataURL(B)}),j=async(B,k,Y,G)=>{const K={referenceNo:T==null?void 0:T.referenceNo,category:k,fileName:`${T==null?void 0:T.referenceNo}_${k}_${new Date().getTime()}.${Y.toLowerCase().split("/")[1]}`,fileType:Y,image:B,additionalComments:G};try{const ee=await zt(K);if(ee.status===200){if(ee.data.status===200)return Fe.success(ee.data.data.message??`${K.fileName} - Document Uploaded Successfully`),!0;if(ee.data.status===400)return Fe.error(ee.data.data.message),!1}else return Fe.error("Uploading Feature Failed, Please try again later"),!1}catch{return Fe.error("An error occurred while uploading the document"),!1}return!1};return Le.useEffect(()=>(E&&(Fe.success("All Documents Uploaded Successfully"),m(Ht(f,(T==null?void 0:T.referenceNo)??"","A"))),()=>{n(!1)}),[E]),W.jsxs("div",{className:"bg-card-pattern flex justify-center py-5 px-2 sm:px-0 sm:h-screen",children:[W.jsxs("div",{className:"container flex flex-col justify-center items-center",children:[W.jsx("img",{className:"w-32 mb-3 animate-fade-up animate-duration-[1200ms] animate-once",src:St}),W.jsxs("form",{onSubmit:e(P),className:"w-full mb-10 sm:mb-0",children:[W.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[3000ms] animate-once hover:shadow-xl sm:h-[75vh] sm:overflow-scroll",children:[W.jsx("p",{className:"font-semibold text-primary-950 text-center sm:text-left mb-5 text-lg",children:"Customer Document Details"}),W.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2",children:[W.jsx(Ae,{label:"NIC/Driving License (Front Side)",multiple:!1,required:!0,...i("USER_IDENTIFICATION_1"),onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("USER_IDENTIFICATION_1",k)},error:((N=(p=u==null?void 0:u.USER_IDENTIFICATION_1)==null?void 0:p.message)==null?void 0:N.toString())||""}),W.jsx(Ae,{label:"NIC/Driving License (Rear Side)",multiple:!1,required:!0,...i("USER_IDENTIFICATION_2"),onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("USER_IDENTIFICATION_2",k)},error:((l=(d=u==null?void 0:u.USER_IDENTIFICATION_2)==null?void 0:d.message)==null?void 0:l.toString())||""}),W.jsx(Ae,{label:"Utility Bill (within last 3 months)",multiple:!0,required:!0,onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("UTILITY_BILL",k)},error:((I=(A=u.UTILITY_BILL)==null?void 0:A.message)==null?void 0:I.toString())||""}),(w==null?void 0:w.employmentCategory)!=="Self Employed"&&W.jsxs(W.Fragment,{children:[W.jsx(Ae,{label:"Latest Pay Slip",multiple:!0,required:!0,onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("PAY_SLIP",k)},error:((_=(b=u.PAY_SLIP)==null?void 0:b.message)==null?void 0:_.toString())||""}),W.jsx(Ae,{label:"Employee ID",multiple:!0,required:!1,onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("EMLOYEE_ID",k)},error:((x=(y=u.EMLOYEE_ID)==null?void 0:y.message)==null?void 0:x.toString())||""}),W.jsx(Ae,{label:"Employment Confirmation Letter",onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("EMPLOYEMENT_CONFIRMATION_LETTER",k)},error:((s=(h=u.EMPLOYEMENT_CONFIRMATION_LETTER)==null?void 0:h.message)==null?void 0:s.toString())||"",multiple:!0,required:!1}),W.jsx(Ae,{label:"Bank Statements (Last month)",onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("BANK_STATEMENT",k)},error:((U=(O=u.BANK_STATEMENT)==null?void 0:O.message)==null?void 0:U.toString())||"",multiple:!0,required:!1}),W.jsx(Ae,{label:"Proof of Income (Last month)",onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("PROOF_OF_INCOME",k)},error:((q=(L=u.PROOF_OF_INCOME)==null?void 0:L.message)==null?void 0:q.toString())||"",multiple:!0,required:!0}),W.jsx(Ae,{label:"Business Card",onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("BUSINESS_CARD",k)},error:((H=(z=u.BUSINESS_CARD)==null?void 0:z.message)==null?void 0:H.toString())||"",multiple:!0,required:!1})]}),(w==null?void 0:w.employmentCategory)==="Self Employed"&&W.jsxs(W.Fragment,{children:[W.jsx(Ae,{label:"Business Registeration Certificate",onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("BUSINESS_REGISTRATION_CRETIFICATION",k)},error:((M=(D=u.BUSINESS_REGISTRATION_CRETIFICATION)==null?void 0:D.message)==null?void 0:M.toString())||"",multiple:!0,required:!0}),W.jsx(Ae,{label:"Bank Statements (Last 3 months)",onChange:B=>{const k=B.target.files?Array.from(B.target.files):[];t("SELF_BANK_STATEMENT",k)},error:(($=(Q=u.SELF_BANK_STATEMENT)==null?void 0:Q.message)==null?void 0:$.toString())||"",multiple:!0,required:!0})]})]})]}),W.jsx("div",{className:"mt-5 md:col-span-3 justify-end h-10 animate-fade-up animate-duration-[6000ms] animate-once hidden sm:flex",children:W.jsx(ze,{variant:"primary",type:"submit",className:"",children:S?W.jsx(rt,{className:"animate-spin animate-infinite"}):"Save Document Details"})}),W.jsx("div",{className:"fixed sm:hidden bottom-3 bg-primary-50 h-auto animate-fade-up animate-duration-[6000ms] animate-once w-full rounded-lg pr-4",children:W.jsx(ze,{variant:"primary",type:"submit",className:"w-full",children:S?W.jsx(rt,{className:"animate-spin animate-infinite"}):"Save Document Details"})})]})]}),W.jsx(kt,{open:o,close:()=>r(!1),onConfirm:R})]})};export{Gt as default};
