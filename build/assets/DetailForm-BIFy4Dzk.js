import{g as p,o as dt,p as Oe,q as R,s as ee,t as ut,O as Le,x as me,K as Ie,y as ct,z as mt,T as pt,A as ft,C as de,E as ht,F as gt,R as H,G as bt,H as xt,J as he,L as vt,M as pe,N as yt,P as ge,Q as Ct,S as Je,U as Re,V as St,$ as Xe,W as Ze,X as Ne,Y as It,Z as Et,a0 as Tt,a1 as Ot,a2 as Rt,a3 as Nt,a4 as At,a5 as jt,a6 as Lt,a7 as we,a8 as wt,a9 as Pt,aa as Pe,ab as Mt,ac as q,ad as G,ae as Ft,af as $t,ag as Me,ah as kt,c as qt,j as l,w as _t,B as Ee,ai as zt,a as Qe,aj as Dt,_ as Fe,ak as $e,al as Bt,am as Vt,an as Gt,ao as Ut,ap as ke,n as ve,u as Wt,aq as Ht,l as Kt,I as S,ar as oe,as as ye,at as Yt}from"./index-DjoYrTaD.js";import{o as Jt,s as g,b as Xt,u as Zt,t as Qt,C as K,L as qe}from"./index-DOXHausL.js";import{E as en,a as _e,t as ze,_ as tn,V as nn,q as on,p as sn}from"./textConvertor-RdKVmW3h.js";function et(e){var i,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(i=0;i<o;i++)e[i]&&(t=et(e[i]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function De(){for(var e,i,t=0,n="",o=arguments.length;t<o;t++)(e=arguments[t])&&(i=et(e))&&(n&&(n+=" "),n+=i);return n}function ce(e,i,t){let n=t.initialDeps??[],o;return()=>{var a,d,r,u;let m;t.key&&((a=t.debug)!=null&&a.call(t))&&(m=Date.now());const c=e();if(!(c.length!==n.length||c.some((N,T)=>n[T]!==N)))return o;n=c;let E;if(t.key&&((d=t.debug)!=null&&d.call(t))&&(E=Date.now()),o=i(...c),t.key&&((r=t.debug)!=null&&r.call(t))){const N=Math.round((Date.now()-m)*100)/100,T=Math.round((Date.now()-E)*100)/100,O=T/16,b=(j,z)=>{for(j=String(j);j.length<z;)j=" "+j;return j};console.info(`%c⏱ ${b(T,5)} /${b(N,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*O,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(u=t==null?void 0:t.onChange)==null||u.call(t,o),o}}function Ce(e,i){if(e===void 0)throw new Error("Unexpected undefined");return e}const an=(e,i)=>Math.abs(e-i)<1,rn=(e,i)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>e.apply(this,n),i)}},ln=e=>e,dn=e=>{const i=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=i;o<=t;o++)n.push(o);return n},un=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=a=>{const{width:d,height:r}=a;i({width:Math.round(d),height:Math.round(r)})};if(n(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const o=new ResizeObserver(a=>{const d=a[0];if(d!=null&&d.borderBoxSize){const r=d.borderBoxSize[0];if(r){n({width:r.inlineSize,height:r.blockSize});return}}n(t.getBoundingClientRect())});return o.observe(t,{box:"border-box"}),()=>{o.unobserve(t)}},Be={passive:!0},cn=typeof window>"u"?!0:"onscrollend"in window,mn=(e,i)=>{const t=e.scrollElement;if(!t)return;let n=0;const o=cn?()=>{}:rn(()=>{i(n,!1)},e.options.isScrollingResetDelay),a=u=>()=>{n=t[e.options.horizontal?"scrollLeft":"scrollTop"],o(),i(n,u)},d=a(!0),r=a(!1);return r(),t.addEventListener("scroll",d,Be),t.addEventListener("scrollend",r,Be),()=>{t.removeEventListener("scroll",d),t.removeEventListener("scrollend",r)}},pn=(e,i,t)=>{if(i!=null&&i.borderBoxSize){const n=i.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},fn=(e,{adjustments:i=0,behavior:t},n)=>{var o,a;const d=e+i;(a=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||a.call(o,{[n.options.horizontal?"left":"top"]:d,behavior:t})};class hn{constructor(i){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(o=>{o.forEach(a=>{this._measureElement(a.target,a)})}):null);return{disconnect:()=>{var o;return(o=n())==null?void 0:o.disconnect()},observe:o=>{var a;return(a=n())==null?void 0:a.observe(o,{box:"border-box"})},unobserve:o=>{var a;return(a=n())==null?void 0:a.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ln,rangeExtractor:dn,onChange:()=>{},measureElement:pn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...t}},this.notify=(t,n)=>{var o,a;const{startIndex:d,endIndex:r}=this.range??{startIndex:void 0,endIndex:void 0},u=this.calculateRange();(t||d!==(u==null?void 0:u.startIndex)||r!==(u==null?void 0:u.endIndex))&&((a=(o=this.options).onChange)==null||a.call(o,this,n))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(n,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.scrollOffset<n?"forward":"backward":null,this.scrollOffset=n;const a=this.isScrolling;this.isScrolling=o,this.notify(a!==o,o)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=ce(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,n,o,a)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:a}),{key:!1}),this.getFurthestMeasurement=(t,n)=>{const o=new Map,a=new Map;for(let d=n-1;d>=0;d--){const r=t[d];if(o.has(r.lane))continue;const u=a.get(r.lane);if(u==null||r.end>u.end?a.set(r.lane,r):r.end<u.end&&o.set(r.lane,!0),o.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((d,r)=>d.end===r.end?d.index-r.index:d.end-r.end)[0]:void 0},this.getMeasurements=ce(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:a},d)=>{const r=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,r);for(let m=r;m<t;m++){const c=a(m),s=this.options.lanes===1?u[m-1]:this.getFurthestMeasurement(u,m),E=s?s.end+this.options.gap:n+o,N=d.get(c),T=typeof N=="number"?N:this.options.estimateSize(m),O=E+T,b=s?s.lane:m%this.options.lanes;u[m]={index:m,start:E,size:T,end:O,key:c,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ce(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,n,o)=>this.range=t.length>0&&n>0?gn({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ce(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,a)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.measurementsCache[this.indexFromElement(t)];if(!o||!t.isConnected){this.measureElementCache.forEach((r,u)=>{r===t&&(this.observer.unobserve(t),this.measureElementCache.delete(u))});return}const a=this.measureElementCache.get(o.key);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.measureElementCache.set(o.key,t));const d=this.options.measureElement(t,n,this);this.resizeItem(o,d)},this.resizeItem=(t,n)=>{const o=this.itemSizeCache.get(t.key)??t.size,a=n-o;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,a,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=ce(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let a=0,d=t.length;a<d;a++){const r=t[a],u=n[r];o.push(u)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();return Ce(n[tt(0,n.length-1,o=>Ce(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize();n==="auto"&&(t<=this.scrollOffset?n="start":t>=this.scrollOffset+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",r=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-this.getSize();return Math.max(Math.min(r,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=Ce(this.getMeasurements()[t]);if(n==="auto")if(o.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)n="end";else if(o.start<=this.scrollOffset+this.options.scrollPaddingStart)n="start";else return[this.scrollOffset,n];const a=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,n),n]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[a,d]=this.getOffsetForIndex(t,n);this._scrollToOffset(a,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[u]=this.getOffsetForIndex(t,d);an(u,this.scrollOffset)||this.scrollToIndex(t,{align:d,behavior:o})}else this.scrollToIndex(t,{align:d,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(a=>a.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{var t,n;this.itemSizeCache=new Map,(n=(t=this.options).onChange)==null||n.call(t,this,!1)},this.setOptions(i),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const tt=(e,i,t,n)=>{for(;e<=i;){const o=(e+i)/2|0,a=t(o);if(a<n)e=o+1;else if(a>n)i=o-1;else return o}return e>0?e-1:0};function gn({measurements:e,outerSize:i,scrollOffset:t}){const n=e.length-1,a=tt(0,n,r=>e[r].start,t);let d=a;for(;d<n&&e[d].end<t+i;)d++;return{startIndex:a,endIndex:d}}const bn=typeof document<"u"?p.useLayoutEffect:p.useEffect;function xn(e){const i=p.useReducer(()=>({}),{})[1],t={...e,onChange:(o,a)=>{var d;a?dt.flushSync(i):i(),(d=e.onChange)==null||d.call(e,o,a)}},[n]=p.useState(()=>new hn(t));return n.setOptions(t),p.useEffect(()=>n._didMount(),[]),bn(()=>n._willUpdate()),n}function vn(e){return xn({observeElementRect:un,observeElementOffset:mn,scrollToFn:fn,...e})}function yn(){let e=Oe();return R(i=>{e.dispose(),e.nextFrame(i)})}function nt(e){let i=p.useRef({value:"",selectionStart:null,selectionEnd:null});return en(e.current,"blur",t=>{let n=t.target;n instanceof HTMLInputElement&&(i.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),R(()=>{let t=e.current;if(document.activeElement!==t&&t instanceof HTMLInputElement&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==i.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:n,selectionEnd:o}=i.current;n!==null&&o!==null&&t.setSelectionRange(n,o)}i.current={value:"",selectionStart:null,selectionEnd:null}}})}function Cn({container:e,accept:i,walk:t,enabled:n=!0}){let o=p.useRef(i),a=p.useRef(t);p.useEffect(()=>{o.current=i,a.current=t},[i,t]),ee(()=>{if(!e||!n)return;let d=ut(e);if(!d)return;let r=o.current,u=a.current,m=Object.assign(s=>r(s),{acceptNode:r}),c=d.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,m,!1);for(;c.nextNode();)u(c.currentNode)},[e,n,o,a])}var Ae=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Ae||{}),Sn={},In=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(In||{}),En=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(En||{}),Tn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Tn||{}),On=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.SetActivationTrigger=5]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=6]="UpdateVirtualConfiguration",e))(On||{});function Se(e,i=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=i(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((d,r)=>d.dataRef.current.order-r.dataRef.current.order):kt(n,d=>d.dataRef.current.domRef.current),a=t?o.indexOf(t):null;return a===-1&&(a=null),{options:o,activeOptionIndex:a}}let Rn={1(e){var i;return(i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,activationTrigger:2,__demoMode:!1}},0(e){var i,t;if((i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},2(e,i){var t,n,o,a,d;if((t=e.dataRef.current)!=null&&t.disabled||(n=e.dataRef.current)!=null&&n.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:s}=e.virtual,E=i.focus===q.Specific?i.idx:Me(i,{resolveItems:()=>c,resolveActiveIndex:()=>{var T,O;return(O=(T=e.activeOptionIndex)!=null?T:c.findIndex(b=>!s(b)))!=null?O:null},resolveDisabled:s,resolveId(){throw new Error("Function not implemented.")}}),N=(a=i.trigger)!=null?a:2;return e.activeOptionIndex===E&&e.activationTrigger===N?e:{...e,activeOptionIndex:E,activationTrigger:N,__demoMode:!1}}let r=Se(e);if(r.activeOptionIndex===null){let c=r.options.findIndex(s=>!s.dataRef.current.disabled);c!==-1&&(r.activeOptionIndex=c)}let u=i.focus===q.Specific?i.idx:Me(i,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),m=(d=i.trigger)!=null?d:2;return e.activeOptionIndex===u&&e.activationTrigger===m?e:{...e,...r,activeOptionIndex:u,activationTrigger:m,__demoMode:!1}},3:(e,i)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,i.payload]};let a=i.payload,d=Se(e,u=>(u.push(a),u));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(i.payload.dataRef.current.value)&&(d.activeOptionIndex=d.options.indexOf(a));let r={...e,...d,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(r.activeOptionIndex=0),r},4:(e,i)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==i.id)};let n=Se(e,o=>{let a=o.findIndex(d=>d.id===i.id);return a!==-1&&o.splice(a,1),o});return{...e,...n,activationTrigger:2}},5:(e,i)=>e.activationTrigger===i.trigger?e:{...e,activationTrigger:i.trigger},6:(e,i)=>{var t,n;if(e.virtual===null)return{...e,virtual:{options:i.options,disabled:(t=i.disabled)!=null?t:()=>!1}};if(e.virtual.options===i.options&&e.virtual.disabled===i.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let a=i.options.indexOf(e.virtual.options[e.activeOptionIndex]);a!==-1?o=a:o=null}return{...e,activeOptionIndex:o,virtual:{options:i.options,disabled:(n=i.disabled)!=null?n:()=>!1}}}},je=p.createContext(null);je.displayName="ComboboxActionsContext";function fe(e){let i=p.useContext(je);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return i}let ot=p.createContext(null);function Nn(e){let i=ue("VirtualProvider"),{options:t}=i.virtual,[n,o]=p.useMemo(()=>{let m=i.optionsRef.current;if(!m)return[0,0];let c=window.getComputedStyle(m);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[i.optionsRef.current]),a=vn({scrollPaddingStart:n,scrollPaddingEnd:o,count:t.length,estimateSize(){return 40},getScrollElement(){var m;return(m=i.optionsRef.current)!=null?m:null},overscan:12}),[d,r]=p.useState(0);ee(()=>{r(m=>m+1)},[t]);let u=a.getVirtualItems();return u.length===0?null:H.createElement(ot.Provider,{value:a},H.createElement("div",{style:{position:"relative",width:"100%",height:`${a.getTotalSize()}px`},ref:m=>{if(m){if(typeof process<"u"&&Sn.JEST_WORKER_ID!==void 0||i.activationTrigger===0)return;i.activeOptionIndex!==null&&t.length>i.activeOptionIndex&&a.scrollToIndex(i.activeOptionIndex)}}},u.map(m=>{var c;return H.createElement(p.Fragment,{key:m.key},H.cloneElement((c=e.children)==null?void 0:c.call(e,{option:t[m.index],open:i.comboboxState===0}),{key:`${d}-${m.key}`,"data-index":m.index,"aria-setsize":t.length,"aria-posinset":m.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${m.start}px)`,overflowAnchor:"none"}}))})))}let be=p.createContext(null);be.displayName="ComboboxDataContext";function ue(e){let i=p.useContext(be);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ue),t}return i}function An(e,i){return de(i.type,Rn,e,i)}let jn=p.Fragment;function Ln(e,i){var t,n;let o=ct(),{value:a,defaultValue:d,onChange:r,form:u,name:m,by:c,disabled:s=o||!1,onClose:E,__demoMode:N=!1,multiple:T=!1,immediate:O=!1,virtual:b=null,nullable:j,...z}=e,L=mt(d),[y=T?[]:void 0,$]=pt(a,r,L),[w,k]=p.useReducer(An,{dataRef:p.createRef(),comboboxState:N?0:1,options:[],virtual:b?{options:b.options,disabled:(t=b.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:N}),I=p.useRef(!1),Y=p.useRef({static:!1,hold:!1}),X=p.useRef(null),_=p.useRef(null),Q=p.useRef(null),U=ft(c),P=R(C=>b?c===null?b.options.indexOf(C):b.options.findIndex(A=>U(A,C)):w.options.findIndex(A=>U(A.dataRef.current.value,C))),J=p.useCallback(C=>de(v.mode,{1:()=>y.some(A=>U(A,C)),0:()=>U(y,C)}),[y]),se=R(C=>w.activeOptionIndex===P(C)),v=p.useMemo(()=>({...w,immediate:O,optionsPropsRef:Y,inputRef:X,buttonRef:_,optionsRef:Q,value:y,defaultValue:L,disabled:s,mode:T?1:0,virtual:b?w.virtual:null,get activeOptionIndex(){if(I.current&&w.activeOptionIndex===null&&(b?b.options.length>0:w.options.length>0)){if(b){let A=b.options.findIndex(W=>{var f,x;return!((x=(f=b.disabled)==null?void 0:f.call(b,W))!=null&&x)});if(A!==-1)return A}let C=w.options.findIndex(A=>!A.dataRef.current.disabled);if(C!==-1)return C}return w.activeOptionIndex},calculateIndex:P,compare:U,isSelected:J,isActive:se}),[y,L,s,T,N,w,b]);ee(()=>{var C;b&&k({type:6,options:b.options,disabled:(C=b.disabled)!=null?C:null})},[b,b==null?void 0:b.options,b==null?void 0:b.disabled]),ee(()=>{w.dataRef.current=v},[v]),ht([v.buttonRef,v.inputRef,v.optionsRef],()=>M.closeCombobox(),v.comboboxState===0);let te=p.useMemo(()=>{var C,A,W;return{open:v.comboboxState===0,disabled:s,activeIndex:v.activeOptionIndex,activeOption:v.activeOptionIndex===null?null:v.virtual?v.virtual.options[(C=v.activeOptionIndex)!=null?C:0]:(W=(A=v.options[v.activeOptionIndex])==null?void 0:A.dataRef.current.value)!=null?W:null,value:y}},[v,s,y]),ae=R(()=>{if(v.activeOptionIndex!==null){if(v.virtual)h(v.virtual.options[v.activeOptionIndex]);else{let{dataRef:C}=v.options[v.activeOptionIndex];h(C.current.value)}M.goToOption(q.Specific,v.activeOptionIndex)}}),ne=R(()=>{k({type:0}),I.current=!0}),ie=R(()=>{k({type:1}),I.current=!1,E==null||E()}),re=R((C,A,W)=>(I.current=!1,C===q.Specific?k({type:2,focus:q.Specific,idx:A,trigger:W}):k({type:2,focus:C,trigger:W}))),le=R((C,A)=>(k({type:3,payload:{id:C,dataRef:A}}),()=>{v.isActive(A.current.value)&&(I.current=!0),k({type:4,id:C})})),h=R(C=>de(v.mode,{0(){return $==null?void 0:$(C)},1(){let A=v.value.slice(),W=A.findIndex(f=>U(f,C));return W===-1?A.push(C):A.splice(W,1),$==null?void 0:$(A)}})),B=R(C=>{k({type:5,trigger:C})}),M=p.useMemo(()=>({onChange:h,registerOption:le,goToOption:re,closeCombobox:ie,openCombobox:ne,setActivationTrigger:B,selectActiveOption:ae}),[]),[V,F]=gt(),D=i===null?{}:{ref:i},Z=p.useCallback(()=>{if(L!==void 0)return $==null?void 0:$(L)},[$,L]);return H.createElement(F,{value:V,props:{htmlFor:(n=v.inputRef.current)==null?void 0:n.id},slot:{open:v.comboboxState===0,disabled:s}},H.createElement(bt,null,H.createElement(je.Provider,{value:M},H.createElement(be.Provider,{value:v},H.createElement(xt,{value:de(v.comboboxState,{0:he.Open,1:he.Closed})},m!=null&&H.createElement(vt,{disabled:s,data:y!=null?{[m]:y}:{},form:u,onReset:Z}),pe({ourProps:D,theirProps:z,slot:te,defaultTag:jn,name:"Combobox"}))))))}let wn="input";function Pn(e,i){var t,n,o,a,d;let r=ue("Combobox.Input"),u=fe("Combobox.Input"),m=p.useId(),c=yt(),{id:s=c||`headlessui-combobox-input-${m}`,onChange:E,displayValue:N,disabled:T=r.disabled||!1,autoFocus:O=!1,type:b="text",...j}=e,z=ge(r.inputRef,i,Ct()),L=Je(r.inputRef),y=p.useRef(!1),$=Oe(),w=R(()=>{u.onChange(null),r.optionsRef.current&&(r.optionsRef.current.scrollTop=0),u.goToOption(q.Nothing)}),k=p.useMemo(()=>{var h;return typeof N=="function"&&r.value!==void 0?(h=N(r.value))!=null?h:"":typeof r.value=="string"?r.value:""},[r.value,N]);_e(([h,B],[M,V])=>{if(y.current)return;let F=r.inputRef.current;F&&((V===0&&B===1||h!==M)&&(F.value=h),requestAnimationFrame(()=>{if(y.current||!F||(L==null?void 0:L.activeElement)!==F)return;let{selectionStart:D,selectionEnd:Z}=F;Math.abs((Z??0)-(D??0))===0&&D===0&&F.setSelectionRange(F.value.length,F.value.length)}))},[k,r.comboboxState,L]),_e(([h],[B])=>{if(h===0&&B===1){if(y.current)return;let M=r.inputRef.current;if(!M)return;let V=M.value,{selectionStart:F,selectionEnd:D,selectionDirection:Z}=M;M.value="",M.value=V,Z!==null?M.setSelectionRange(F,D,Z):M.setSelectionRange(F,D)}},[r.comboboxState]);let I=p.useRef(!1),Y=R(()=>{I.current=!0}),X=R(()=>{$.nextFrame(()=>{I.current=!1})}),_=yn(),Q=R(h=>{switch(y.current=!0,_(()=>{y.current=!1}),h.key){case G.Enter:if(y.current=!1,r.comboboxState!==0||I.current)return;if(h.preventDefault(),h.stopPropagation(),r.activeOptionIndex===null){u.closeCombobox();return}u.selectActiveOption(),r.mode===0&&u.closeCombobox();break;case G.ArrowDown:return y.current=!1,h.preventDefault(),h.stopPropagation(),de(r.comboboxState,{0:()=>u.goToOption(q.Next),1:()=>u.openCombobox()});case G.ArrowUp:return y.current=!1,h.preventDefault(),h.stopPropagation(),de(r.comboboxState,{0:()=>u.goToOption(q.Previous),1:()=>{u.openCombobox(),$.nextFrame(()=>{r.value||u.goToOption(q.Last)})}});case G.Home:if(h.shiftKey)break;return y.current=!1,h.preventDefault(),h.stopPropagation(),u.goToOption(q.First);case G.PageUp:return y.current=!1,h.preventDefault(),h.stopPropagation(),u.goToOption(q.First);case G.End:if(h.shiftKey)break;return y.current=!1,h.preventDefault(),h.stopPropagation(),u.goToOption(q.Last);case G.PageDown:return y.current=!1,h.preventDefault(),h.stopPropagation(),u.goToOption(q.Last);case G.Escape:return y.current=!1,r.comboboxState!==0?void 0:(h.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&h.stopPropagation(),r.mode===0&&r.value===null&&w(),u.closeCombobox());case G.Tab:if(y.current=!1,r.comboboxState!==0)return;r.mode===0&&r.activationTrigger!==1&&u.selectActiveOption(),u.closeCombobox();break}}),U=R(h=>{E==null||E(h),r.mode===0&&h.target.value===""&&w(),u.openCombobox()}),P=R(h=>{var B,M,V;let F=(B=h.relatedTarget)!=null?B:ze.find(D=>D!==h.currentTarget);if(y.current=!1,!((M=r.optionsRef.current)!=null&&M.contains(F))&&!((V=r.buttonRef.current)!=null&&V.contains(F))&&r.comboboxState===0)return h.preventDefault(),r.mode===0&&r.value===null&&w(),u.closeCombobox()}),J=R(h=>{var B,M,V;let F=(B=h.relatedTarget)!=null?B:ze.find(D=>D!==h.currentTarget);(M=r.buttonRef.current)!=null&&M.contains(F)||(V=r.optionsRef.current)!=null&&V.contains(F)||r.disabled||r.immediate&&r.comboboxState!==0&&(u.openCombobox(),$.nextFrame(()=>{u.setActivationTrigger(1)}))}),se=Re(),v=St(),{isFocused:te,focusProps:ae}=Xe({autoFocus:O}),{isHovered:ne,hoverProps:ie}=Ze({isDisabled:T}),re=p.useMemo(()=>({open:r.comboboxState===0,disabled:T,hover:ne,focus:te,autofocus:O}),[r,ne,te,O,T]),le=Ne({ref:z,id:s,role:"combobox",type:b,"aria-controls":(t=r.optionsRef.current)==null?void 0:t.id,"aria-expanded":r.comboboxState===0,"aria-activedescendant":r.activeOptionIndex===null?void 0:r.virtual?(n=r.options.find(h=>!h.dataRef.current.disabled&&r.compare(h.dataRef.current.value,r.virtual.options[r.activeOptionIndex])))==null?void 0:n.id:(o=r.options[r.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":se,"aria-describedby":v,"aria-autocomplete":"list",defaultValue:(d=(a=e.defaultValue)!=null?a:r.defaultValue!==void 0?N==null?void 0:N(r.defaultValue):null)!=null?d:r.defaultValue,disabled:T||void 0,autoFocus:O,onCompositionStart:Y,onCompositionEnd:X,onKeyDown:Q,onChange:U,onFocus:J,onBlur:P},ae,ie);return pe({ourProps:le,theirProps:j,slot:re,defaultTag:wn,name:"Combobox.Input"})}let Mn="button";function Fn(e,i){var t;let n=ue("Combobox.Button"),o=fe("Combobox.Button"),a=ge(n.buttonRef,i),d=p.useId(),{id:r=`headlessui-combobox-button-${d}`,disabled:u=n.disabled||!1,autoFocus:m=!1,...c}=e,s=Oe(),E=nt(n.inputRef),N=R(I=>{switch(I.key){case G.Space:case G.Enter:return I.preventDefault(),I.stopPropagation(),n.comboboxState===1&&o.openCombobox(),s.nextFrame(()=>E());case G.ArrowDown:return I.preventDefault(),I.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),s.nextFrame(()=>{n.value||o.goToOption(q.First)})),s.nextFrame(()=>E());case G.ArrowUp:return I.preventDefault(),I.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),s.nextFrame(()=>{n.value||o.goToOption(q.Last)})),s.nextFrame(()=>E());case G.Escape:return n.comboboxState!==0?void 0:(I.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&I.stopPropagation(),o.closeCombobox(),s.nextFrame(()=>E()));default:return}}),T=R(I=>{I.preventDefault(),!Ft(I.currentTarget)&&(I.button===Ae.Left&&(n.comboboxState===0?o.closeCombobox():o.openCombobox()),E())}),O=Re([r]),{isFocusVisible:b,focusProps:j}=Xe({autoFocus:m}),{isHovered:z,hoverProps:L}=Ze({isDisabled:u}),{pressed:y,pressProps:$}=It({disabled:u}),w=p.useMemo(()=>({open:n.comboboxState===0,active:y||n.comboboxState===0,disabled:u,value:n.value,hover:z,focus:b}),[n,z,b,y,u]),k=Ne({ref:a,id:r,type:Et(e,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":O,disabled:u||void 0,autoFocus:m,onMouseDown:T,onKeyDown:N},j,L,$);return pe({ourProps:k,theirProps:c,slot:w,defaultTag:Mn,name:"Combobox.Button"})}let $n="div",kn=Le.RenderStrategy|Le.Static;function qn(e,i){var t;let n=p.useId(),{id:o=`headlessui-combobox-options-${n}`,hold:a=!1,anchor:d,portal:r=!1,modal:u=!0,...m}=e,c=ue("Combobox.Options"),s=fe("Combobox.Options"),E=Tt(d);E&&(r=!0);let[N,T]=Ot(E),O=Rt(),b=ge(c.optionsRef,i,E?N:null),j=Je(c.optionsRef),z=Nt(),L=z!==null?(z&he.Open)===he.Open:c.comboboxState===0;At(c.inputRef,s.closeCombobox,L),jt(j,c.__demoMode?!1:u&&c.comboboxState===0),Lt({allowed:R(()=>[c.inputRef.current,c.buttonRef.current,c.optionsRef.current])},c.__demoMode?!1:u&&c.comboboxState===0),ee(()=>{var _;c.optionsPropsRef.current.static=(_=e.static)!=null?_:!1},[c.optionsPropsRef,e.static]),ee(()=>{c.optionsPropsRef.current.hold=a},[c.optionsPropsRef,a]),Cn({container:c.optionsRef.current,enabled:c.comboboxState===0,accept(_){return _.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:_.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(_){_.setAttribute("role","none")}});let y=Re([(t=c.buttonRef.current)==null?void 0:t.id]),$=p.useMemo(()=>({open:c.comboboxState===0,option:void 0}),[c]),w=R(()=>{s.setActivationTrigger(0)}),k=Ne(E?O():{},{"aria-labelledby":y,role:"listbox","aria-multiselectable":c.mode===1?!0:void 0,id:o,ref:b,style:{...T,"--input-width":we(c.inputRef,!0).width,"--button-width":we(c.buttonRef,!0).width},onWheel:w});c.virtual&&L&&Object.assign(m,{children:H.createElement(Nn,null,m.children)});let[I,Y]=p.useState(c.value);c.value!==I&&c.comboboxState===0&&c.mode!==1&&Y(c.value);let X=R(_=>c.compare(I,_));return H.createElement(wt,{enabled:r?e.static||L:!1},H.createElement(be.Provider,{value:c.mode===1?c:{...c,isSelected:X}},pe({ourProps:k,theirProps:m,slot:$,defaultTag:$n,features:kn,visible:L,name:"Combobox.Options"})))}let _n="div";function zn(e,i){var t,n,o,a;let d=ue("Combobox.Option"),r=fe("Combobox.Option"),u=p.useId(),{id:m=`headlessui-combobox-option-${u}`,value:c,disabled:s=(o=(n=(t=d.virtual)==null?void 0:t.disabled)==null?void 0:n.call(t,c))!=null?o:!1,order:E=null,...N}=e,T=nt(d.inputRef),O=d.virtual?d.activeOptionIndex===d.calculateIndex(c):d.activeOptionIndex===null?!1:((a=d.options[d.activeOptionIndex])==null?void 0:a.id)===m,b=d.isSelected(c),j=p.useRef(null),z=Pt({disabled:s,value:c,domRef:j,order:E}),L=p.useContext(ot),y=ge(i,j,L?L.measureElement:null),$=R(()=>r.onChange(c));ee(()=>r.registerOption(m,z),[z,m]);let w=p.useRef(!(d.virtual||d.__demoMode));ee(()=>{if(!d.virtual&&!d.__demoMode)return Pe().requestAnimationFrame(()=>{w.current=!0})},[d.virtual,d.__demoMode]),ee(()=>{if(w.current&&d.comboboxState===0&&O&&d.activationTrigger!==0)return Pe().requestAnimationFrame(()=>{var P,J;(J=(P=j.current)==null?void 0:P.scrollIntoView)==null||J.call(P,{block:"nearest"})})},[j,O,d.comboboxState,d.activationTrigger,d.activeOptionIndex]);let k=R(P=>{P.preventDefault(),P.button===Ae.Left&&(s||($(),$t()||requestAnimationFrame(()=>T()),d.mode===0&&r.closeCombobox()))}),I=R(()=>{if(s)return r.goToOption(q.Nothing);let P=d.calculateIndex(c);r.goToOption(q.Specific,P)}),Y=Mt(),X=R(P=>Y.update(P)),_=R(P=>{if(!Y.wasMoved(P)||s||O)return;let J=d.calculateIndex(c);r.goToOption(q.Specific,J,0)}),Q=R(P=>{Y.wasMoved(P)&&(s||O&&(d.optionsPropsRef.current.hold||r.goToOption(q.Nothing)))}),U=p.useMemo(()=>({active:O,focus:O,selected:b,disabled:s}),[O,b,s]);return pe({ourProps:{id:m,ref:y,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:k,onFocus:I,onPointerEnter:X,onMouseEnter:X,onPointerMove:_,onMouseMove:_,onPointerLeave:Q,onMouseLeave:Q},theirProps:N,slot:U,defaultTag:_n,name:"Combobox.Option"})}let Dn=me(Ln),st=me(Fn),at=me(Pn),Bn=Ie,it=me(qn),rt=me(zn),Vn=Object.assign(Dn,{Input:at,Button:st,Label:Bn,Options:it,Option:rt});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=qt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Un=({isOpen:e,setIsOpen:i})=>l.jsx(tn,{open:e,onClose:()=>i(!1),className:"relative z-50",children:l.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4 bg-primary/50 backdrop-blur-lg",children:l.jsxs(nn,{className:"container space-y-4 border bg-primary-50 p-5 rounded-lg shadow-lg text-center text-primary",children:[l.jsx(on,{className:"font-semibold text-xl",children:"Terms and Conditions"}),l.jsxs(_t,{className:"text-gray-500 px-5 bg-white border p-4 rounded-lg h-[50vh] sm:h-[60vh]  overflow-x-scroll",children:[l.jsx("p",{className:"mb-5 text-base",children:"CENTRAL BANK OF SRI LANKA"}),l.jsx("p",{className:"mb-5",children:"I CASCC (Primary Cardholder), declare that all details given above by me on this form are true and correct."}),l.jsx("p",{className:"mb-5",children:"I hereby confirm that I am aware of the conditions imposed under the provision of the Foreign Exchange Act, No 12 of 2017 (the Act) on Electronic Fund Transfer Cards (EFTCs) subject to which the card may be used for transactions in foreign exchange and I hereby undertake to abide by the said conditions."}),l.jsx("p",{className:"mb-5",children:"I further agree to provide any information on transactions carried out by me in foreign exchange on the card issued to me as LOLC Finance PLC may require for the purpose of Act."}),l.jsx("p",{className:"mb-5",children:"I am aware that the restricted financial institution is required to suspend availability of foreign exchange on ETFC if reasonable grounds exist to suspect that unauthorized foreign exchange transactions are being carried out on the EFTC issued to me and to report the matter to the Director-Department of Foreign Exchange. I also affirm that I undertake to surrender the Credit Card to LOLC Finance PLC, if I migrate or leave Sri Lanka for employment abroad."}),l.jsx("p",{className:"mb-5 text-red-500",children:"Terms & Condition | Tariff"}),l.jsx("p",{className:"mb-5",children:"I confirm that I accept clauses herein and shall be taken as my acceptance of the accuracy of the information supplied by me for the purpose of the entirety of this digital/online application."})]}),l.jsx("div",{className:"flex justify-center sm:justify-end",children:l.jsx(Ee,{className:"w-full sm:w-40",onClick:()=>i(!1),variant:"primary",children:"Close"})})]})})}),Wn=(e,i)=>async t=>{t(zt());try{const n=await Qe.post("/general-customer",i);t(Dt(n.data)),Fe.success(n.data.message),e("/document-detail")}catch(n){n instanceof Error?(t($e(n.message)),Fe.error(n.message)):t($e("An unknown error occurred"))}},Hn=p.forwardRef(({options:e,disabled:i,label:t,className:n,required:o,error:a,...d},r)=>{const[u,m]=p.useState(""),c=u===""?e:e&&e.filter(s=>s.toLowerCase().includes(u.toLowerCase()));return l.jsxs(Bt,{children:[l.jsxs(Ie,{className:"block text-sm font-medium text-primary-950 text-left mb-1",children:[t,o&&l.jsx("span",{className:"ml-1 text-red-800",children:"*"})]}),l.jsxs(Vn,{onClose:()=>m(""),as:"div",...d,children:[l.jsxs("div",{className:"relative",children:[l.jsx(at,{className:De("w-full rounded-lg border border-primary-400 py-2 px-3 bg-white text-primary-950 text-sm","focus:outline-none data-[focus]:outline-2 data-[focus]:-outline-offset-2 data-[focus]:outline-white/25",n),displayValue:s=>s,onChange:s=>m(s.target.value),placeholder:`Select a ${t.toLowerCase()}`,disabled:i,ref:r}),l.jsx(st,{className:"group absolute inset-y-0 right-0 px-2.5",children:l.jsx(Vt,{className:"size-4 fill-white/60 group-data-[hover]:fill-white"})})]}),l.jsx(it,{anchor:"bottom",className:De("w-[var(--input-width)] bg-primary-50 rounded-lg shadow-lg [--anchor-gap:var(--spacing-1)] empty:invisible","transition duration-100 ease-in data-[leave]:data-[closed]:opacity-0"),children:c&&c.map(s=>l.jsxs(rt,{value:s,className:"group flex cursor-default items-center gap-2 py-1.5 select-none data-[focus]:bg-primary/10 px-2",children:[l.jsx(Gn,{className:"invisible size-4 group-data-[selected]:visible"}),l.jsx("div",{className:"text-sm text-primary-900",children:s})]},s))})]}),l.jsx(Ie,{className:"block text-xs font-medium text-red-800 text-left mt-1 italic normal-case",children:a})]})}),Kn=()=>async e=>{e(Gt());try{const i=await Qe.get("/branches/fusion");e(Ut(i.data.data.content??[]))}catch(i){i instanceof Error?e(ke(i.message)):e(ke("An unknown error occurred"))}},Te=new Date;Te.setFullYear(Te.getFullYear()-18);const Yn=Jt({fullName:g().min(1,"Full name is required").refine(e=>/^[a-zA-Z\s.]+$/.test(e),{message:"Full name can only contain letters"}),nationality:g().min(1,"Nationality is required"),preferredLanguage:g().min(1,"Preferred language is required"),dob:g().refine(e=>{const i=new Date(e),t=Te.getTime();return!isNaN(i.getTime())&&i.getTime()<=t},{message:"You must be at least 18 years old"}),mothersMaidenName:g().min(1,"Mother's maiden name is required").refine(e=>/^[a-zA-Z\s.]+$/.test(e),{message:"Full name can only contain letters"}),residencePhone:g().optional().refine(e=>!e||/^(?:[0-9]{10})$/.test(e),{message:"Invalid phone number"}),permAddressLine1:g().min(1,"Permanent address is required"),permAddressLine2:g().optional(),permAddressLine3:g().optional(),permAddressLine4:g().optional(),mailAddressLine1:g().min(1,"Maling address is required"),mailAddressLine2:g().optional(),mailAddressLine3:g().optional(),mailAddressLine4:g().optional(),whatsappNo:g().min(1,"WhatsApp number is requied").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),additionalContactNo:g().optional().refine(e=>!e||/^(?:[0-9]{10})$/.test(e),{message:"Invalid phone number"}),residenceType:g().min(1,"Residence type is required"),province:g().min(1,"Province is required"),politicallyExposed:g().min(1,"Politically exposed is required"),employmentCategory:g().min(1,"Employment category is required"),governmentSectorType:g().min(1,"Government sector type is required").optional(),pvtSectorType:g().min(1,"Private sector type is required").optional(),selfEmpType:g().min(1,"Self employed types is required").optional(),expInPresentEmployment:g().min(1,"Experience in present employment is required").regex(/^[0-9]*$/,"Years in number reqired"),experienceInPreviousEmployment:g().min(1,"Experience in previous employment is required").regex(/^[0-9]*$/,"Years in number reqired"),nameOfThePreviousEmployer:g().min(1,"Name of the previous employer is required"),occupationType:g().min(1,"Occupation type is required"),nameOfTheEmployer:g().min(1,"Name of the employer/business is required"),designation:g().min(1,"Designation is required"),monthlyNetIncome:g().min(1,"Monthly net income is required"),officeContactNo:g().min(1,"Office contact number is required").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),officeAddressLine1:g().min(1,"Office address is required"),officeAddressLine2:g().optional(),officeAddressLine3:g().optional(),officeAddressLine4:g().optional(),guarantorName:g().min(1,"Guarantor name is required").refine(e=>/^[a-zA-Z\s.]+$/.test(e),{message:"Full name can only contain letters"}),relationShipToApplicant:g().min(1,"Relationship to applicant is required"),guarantorNic:g().min(1,"Guarantor NIC number is required").regex(/^(?:\d{9}[vVxX]|\d{12})$/,"Invalid NIC number"),guarantorMobileNo:g().min(1,"Guarantor mobile number is required").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),guarantorAddressLine1:g().min(1,"Office address is required"),guarantorAddressLine2:g().optional(),guarantorAddressLine3:g().optional(),guarantorAddressLine4:g().optional(),cardCollectBranch:g().min(1,"Card collection branch is required"),nameOnCard:g().min(1,"Name on card is required"),termsAndCondition:Xt().refine(e=>e===!0,"You must accept the Terms and Conditions.")}),Jn=[{label:"Sri Lankan",value:"SriLankan"},{label:"Other",value:"Other"}],Xn=[{label:"Resident",value:"Resident"},{label:"Nonresident",value:"NonResident"}],Zn=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],Ve=["English","Sinhala","Tamil"],Ge=["Central","Eastern","North Central","North Western","Northern","Sabaragamuwa","Southern","Western","Uva"],Ue=["Government Sector","Private Sector","Self Employed"],We=["Government Healthcare Professionals","Government Bankers","Others"],He=["Private Healthcare Professionals","Private Bankers","Others"],Ke=["Entrepreneurs/Small Business Owners","Freelancers"],Ye=["Full Time","Part Time","Contract"],no=()=>{var Q,U,P,J,se,v,te,ae,ne,ie,re,le,h,B,M,V,F,D,Z,C,A,W;const{data:e}=ve(f=>f.userLogin),{loading:i}=ve(f=>f.userDetailPost),{data:t}=ve(f=>f.allBranches),n=sn((e==null?void 0:e.nic)??""),{control:o,register:a,unregister:d,handleSubmit:r,setValue:u,getValues:m,watch:c,formState:{errors:s}}=Zt({resolver:Qt(Yn),shouldUnregister:!0,defaultValues:{nationality:"",fullName:"",preferredLanguage:Ve[0],dob:(n==null?void 0:n.Birthday)??"",mothersMaidenName:"",residencePhone:"",whatsappNo:"",additionalContactNo:"",residenceType:"",permAddressLine1:"",permAddressLine2:"",permAddressLine3:"",permAddressLine4:"",province:Ge[0],mailAddressLine1:"",mailAddressLine2:"",mailAddressLine3:"",mailAddressLine4:"",politicallyExposed:"",employmentCategory:Ue[0],expInPresentEmployment:"",occupationType:Ye[0],nameOfTheEmployer:"",designation:"",monthlyNetIncome:"",officeContactNo:"",officeAddressLine1:"",officeAddressLine2:"",officeAddressLine3:"",officeAddressLine4:"",experienceInPreviousEmployment:"",nameOfThePreviousEmployer:"",guarantorName:"",relationShipToApplicant:"",guarantorNic:"",guarantorMobileNo:"",guarantorAddressLine1:"",guarantorAddressLine2:"",guarantorAddressLine3:"",guarantorAddressLine4:"",cardCollectBranch:"",nameOnCard:"",termsAndCondition:!1,governmentSectorType:We[0],pvtSectorType:He[0],selfEmpType:Ke[0]}}),E=Wt(),N=Ht(),T=c("employmentCategory"),[O,b]=p.useState(!1),[j,z]=p.useState(!1),[L,y]=p.useState(!1),[$,w]=p.useState(!1),k=c("monthlyNetIncome");p.useEffect(()=>{const x=k.replace(/[^0-9.]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");u("monthlyNetIncome",x)},[k]);const I=f=>{N(Wn(E,{...f,referenceNo:(e==null?void 0:e.referenceNo)??""}))},Y=f=>{u("nationality",f)},X=f=>{u("residenceType",f)},_=f=>{u("politicallyExposed",f)};return p.useEffect(()=>{if(O?u("whatsappNo",(e==null?void 0:e.mobileNumber)??""):u("whatsappNo",""),j){const{permAddressLine1:f,permAddressLine2:x,permAddressLine3:xe,permAddressLine4:lt}=m();u("mailAddressLine1",f),u("mailAddressLine2",x),u("mailAddressLine3",xe),u("mailAddressLine4",lt)}else u("mailAddressLine1",""),u("mailAddressLine2",""),u("mailAddressLine3",""),u("mailAddressLine4","");if(L){const{fullName:f}=m();u("nameOnCard",f)}else u("nameOnCard","")},[O,j,L]),p.useEffect(()=>{const{employmentCategory:f}=m();f==="Government"&&d("employmentCategory")},[c]),p.useEffect(()=>{N(Kn())},[]),l.jsxs("div",{className:"bg-card-pattern flex justify-center py-5 px-2 sm:px-0 sm:h-screen",children:[l.jsxs("div",{className:"container flex flex-col justify-center items-center",children:[l.jsx("img",{className:"w-32 mb-3 animate-fade-up animate-duration-[1200ms] animate-once",src:Kt}),l.jsxs("form",{onSubmit:r(I),className:"w-full grid grid-cols-1 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[3000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[l.jsx("p",{className:"font-semibold text-primary-950",children:"Customer Personal Details"}),l.jsx(S,{type:"text",label:"Full Name",required:!0,error:(Q=s==null?void 0:s.fullName)==null?void 0:Q.message,...a("fullName")}),l.jsx(S,{type:"date",label:"Date of Birth",required:!0,error:(U=s==null?void 0:s.dob)==null?void 0:U.message,...a("dob")}),l.jsx(S,{type:"text",label:"Mother's Maiden Name",required:!0,error:(P=s==null?void 0:s.mothersMaidenName)==null?void 0:P.message,...a("mothersMaidenName")}),l.jsx(S,{type:"tel",label:"WhatsApp Number",error:(J=s==null?void 0:s.whatsappNo)==null?void 0:J.message,...a("whatsappNo"),check:!0,checkLabel:"Same as the mobile number",checkStatus:O,setCheackStatus:b,required:!0}),l.jsxs(l.Fragment,{children:[l.jsx(S,{type:"text",label:"Permanent Address",...a("permAddressLine1"),placeholder:"Line 1",required:!0}),l.jsx(S,{type:"text",...a("permAddressLine2"),placeholder:"Line 2"}),l.jsx(S,{type:"text",...a("permAddressLine3"),placeholder:"Line 3"}),l.jsx(S,{type:"text",error:(se=s==null?void 0:s.permAddressLine1)==null?void 0:se.message,...a("permAddressLine4"),placeholder:"Line 4"})]}),l.jsxs(l.Fragment,{children:[l.jsx(S,{type:"text",label:"Maling Address",...a("mailAddressLine1"),placeholder:"Line 1",check:!0,checkLabel:"Same as the permanent address",checkStatus:j,setCheackStatus:z,required:!0}),l.jsx(S,{type:"text",...a("mailAddressLine2"),disabled:j,placeholder:"Line 2"}),l.jsx(S,{type:"text",...a("mailAddressLine3"),disabled:j,placeholder:"Line 3"}),l.jsx(S,{type:"text",error:(v=s==null?void 0:s.mailAddressLine1)==null?void 0:v.message,...a("mailAddressLine4"),disabled:j,placeholder:"Line 4"})]}),l.jsx(K,{control:o,name:"province",render:({field:f})=>{var x;return l.jsx(oe,{options:Ge,label:"Province",error:(x=s==null?void 0:s.province)==null?void 0:x.message,...f,required:!0})}}),l.jsx(K,{control:o,name:"preferredLanguage",render:({field:f})=>{var x;return l.jsx(oe,{options:Ve,label:"Preferred Language",error:(x=s==null?void 0:s.preferredLanguage)==null?void 0:x.message,...f,required:!0})}}),l.jsx(K,{control:o,name:"nationality",render:({field:f})=>{var x;return l.jsx(ye,{options:Jn,label:"Nationality",error:(x=s==null?void 0:s.nationality)==null?void 0:x.message,...f,onChange:Y,required:!0})}}),l.jsx(K,{control:o,name:"residenceType",render:({field:f})=>{var x;return l.jsx(ye,{options:Xn,label:"Resident Type",error:(x=s==null?void 0:s.residenceType)==null?void 0:x.message,...f,onChange:X,required:!0})}}),l.jsx(K,{control:o,name:"politicallyExposed",render:({field:f})=>{var x;return l.jsx(ye,{options:Zn,label:"Politically Exposed",error:(x=s==null?void 0:s.politicallyExposed)==null?void 0:x.message,...f,onChange:_,required:!0})}}),l.jsx(S,{type:"tel",label:"Residence Phone Number",error:(te=s==null?void 0:s.residencePhone)==null?void 0:te.message,...a("residencePhone")}),l.jsx(S,{type:"tel",label:"Additional Contact Number",error:(ae=s==null?void 0:s.additionalContactNo)==null?void 0:ae.message,...a("additionalContactNo")})]}),l.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[4000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[l.jsx("p",{className:"font-semibold text-primary-950",children:"Customer Employment Details"}),l.jsx(K,{control:o,name:"employmentCategory",render:({field:f})=>{var x;return l.jsx(oe,{options:Ue,label:"Employment Category",error:(x=s==null?void 0:s.employmentCategory)==null?void 0:x.message,...f,required:!0})}}),T==="Government Sector"&&l.jsx(K,{control:o,name:"governmentSectorType",render:({field:f})=>{var x;return l.jsx(oe,{options:We,label:"Government Sector Type",error:(x=s==null?void 0:s.governmentSectorType)==null?void 0:x.message,...f,required:!0})}}),T==="Private Sector"&&l.jsx(K,{control:o,name:"pvtSectorType",render:({field:f})=>{var x;return l.jsx(oe,{options:He,label:"Private Sector Type",error:(x=s==null?void 0:s.pvtSectorType)==null?void 0:x.message,...f,required:!0})}}),T==="Self Employed"&&l.jsx(K,{control:o,name:"selfEmpType",render:({field:f})=>{var x;return l.jsx(oe,{options:Ke,label:"Self Employed Type",error:(x=s==null?void 0:s.selfEmpType)==null?void 0:x.message,...f,required:!0})}}),l.jsx(S,{type:"text",label:"Name of the Employer / Business",required:!0,error:(ne=s==null?void 0:s.nameOfTheEmployer)==null?void 0:ne.message,...a("nameOfTheEmployer")}),l.jsx(S,{type:"text",label:"Designation",required:!0,error:(ie=s==null?void 0:s.designation)==null?void 0:ie.message,...a("designation")}),l.jsx(K,{control:o,name:"occupationType",render:({field:f})=>{var x;return l.jsx(oe,{options:Ye,label:"Nature of Work",error:(x=s==null?void 0:s.occupationType)==null?void 0:x.message,...f,required:!0})}}),l.jsx(S,{type:"text",label:"Experience in Employment (years)",required:!0,error:(re=s==null?void 0:s.expInPresentEmployment)==null?void 0:re.message,...a("expInPresentEmployment")}),l.jsx(S,{type:"text",label:"Monthly Net Income",required:!0,error:(le=s==null?void 0:s.monthlyNetIncome)==null?void 0:le.message,...a("monthlyNetIncome")}),l.jsx(S,{type:"tel",label:"Office Contact Number",required:!0,error:(h=s==null?void 0:s.officeContactNo)==null?void 0:h.message,...a("officeContactNo")}),l.jsxs(l.Fragment,{children:[l.jsx(S,{type:"text",label:"Office Address",required:!0,...a("officeAddressLine1"),placeholder:"Line 1"}),l.jsx(S,{type:"text",...a("officeAddressLine2"),placeholder:"Line 2"}),l.jsx(S,{type:"text",...a("officeAddressLine3"),placeholder:"Line 3"}),l.jsx(S,{type:"text",error:(B=s==null?void 0:s.officeAddressLine1)==null?void 0:B.message,...a("officeAddressLine4"),placeholder:"Line 4"})]}),l.jsx(S,{type:"text",label:"Experience In Previous Employment (years)",required:!0,error:(M=s==null?void 0:s.experienceInPreviousEmployment)==null?void 0:M.message,...a("experienceInPreviousEmployment")}),l.jsx(S,{type:"text",label:"Name of the Previous Employer",required:!0,error:(V=s==null?void 0:s.nameOfThePreviousEmployer)==null?void 0:V.message,...a("nameOfThePreviousEmployer")})]}),l.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[4000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[l.jsx("p",{className:"font-semibold text-primary-950",children:"Guarantor Details"}),l.jsx(S,{type:"text",label:"Guarantor Name",required:!0,error:(F=s==null?void 0:s.guarantorName)==null?void 0:F.message,...a("guarantorName")}),l.jsx(S,{type:"text",label:"Guarantor NIC",required:!0,error:(D=s==null?void 0:s.guarantorNic)==null?void 0:D.message,...a("guarantorNic")}),l.jsx(S,{type:"tel",label:"Guarantor Mobile Number",required:!0,error:(Z=s==null?void 0:s.guarantorMobileNo)==null?void 0:Z.message,...a("guarantorMobileNo")}),l.jsx(S,{type:"text",label:"Relationship to Applicant",required:!0,error:(C=s==null?void 0:s.relationShipToApplicant)==null?void 0:C.message,...a("relationShipToApplicant")}),l.jsxs(l.Fragment,{children:[l.jsx(S,{type:"text",label:"Guarantor Residential Address",required:!0,...a("guarantorAddressLine1"),placeholder:"Line 1"}),l.jsx(S,{type:"text",...a("guarantorAddressLine2"),placeholder:"Line 2"}),l.jsx(S,{type:"text",...a("guarantorAddressLine3"),placeholder:"Line 3"}),l.jsx(S,{type:"text",error:(A=s==null?void 0:s.guarantorAddressLine1)==null?void 0:A.message,...a("guarantorAddressLine4"),placeholder:"Line 4"})]})]}),l.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[5000ms] animate-once hover:shadow-xl mb-20 sm:mb-0 flex flex-col gap-2  sm:h-[80vh] sm:overflow-scroll",children:[l.jsx("p",{className:"font-semibold text-primary-950",children:"Credit Card Details"}),l.jsx(S,{type:"text",label:"Name on Card",required:!0,error:(W=s==null?void 0:s.nameOnCard)==null?void 0:W.message,...a("nameOnCard"),check:!0,checkLabel:"Same as the full name",checkStatus:L,setCheackStatus:y}),l.jsx(K,{control:o,name:"cardCollectBranch",render:({field:f})=>{var x;return l.jsx(Hn,{options:t!==null?t.map(xe=>xe.branchDes):[],label:"Card Collecting Branch",error:(x=s==null?void 0:s.cardCollectBranch)==null?void 0:x.message,...f,required:!0})}}),l.jsx("div",{className:"bg-primary-200 rounded-lg p-3 text-primary animate-fade-up animate-duration-[1500ms] animate-once",children:l.jsx(K,{control:o,name:"termsAndCondition",render:({field:f})=>{var x;return l.jsx(Yt,{type:"terms",...f,value:f.value?"true":"false",setOpen:w,error:(x=s==null?void 0:s.termsAndCondition)==null?void 0:x.message})}})})]}),l.jsx("div",{className:"md:col-span-4 justify-end h-10 animate-fade-up animate-duration-[6000ms] animate-once hidden sm:flex",children:l.jsx(Ee,{variant:"primary",type:"submit",className:"",children:i?l.jsx(qe,{className:"animate-spin animate-infinite"}):"Save Personal Details"})}),l.jsx("div",{className:"fixed sm:hidden bottom-3 bg-primary-50 h-auto animate-fade-up animate-duration-[6000ms] animate-once w-full rounded-lg pr-4",children:l.jsx(Ee,{variant:"primary",type:"submit",className:"w-full",children:i?l.jsx(qe,{className:"animate-spin animate-infinite"}):"Save Personal Details"})})]})]}),l.jsx(Un,{setIsOpen:w,isOpen:$})]})};export{no as default};
