import{h as f,p as ft,q as Ne,s as A,t as G,x as ht,O as Me,y as he,K as Oe,z as gt,A as xt,T as bt,C as vt,E as ce,F as yt,G as Ct,R as K,H as St,J as It,L as ve,M as Et,N as ge,P as Tt,Q as ye,S as Ot,U as et,V as Le,W as At,$ as tt,X as nt,Y as Re,Z as Nt,a0 as Lt,a1 as Rt,a2 as jt,a3 as wt,a4 as Pt,a5 as Mt,a6 as Ft,a7 as kt,a8 as Fe,a9 as $t,aa as qt,ab as ke,ac as _t,ad as $,ae as W,af as zt,ag as Bt,ah as $e,ai as Vt,c as ot,j as a,w as Ut,B as fe,aj as Wt,b as it,ak as Ht,_ as qe,al as _e,am as Kt,an as Yt,ao as Jt,ap as Xt,aq as ze,ar as Zt,o as be,a as Qt,l as Dt,I,as as ie,at as Ie,au as Gt}from"./index-DtcwFkXb.js";import{E as en,m as Be,a as Ve,_ as tn,V as nn,q as on,o as sn,s as x,b as rn,u as an,t as ln,C as X,L as Ue}from"./index-DqxXmoky.js";import{p as dn}from"./textConvertor-BsdEMnbp.js";import{u as cn}from"./userDetailGetActions-DHnodtjZ.js";function st(t){var s,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var e=t.length;for(s=0;s<e;s++)t[s]&&(n=st(t[s]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function We(){for(var t,s,n=0,o="",e=arguments.length;n<e;n++)(t=arguments[n])&&(s=st(t))&&(o&&(o+=" "),o+=s);return o}function pe(t,s,n){let o=n.initialDeps??[],e;return()=>{var l,c,i,d;let p;n.key&&((l=n.debug)!=null&&l.call(n))&&(p=Date.now());const u=t();if(!(u.length!==o.length||u.some((O,r)=>o[r]!==O)))return e;o=u;let E;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(E=Date.now()),e=s(...u),n.key&&((i=n.debug)!=null&&i.call(n))){const O=Math.round((Date.now()-p)*100)/100,r=Math.round((Date.now()-E)*100)/100,N=r/16,b=(w,z)=>{for(w=String(w);w.length<z;)w=" "+w;return w};console.info(`%c⏱ ${b(r,5)} /${b(O,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*N,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(d=n==null?void 0:n.onChange)==null||d.call(n,e),e}}function Ee(t,s){if(t===void 0)throw new Error("Unexpected undefined");return t}const un=(t,s)=>Math.abs(t-s)<1,mn=(t,s)=>{let n;return function(...o){clearTimeout(n),n=setTimeout(()=>t.apply(this,o),s)}},pn=t=>t,fn=t=>{const s=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),o=[];for(let e=s;e<=n;e++)o.push(e);return o},hn=(t,s)=>{const n=t.scrollElement;if(!n)return;const o=l=>{const{width:c,height:i}=l;s({width:Math.round(c),height:Math.round(i)})};if(o(n.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const e=new ResizeObserver(l=>{const c=l[0];if(c!=null&&c.borderBoxSize){const i=c.borderBoxSize[0];if(i){o({width:i.inlineSize,height:i.blockSize});return}}o(n.getBoundingClientRect())});return e.observe(n,{box:"border-box"}),()=>{e.unobserve(n)}},He={passive:!0},gn=typeof window>"u"?!0:"onscrollend"in window,xn=(t,s)=>{const n=t.scrollElement;if(!n)return;let o=0;const e=gn?()=>{}:mn(()=>{s(o,!1)},t.options.isScrollingResetDelay),l=d=>()=>{o=n[t.options.horizontal?"scrollLeft":"scrollTop"],e(),s(o,d)},c=l(!0),i=l(!1);return i(),n.addEventListener("scroll",c,He),n.addEventListener("scrollend",i,He),()=>{n.removeEventListener("scroll",c),n.removeEventListener("scrollend",i)}},bn=(t,s,n)=>{if(s!=null&&s.borderBoxSize){const o=s.borderBoxSize[0];if(o)return Math.round(o[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[n.options.horizontal?"width":"height"])},vn=(t,{adjustments:s=0,behavior:n},o)=>{var e,l;const c=t+s;(l=(e=o.scrollElement)==null?void 0:e.scrollTo)==null||l.call(e,{[o.options.horizontal?"left":"top"]:c,behavior:n})};class yn{constructor(s){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let n=null;const o=()=>n||(typeof ResizeObserver<"u"?n=new ResizeObserver(e=>{e.forEach(l=>{this._measureElement(l.target,l)})}):null);return{disconnect:()=>{var e;return(e=o())==null?void 0:e.disconnect()},observe:e=>{var l;return(l=o())==null?void 0:l.observe(e,{box:"border-box"})},unobserve:e=>{var l;return(l=o())==null?void 0:l.unobserve(e)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([o,e])=>{typeof e>"u"&&delete n[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:pn,rangeExtractor:fn,onChange:()=>{},measureElement:bn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...n}},this.notify=(n,o)=>{var e,l;const{startIndex:c,endIndex:i}=this.range??{startIndex:void 0,endIndex:void 0},d=this.calculateRange();(n||c!==(d==null?void 0:d.startIndex)||i!==(d==null?void 0:d.endIndex))&&((l=(e=this.options).onChange)==null||l.call(e,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const n=this.options.getScrollElement();this.scrollElement!==n&&(this.cleanup(),this.scrollElement=n,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(o,e)=>{this.scrollAdjustments=0,this.scrollDirection=e?this.scrollOffset<o?"forward":"backward":null,this.scrollOffset=o;const l=this.isScrolling;this.isScrolling=e,this.notify(l!==e,e)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=pe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(n,o,e,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:o,scrollMargin:e,getItemKey:l}),{key:!1}),this.getFurthestMeasurement=(n,o)=>{const e=new Map,l=new Map;for(let c=o-1;c>=0;c--){const i=n[c];if(e.has(i.lane))continue;const d=l.get(i.lane);if(d==null||i.end>d.end?l.set(i.lane,i):i.end<d.end&&e.set(i.lane,!0),e.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((c,i)=>c.end===i.end?c.index-i.index:c.end-i.end)[0]:void 0},this.getMeasurements=pe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:o,scrollMargin:e,getItemKey:l},c)=>{const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,i);for(let p=i;p<n;p++){const u=l(p),m=this.options.lanes===1?d[p-1]:this.getFurthestMeasurement(d,p),E=m?m.end+this.options.gap:o+e,O=c.get(u),r=typeof O=="number"?O:this.options.estimateSize(p),N=E+r,b=m?m.lane:p%this.options.lanes;d[p]={index:p,start:E,size:r,end:N,key:u,lane:b}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=pe(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,o,e)=>this.range=n.length>0&&o>0?Cn({measurements:n,outerSize:o,scrollOffset:e}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=pe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,o,e,l)=>o===null?[]:n({startIndex:o.startIndex,endIndex:o.endIndex,overscan:e,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const o=this.options.indexAttribute,e=n.getAttribute(o);return e?parseInt(e,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(n,o)=>{const e=this.measurementsCache[this.indexFromElement(n)];if(!e||!n.isConnected){this.measureElementCache.forEach((i,d)=>{i===n&&(this.observer.unobserve(n),this.measureElementCache.delete(d))});return}const l=this.measureElementCache.get(e.key);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.measureElementCache.set(e.key,n));const c=this.options.measureElement(n,o,this);this.resizeItem(e,c)},this.resizeItem=(n,o)=>{const e=this.itemSizeCache.get(n.key)??n.size,l=o-e;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,l,this):n.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,o)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=pe(()=>[this.getIndexes(),this.getMeasurements()],(n,o)=>{const e=[];for(let l=0,c=n.length;l<c;l++){const i=n[l],d=o[i];e.push(d)}return e},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const o=this.getMeasurements();return Ee(o[rt(0,o.length-1,e=>Ee(o[e]).start,n)])},this.getOffsetForAlignment=(n,o)=>{const e=this.getSize();o==="auto"&&(n<=this.scrollOffset?o="start":n>=this.scrollOffset+e?o="end":o="start"),o==="start"?n=n:o==="end"?n=n-e:o==="center"&&(n=n-e/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",i=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-this.getSize();return Math.max(Math.min(i,n),0)},this.getOffsetForIndex=(n,o="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const e=Ee(this.getMeasurements()[n]);if(o==="auto")if(e.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)o="end";else if(e.start<=this.scrollOffset+this.options.scrollPaddingStart)o="start";else return[this.scrollOffset,o];const l=o==="end"?e.end+this.options.scrollPaddingEnd:e.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o),o]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:o="start",behavior:e}={})=>{this.cancelScrollToIndex(),e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,o),{adjustments:void 0,behavior:e})},this.scrollToIndex=(n,{align:o="auto",behavior:e}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[l,c]=this.getOffsetForIndex(n,o);this._scrollToOffset(l,{adjustments:void 0,behavior:e}),e!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(n))){const[d]=this.getOffsetForIndex(n,c);un(d,this.scrollOffset)||this.scrollToIndex(n,{align:c,behavior:e})}else this.scrollToIndex(n,{align:c,behavior:e})}))},this.scrollBy=(n,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+n,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var n;const o=this.getMeasurements();let e;return o.length===0?e=this.options.paddingStart:e=this.options.lanes===1?((n=o[o.length-1])==null?void 0:n.end)??0:Math.max(...o.slice(-this.options.lanes).map(l=>l.end)),e-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:o,behavior:e})=>{this.options.scrollToFn(n,{behavior:e,adjustments:o},this)},this.measure=()=>{var n,o;this.itemSizeCache=new Map,(o=(n=this.options).onChange)==null||o.call(n,this,!1)},this.setOptions(s),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}),this.notify(!1,!1)}}const rt=(t,s,n,o)=>{for(;t<=s;){const e=(t+s)/2|0,l=n(e);if(l<o)t=e+1;else if(l>o)s=e-1;else return e}return t>0?t-1:0};function Cn({measurements:t,outerSize:s,scrollOffset:n}){const o=t.length-1,l=rt(0,o,i=>t[i].start,n);let c=l;for(;c<o&&t[c].end<n+s;)c++;return{startIndex:l,endIndex:c}}const Sn=typeof document<"u"?f.useLayoutEffect:f.useEffect;function In(t){const s=f.useReducer(()=>({}),{})[1],n={...t,onChange:(e,l)=>{var c;l?ft.flushSync(s):s(),(c=t.onChange)==null||c.call(t,e,l)}},[o]=f.useState(()=>new yn(n));return o.setOptions(n),f.useEffect(()=>o._didMount(),[]),Sn(()=>o._willUpdate()),o}function En(t){return In({observeElementRect:hn,observeElementOffset:xn,scrollToFn:vn,...t})}function Tn(){let t=Ne();return A(s=>{t.dispose(),t.nextFrame(s)})}function at(t){let s=f.useRef({value:"",selectionStart:null,selectionEnd:null});return en(t.current,"blur",n=>{let o=n.target;o instanceof HTMLInputElement&&(s.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),A(()=>{let n=t.current;if(document.activeElement!==n&&n instanceof HTMLInputElement&&n.isConnected){if(n.focus({preventScroll:!0}),n.value!==s.current.value)n.setSelectionRange(n.value.length,n.value.length);else{let{selectionStart:o,selectionEnd:e}=s.current;o!==null&&e!==null&&n.setSelectionRange(o,e)}s.current={value:"",selectionStart:null,selectionEnd:null}}})}function On({container:t,accept:s,walk:n,enabled:o=!0}){let e=f.useRef(s),l=f.useRef(n);f.useEffect(()=>{e.current=s,l.current=n},[s,n]),G(()=>{if(!t||!o)return;let c=ht(t);if(!c)return;let i=e.current,d=l.current,p=Object.assign(m=>i(m),{acceptNode:i}),u=c.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,p,!1);for(;u.nextNode();)d(u.currentNode)},[t,o,e,l])}var je=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(je||{}),An={},Nn=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Nn||{}),Ln=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Ln||{}),Rn=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(Rn||{}),jn=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.SetActivationTrigger=5]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=6]="UpdateVirtualConfiguration",t))(jn||{});function Te(t,s=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,o=s(t.options.slice()),e=o.length>0&&o[0].dataRef.current.order!==null?o.sort((c,i)=>c.dataRef.current.order-i.dataRef.current.order):Vt(o,c=>c.dataRef.current.domRef.current),l=n?e.indexOf(n):null;return l===-1&&(l=null),{options:e,activeOptionIndex:l}}let wn={1(t){var s;return(s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1,activationTrigger:2,__demoMode:!1}},0(t){var s,n;if((s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===0)return t;if((n=t.dataRef.current)!=null&&n.value){let o=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(o!==-1)return{...t,activeOptionIndex:o,comboboxState:0,__demoMode:!1}}return{...t,comboboxState:0,__demoMode:!1}},2(t,s){var n,o,e,l,c;if((n=t.dataRef.current)!=null&&n.disabled||(o=t.dataRef.current)!=null&&o.optionsRef.current&&!((e=t.dataRef.current)!=null&&e.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:u,disabled:m}=t.virtual,E=s.focus===$.Specific?s.idx:$e(s,{resolveItems:()=>u,resolveActiveIndex:()=>{var r,N;return(N=(r=t.activeOptionIndex)!=null?r:u.findIndex(b=>!m(b)))!=null?N:null},resolveDisabled:m,resolveId(){throw new Error("Function not implemented.")}}),O=(l=s.trigger)!=null?l:2;return t.activeOptionIndex===E&&t.activationTrigger===O?t:{...t,activeOptionIndex:E,activationTrigger:O,__demoMode:!1}}let i=Te(t);if(i.activeOptionIndex===null){let u=i.options.findIndex(m=>!m.dataRef.current.disabled);u!==-1&&(i.activeOptionIndex=u)}let d=s.focus===$.Specific?s.idx:$e(s,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),p=(c=s.trigger)!=null?c:2;return t.activeOptionIndex===d&&t.activationTrigger===p?t:{...t,...i,activeOptionIndex:d,activationTrigger:p,__demoMode:!1}},3:(t,s)=>{var n,o,e;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:[...t.options,s.payload]};let l=s.payload,c=Te(t,d=>(d.push(l),d));t.activeOptionIndex===null&&(o=t.dataRef.current)!=null&&o.isSelected(s.payload.dataRef.current.value)&&(c.activeOptionIndex=c.options.indexOf(l));let i={...t,...c,activationTrigger:2};return(e=t.dataRef.current)!=null&&e.__demoMode&&t.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},4:(t,s)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(e=>e.id!==s.id)};let o=Te(t,e=>{let l=e.findIndex(c=>c.id===s.id);return l!==-1&&e.splice(l,1),e});return{...t,...o,activationTrigger:2}},5:(t,s)=>t.activationTrigger===s.trigger?t:{...t,activationTrigger:s.trigger},6:(t,s)=>{var n,o;if(t.virtual===null)return{...t,virtual:{options:s.options,disabled:(n=s.disabled)!=null?n:()=>!1}};if(t.virtual.options===s.options&&t.virtual.disabled===s.disabled)return t;let e=t.activeOptionIndex;if(t.activeOptionIndex!==null){let l=s.options.indexOf(t.virtual.options[t.activeOptionIndex]);l!==-1?e=l:e=null}return{...t,activeOptionIndex:e,virtual:{options:s.options,disabled:(o=s.disabled)!=null?o:()=>!1}}}},we=f.createContext(null);we.displayName="ComboboxActionsContext";function xe(t){let s=f.useContext(we);if(s===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xe),n}return s}let lt=f.createContext(null);function Pn(t){let s=ue("VirtualProvider"),{options:n}=s.virtual,[o,e]=f.useMemo(()=>{let p=s.optionsRef.current;if(!p)return[0,0];let u=window.getComputedStyle(p);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[s.optionsRef.current]),l=En({scrollPaddingStart:o,scrollPaddingEnd:e,count:n.length,estimateSize(){return 40},getScrollElement(){var p;return(p=s.optionsRef.current)!=null?p:null},overscan:12}),[c,i]=f.useState(0);G(()=>{i(p=>p+1)},[n]);let d=l.getVirtualItems();return d.length===0?null:K.createElement(lt.Provider,{value:l},K.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:p=>{if(p){if(typeof process<"u"&&An.JEST_WORKER_ID!==void 0||s.activationTrigger===0)return;s.activeOptionIndex!==null&&n.length>s.activeOptionIndex&&l.scrollToIndex(s.activeOptionIndex)}}},d.map(p=>{var u;return K.createElement(f.Fragment,{key:p.key},K.cloneElement((u=t.children)==null?void 0:u.call(t,{option:n[p.index],open:s.comboboxState===0}),{key:`${c}-${p.key}`,"data-index":p.index,"aria-setsize":n.length,"aria-posinset":p.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${p.start}px)`,overflowAnchor:"none"}}))})))}let Ce=f.createContext(null);Ce.displayName="ComboboxDataContext";function ue(t){let s=f.useContext(Ce);if(s===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ue),n}return s}function Mn(t,s){return ce(s.type,wn,t,s)}let Fn=f.Fragment;function kn(t,s){var n,o;let e=gt(),{value:l,defaultValue:c,onChange:i,form:d,name:p,by:u,disabled:m=e||!1,onClose:E,__demoMode:O=!1,multiple:r=!1,immediate:N=!1,virtual:b=null,nullable:w,...z}=t,L=xt(c),[C=r?[]:void 0,k]=bt(l,i,L),[j,q]=f.useReducer(Mn,{dataRef:f.createRef(),comboboxState:O?0:1,options:[],virtual:b?{options:b.options,disabled:(n=b.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:O}),T=f.useRef(!1),Y=f.useRef({static:!1,hold:!1}),Q=f.useRef(null),_=f.useRef(null),ee=f.useRef(null),J=vt(u),P=A(S=>b?u===null?b.options.indexOf(S):b.options.findIndex(R=>J(R,S)):j.options.findIndex(R=>J(R.dataRef.current.value,S))),Z=f.useCallback(S=>ce(y.mode,{1:()=>C.some(R=>J(R,S)),0:()=>J(C,S)}),[C]),se=A(S=>j.activeOptionIndex===P(S)),y=f.useMemo(()=>({...j,immediate:N,optionsPropsRef:Y,inputRef:Q,buttonRef:_,optionsRef:ee,value:C,defaultValue:L,disabled:m,mode:r?1:0,virtual:b?j.virtual:null,get activeOptionIndex(){if(T.current&&j.activeOptionIndex===null&&(b?b.options.length>0:j.options.length>0)){if(b){let R=b.options.findIndex(H=>{var oe,me;return!((me=(oe=b.disabled)==null?void 0:oe.call(b,H))!=null&&me)});if(R!==-1)return R}let S=j.options.findIndex(R=>!R.dataRef.current.disabled);if(S!==-1)return S}return j.activeOptionIndex},calculateIndex:P,compare:J,isSelected:Z,isActive:se}),[C,L,m,r,O,j,b]);G(()=>{var S;b&&q({type:6,options:b.options,disabled:(S=b.disabled)!=null?S:null})},[b,b==null?void 0:b.options,b==null?void 0:b.disabled]),G(()=>{j.dataRef.current=y},[y]),yt([y.buttonRef,y.inputRef,y.optionsRef],()=>M.closeCombobox(),y.comboboxState===0);let te=f.useMemo(()=>{var S,R,H;return{open:y.comboboxState===0,disabled:m,activeIndex:y.activeOptionIndex,activeOption:y.activeOptionIndex===null?null:y.virtual?y.virtual.options[(S=y.activeOptionIndex)!=null?S:0]:(H=(R=y.options[y.activeOptionIndex])==null?void 0:R.dataRef.current.value)!=null?H:null,value:C}},[y,m,C]),re=A(()=>{if(y.activeOptionIndex!==null){if(y.virtual)h(y.virtual.options[y.activeOptionIndex]);else{let{dataRef:S}=y.options[y.activeOptionIndex];h(S.current.value)}M.goToOption($.Specific,y.activeOptionIndex)}}),ne=A(()=>{q({type:0}),T.current=!0}),ae=A(()=>{q({type:1}),T.current=!1,E==null||E()}),le=A((S,R,H)=>(T.current=!1,S===$.Specific?q({type:2,focus:$.Specific,idx:R,trigger:H}):q({type:2,focus:S,trigger:H}))),de=A((S,R)=>(q({type:3,payload:{id:S,dataRef:R}}),()=>{y.isActive(R.current.value)&&(T.current=!0),q({type:4,id:S})})),h=A(S=>ce(y.mode,{0(){return k==null?void 0:k(S)},1(){let R=y.value.slice(),H=R.findIndex(oe=>J(oe,S));return H===-1?R.push(S):R.splice(H,1),k==null?void 0:k(R)}})),V=A(S=>{q({type:5,trigger:S})}),M=f.useMemo(()=>({onChange:h,registerOption:de,goToOption:le,closeCombobox:ae,openCombobox:ne,setActivationTrigger:V,selectActiveOption:re}),[]),[U,F]=Ct(),B=s===null?{}:{ref:s},D=f.useCallback(()=>{if(L!==void 0)return k==null?void 0:k(L)},[k,L]);return K.createElement(F,{value:U,props:{htmlFor:(o=y.inputRef.current)==null?void 0:o.id},slot:{open:y.comboboxState===0,disabled:m}},K.createElement(St,null,K.createElement(we.Provider,{value:M},K.createElement(Ce.Provider,{value:y},K.createElement(It,{value:ce(y.comboboxState,{0:ve.Open,1:ve.Closed})},p!=null&&K.createElement(Et,{disabled:m,data:C!=null?{[p]:C}:{},form:d,onReset:D}),ge({ourProps:B,theirProps:z,slot:te,defaultTag:Fn,name:"Combobox"}))))))}let $n="input";function qn(t,s){var n,o,e,l,c;let i=ue("Combobox.Input"),d=xe("Combobox.Input"),p=f.useId(),u=Tt(),{id:m=u||`headlessui-combobox-input-${p}`,onChange:E,displayValue:O,disabled:r=i.disabled||!1,autoFocus:N=!1,type:b="text",...w}=t,z=ye(i.inputRef,s,Ot()),L=et(i.inputRef),C=f.useRef(!1),k=Ne(),j=A(()=>{d.onChange(null),i.optionsRef.current&&(i.optionsRef.current.scrollTop=0),d.goToOption($.Nothing)}),q=f.useMemo(()=>{var h;return typeof O=="function"&&i.value!==void 0?(h=O(i.value))!=null?h:"":typeof i.value=="string"?i.value:""},[i.value,O]);Be(([h,V],[M,U])=>{if(C.current)return;let F=i.inputRef.current;F&&((U===0&&V===1||h!==M)&&(F.value=h),requestAnimationFrame(()=>{if(C.current||!F||(L==null?void 0:L.activeElement)!==F)return;let{selectionStart:B,selectionEnd:D}=F;Math.abs((D??0)-(B??0))===0&&B===0&&F.setSelectionRange(F.value.length,F.value.length)}))},[q,i.comboboxState,L]),Be(([h],[V])=>{if(h===0&&V===1){if(C.current)return;let M=i.inputRef.current;if(!M)return;let U=M.value,{selectionStart:F,selectionEnd:B,selectionDirection:D}=M;M.value="",M.value=U,D!==null?M.setSelectionRange(F,B,D):M.setSelectionRange(F,B)}},[i.comboboxState]);let T=f.useRef(!1),Y=A(()=>{T.current=!0}),Q=A(()=>{k.nextFrame(()=>{T.current=!1})}),_=Tn(),ee=A(h=>{switch(C.current=!0,_(()=>{C.current=!1}),h.key){case W.Enter:if(C.current=!1,i.comboboxState!==0||T.current)return;if(h.preventDefault(),h.stopPropagation(),i.activeOptionIndex===null){d.closeCombobox();return}d.selectActiveOption(),i.mode===0&&d.closeCombobox();break;case W.ArrowDown:return C.current=!1,h.preventDefault(),h.stopPropagation(),ce(i.comboboxState,{0:()=>d.goToOption($.Next),1:()=>d.openCombobox()});case W.ArrowUp:return C.current=!1,h.preventDefault(),h.stopPropagation(),ce(i.comboboxState,{0:()=>d.goToOption($.Previous),1:()=>{d.openCombobox(),k.nextFrame(()=>{i.value||d.goToOption($.Last)})}});case W.Home:if(h.shiftKey)break;return C.current=!1,h.preventDefault(),h.stopPropagation(),d.goToOption($.First);case W.PageUp:return C.current=!1,h.preventDefault(),h.stopPropagation(),d.goToOption($.First);case W.End:if(h.shiftKey)break;return C.current=!1,h.preventDefault(),h.stopPropagation(),d.goToOption($.Last);case W.PageDown:return C.current=!1,h.preventDefault(),h.stopPropagation(),d.goToOption($.Last);case W.Escape:return C.current=!1,i.comboboxState!==0?void 0:(h.preventDefault(),i.optionsRef.current&&!i.optionsPropsRef.current.static&&h.stopPropagation(),i.mode===0&&i.value===null&&j(),d.closeCombobox());case W.Tab:if(C.current=!1,i.comboboxState!==0)return;i.mode===0&&i.activationTrigger!==1&&d.selectActiveOption(),d.closeCombobox();break}}),J=A(h=>{E==null||E(h),i.mode===0&&h.target.value===""&&j(),d.openCombobox()}),P=A(h=>{var V,M,U;let F=(V=h.relatedTarget)!=null?V:Ve.find(B=>B!==h.currentTarget);if(C.current=!1,!((M=i.optionsRef.current)!=null&&M.contains(F))&&!((U=i.buttonRef.current)!=null&&U.contains(F))&&i.comboboxState===0)return h.preventDefault(),i.mode===0&&i.value===null&&j(),d.closeCombobox()}),Z=A(h=>{var V,M,U;let F=(V=h.relatedTarget)!=null?V:Ve.find(B=>B!==h.currentTarget);(M=i.buttonRef.current)!=null&&M.contains(F)||(U=i.optionsRef.current)!=null&&U.contains(F)||i.disabled||i.immediate&&i.comboboxState!==0&&(d.openCombobox(),k.nextFrame(()=>{d.setActivationTrigger(1)}))}),se=Le(),y=At(),{isFocused:te,focusProps:re}=tt({autoFocus:N}),{isHovered:ne,hoverProps:ae}=nt({isDisabled:r}),le=f.useMemo(()=>({open:i.comboboxState===0,disabled:r,hover:ne,focus:te,autofocus:N}),[i,ne,te,N,r]),de=Re({ref:z,id:m,role:"combobox",type:b,"aria-controls":(n=i.optionsRef.current)==null?void 0:n.id,"aria-expanded":i.comboboxState===0,"aria-activedescendant":i.activeOptionIndex===null?void 0:i.virtual?(o=i.options.find(h=>!h.dataRef.current.disabled&&i.compare(h.dataRef.current.value,i.virtual.options[i.activeOptionIndex])))==null?void 0:o.id:(e=i.options[i.activeOptionIndex])==null?void 0:e.id,"aria-labelledby":se,"aria-describedby":y,"aria-autocomplete":"list",defaultValue:(c=(l=t.defaultValue)!=null?l:i.defaultValue!==void 0?O==null?void 0:O(i.defaultValue):null)!=null?c:i.defaultValue,disabled:r||void 0,autoFocus:N,onCompositionStart:Y,onCompositionEnd:Q,onKeyDown:ee,onChange:J,onFocus:Z,onBlur:P},re,ae);return ge({ourProps:de,theirProps:w,slot:le,defaultTag:$n,name:"Combobox.Input"})}let _n="button";function zn(t,s){var n;let o=ue("Combobox.Button"),e=xe("Combobox.Button"),l=ye(o.buttonRef,s),c=f.useId(),{id:i=`headlessui-combobox-button-${c}`,disabled:d=o.disabled||!1,autoFocus:p=!1,...u}=t,m=Ne(),E=at(o.inputRef),O=A(T=>{switch(T.key){case W.Space:case W.Enter:return T.preventDefault(),T.stopPropagation(),o.comboboxState===1&&e.openCombobox(),m.nextFrame(()=>E());case W.ArrowDown:return T.preventDefault(),T.stopPropagation(),o.comboboxState===1&&(e.openCombobox(),m.nextFrame(()=>{o.value||e.goToOption($.First)})),m.nextFrame(()=>E());case W.ArrowUp:return T.preventDefault(),T.stopPropagation(),o.comboboxState===1&&(e.openCombobox(),m.nextFrame(()=>{o.value||e.goToOption($.Last)})),m.nextFrame(()=>E());case W.Escape:return o.comboboxState!==0?void 0:(T.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&T.stopPropagation(),e.closeCombobox(),m.nextFrame(()=>E()));default:return}}),r=A(T=>{T.preventDefault(),!zt(T.currentTarget)&&(T.button===je.Left&&(o.comboboxState===0?e.closeCombobox():e.openCombobox()),E())}),N=Le([i]),{isFocusVisible:b,focusProps:w}=tt({autoFocus:p}),{isHovered:z,hoverProps:L}=nt({isDisabled:d}),{pressed:C,pressProps:k}=Nt({disabled:d}),j=f.useMemo(()=>({open:o.comboboxState===0,active:C||o.comboboxState===0,disabled:d,value:o.value,hover:z,focus:b}),[o,z,b,C,d]),q=Re({ref:l,id:i,type:Lt(t,o.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.comboboxState===0,"aria-labelledby":N,disabled:d||void 0,autoFocus:p,onMouseDown:r,onKeyDown:O},w,L,k);return ge({ourProps:q,theirProps:u,slot:j,defaultTag:_n,name:"Combobox.Button"})}let Bn="div",Vn=Me.RenderStrategy|Me.Static;function Un(t,s){var n;let o=f.useId(),{id:e=`headlessui-combobox-options-${o}`,hold:l=!1,anchor:c,portal:i=!1,modal:d=!0,...p}=t,u=ue("Combobox.Options"),m=xe("Combobox.Options"),E=Rt(c);E&&(i=!0);let[O,r]=jt(E),N=wt(),b=ye(u.optionsRef,s,E?O:null),w=et(u.optionsRef),z=Pt(),L=z!==null?(z&ve.Open)===ve.Open:u.comboboxState===0;Mt(u.inputRef,m.closeCombobox,L),Ft(w,u.__demoMode?!1:d&&u.comboboxState===0),kt({allowed:A(()=>[u.inputRef.current,u.buttonRef.current,u.optionsRef.current])},u.__demoMode?!1:d&&u.comboboxState===0),G(()=>{var _;u.optionsPropsRef.current.static=(_=t.static)!=null?_:!1},[u.optionsPropsRef,t.static]),G(()=>{u.optionsPropsRef.current.hold=l},[u.optionsPropsRef,l]),On({container:u.optionsRef.current,enabled:u.comboboxState===0,accept(_){return _.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:_.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(_){_.setAttribute("role","none")}});let C=Le([(n=u.buttonRef.current)==null?void 0:n.id]),k=f.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u]),j=A(()=>{m.setActivationTrigger(0)}),q=Re(E?N():{},{"aria-labelledby":C,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:e,ref:b,style:{...r,"--input-width":Fe(u.inputRef,!0).width,"--button-width":Fe(u.buttonRef,!0).width},onWheel:j});u.virtual&&L&&Object.assign(p,{children:K.createElement(Pn,null,p.children)});let[T,Y]=f.useState(u.value);u.value!==T&&u.comboboxState===0&&u.mode!==1&&Y(u.value);let Q=A(_=>u.compare(T,_));return K.createElement($t,{enabled:i?t.static||L:!1},K.createElement(Ce.Provider,{value:u.mode===1?u:{...u,isSelected:Q}},ge({ourProps:q,theirProps:p,slot:k,defaultTag:Bn,features:Vn,visible:L,name:"Combobox.Options"})))}let Wn="div";function Hn(t,s){var n,o,e,l;let c=ue("Combobox.Option"),i=xe("Combobox.Option"),d=f.useId(),{id:p=`headlessui-combobox-option-${d}`,value:u,disabled:m=(e=(o=(n=c.virtual)==null?void 0:n.disabled)==null?void 0:o.call(n,u))!=null?e:!1,order:E=null,...O}=t,r=at(c.inputRef),N=c.virtual?c.activeOptionIndex===c.calculateIndex(u):c.activeOptionIndex===null?!1:((l=c.options[c.activeOptionIndex])==null?void 0:l.id)===p,b=c.isSelected(u),w=f.useRef(null),z=qt({disabled:m,value:u,domRef:w,order:E}),L=f.useContext(lt),C=ye(s,w,L?L.measureElement:null),k=A(()=>i.onChange(u));G(()=>i.registerOption(p,z),[z,p]);let j=f.useRef(!(c.virtual||c.__demoMode));G(()=>{if(!c.virtual&&!c.__demoMode)return ke().requestAnimationFrame(()=>{j.current=!0})},[c.virtual,c.__demoMode]),G(()=>{if(j.current&&c.comboboxState===0&&N&&c.activationTrigger!==0)return ke().requestAnimationFrame(()=>{var P,Z;(Z=(P=w.current)==null?void 0:P.scrollIntoView)==null||Z.call(P,{block:"nearest"})})},[w,N,c.comboboxState,c.activationTrigger,c.activeOptionIndex]);let q=A(P=>{P.preventDefault(),P.button===je.Left&&(m||(k(),Bt()||requestAnimationFrame(()=>r()),c.mode===0&&i.closeCombobox()))}),T=A(()=>{if(m)return i.goToOption($.Nothing);let P=c.calculateIndex(u);i.goToOption($.Specific,P)}),Y=_t(),Q=A(P=>Y.update(P)),_=A(P=>{if(!Y.wasMoved(P)||m||N)return;let Z=c.calculateIndex(u);i.goToOption($.Specific,Z,0)}),ee=A(P=>{Y.wasMoved(P)&&(m||N&&(c.optionsPropsRef.current.hold||i.goToOption($.Nothing)))}),J=f.useMemo(()=>({active:N,focus:N,selected:b,disabled:m}),[N,b,m]);return ge({ourProps:{id:p,ref:C,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:q,onFocus:T,onPointerEnter:Q,onMouseEnter:Q,onPointerMove:_,onMouseMove:_,onPointerLeave:ee,onMouseLeave:ee},theirProps:O,slot:J,defaultTag:Wn,name:"Combobox.Option"})}let Kn=he(kn),dt=he(zn),ct=he(qn),Yn=Oe,ut=he(Un),mt=he(Hn),Jn=Object.assign(Kn,{Input:ct,Button:dt,Label:Yn,Options:ut,Option:mt});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ot("StepForward",[["line",{x1:"6",x2:"6",y1:"4",y2:"20",key:"fy8qot"}],["polygon",{points:"10,4 20,12 10,20",key:"1mc1pf"}]]),Zn=({isOpen:t,setIsOpen:s})=>a.jsx(tn,{open:t,onClose:()=>s(!1),className:"relative z-50",children:a.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4 bg-primary/50 backdrop-blur-lg",children:a.jsxs(nn,{className:"container space-y-4 border bg-primary-50 p-5 rounded-lg shadow-lg text-center text-primary",children:[a.jsx(on,{className:"font-semibold text-xl",children:"Terms and Conditions"}),a.jsxs(Ut,{className:"text-gray-500 px-5 bg-white border p-4 rounded-lg h-[50vh] sm:h-[60vh]  overflow-x-scroll",children:[a.jsx("p",{className:"mb-5 text-base",children:"CENTRAL BANK OF SRI LANKA"}),a.jsx("p",{className:"mb-5",children:"I CASCC (Primary Cardholder), declare that all details given above by me on this form are true and correct."}),a.jsx("p",{className:"mb-5",children:"I hereby confirm that I am aware of the conditions imposed under the provision of the Foreign Exchange Act, No 12 of 2017 (the Act) on Electronic Fund Transfer Cards (EFTCs) subject to which the card may be used for transactions in foreign exchange and I hereby undertake to abide by the said conditions."}),a.jsx("p",{className:"mb-5",children:"I further agree to provide any information on transactions carried out by me in foreign exchange on the card issued to me as LOLC Finance PLC may require for the purpose of Act."}),a.jsx("p",{className:"mb-5",children:"I am aware that the restricted financial institution is required to suspend availability of foreign exchange on ETFC if reasonable grounds exist to suspect that unauthorized foreign exchange transactions are being carried out on the EFTC issued to me and to report the matter to the Director-Department of Foreign Exchange. I also affirm that I undertake to surrender the Credit Card to LOLC Finance PLC, if I migrate or leave Sri Lanka for employment abroad."}),a.jsx("p",{className:"mb-5 text-red-500",children:"Terms & Condition | Tariff"}),a.jsx("p",{className:"mb-5",children:"I confirm that I accept clauses herein and shall be taken as my acceptance of the accuracy of the information supplied by me for the purpose of the entirety of this digital/online application."})]}),a.jsx("div",{className:"flex justify-center sm:justify-end",children:a.jsx(fe,{className:"w-full sm:w-40",onClick:()=>s(!1),variant:"primary",children:"Close"})})]})})}),Qn=(t,s)=>async n=>{var o,e,l,c;n(Wt());try{const i=await it.post("/general-customer",s);n(Ht(i.data)),qe.success(i.data.message),t("/document-detail")}catch(i){i?(n(_e((e=(o=i==null?void 0:i.response)==null?void 0:o.data)==null?void 0:e.error)),qe.error((c=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:c.error)):n(_e("An unknown error occurred"))}},Dn=f.forwardRef(({options:t,disabled:s,label:n,className:o,required:e,error:l,...c},i)=>{const[d,p]=f.useState(""),u=d===""?t:t&&t.filter(m=>m.toLowerCase().includes(d.toLowerCase()));return a.jsxs(Kt,{children:[a.jsxs(Oe,{className:"block text-sm font-medium text-primary-950 text-left mb-1",children:[n,e&&a.jsx("span",{className:"ml-1 text-red-800",children:"*"})]}),a.jsxs(Jn,{onClose:()=>p(""),as:"div",...c,children:[a.jsxs("div",{className:"relative",children:[a.jsx(ct,{className:We("w-full rounded-lg border border-primary-400 py-2 px-3 bg-white text-primary-950 text-sm","focus:outline-none data-[focus]:outline-2 data-[focus]:-outline-offset-2 data-[focus]:outline-white/25",o),displayValue:m=>m,onChange:m=>p(m.target.value),placeholder:`Select a ${n.toLowerCase()}`,disabled:s,ref:i}),a.jsx(dt,{className:"group absolute inset-y-0 right-0 px-2.5",children:a.jsx(Yt,{className:"size-4 fill-white/60 group-data-[hover]:fill-white"})})]}),a.jsx(ut,{anchor:"bottom",className:We("w-[var(--input-width)] bg-primary-50 rounded-lg shadow-lg [--anchor-gap:var(--spacing-1)] empty:invisible","transition duration-100 ease-in data-[leave]:data-[closed]:opacity-0"),children:u&&u.map(m=>a.jsxs(mt,{value:m,className:"group flex cursor-default items-center gap-2 py-1.5 select-none data-[focus]:bg-primary/10 px-2",children:[a.jsx(Xn,{className:"invisible size-4 group-data-[selected]:visible"}),a.jsx("div",{className:"text-sm text-primary-900",children:m})]},m))})]}),a.jsx(Oe,{className:"block text-xs font-medium text-red-800 text-left mt-1 italic normal-case",children:l})]})}),Gn=()=>async t=>{var s,n;t(Jt());try{const o=await it.get("/branches/fusion");t(Xt(o.data.data.content??[]))}catch(o){t(o?ze((n=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:n.error):ze("An unknown error occurred"))}},Ae=new Date;Ae.setFullYear(Ae.getFullYear()-18);const eo=sn({fullName:x().min(1,"Full name is required").refine(t=>/^[a-zA-Z\s.]+$/.test(t),{message:"Full name can only contain letters"}),nationality:x().min(1,"Nationality is required"),preferredLanguage:x().min(1,"Preferred language is required"),dob:x().refine(t=>{const s=new Date(t),n=Ae.getTime();return!isNaN(s.getTime())&&s.getTime()<=n},{message:"You must be at least 18 years old"}),mothersMaidenName:x().min(1,"Mother's maiden name is required").refine(t=>/^[a-zA-Z\s.]+$/.test(t),{message:"Full name can only contain letters"}),residencePhone:x().optional().refine(t=>!t||/^(?:[0-9]{10})$/.test(t),{message:"Invalid phone number"}),permAddressLine1:x().min(1,"Permanent address is required"),permAddressLine2:x().optional(),permAddressLine3:x().optional(),permAddressLine4:x().optional(),mailAddressLine1:x().min(1,"Maling address is required"),mailAddressLine2:x().optional(),mailAddressLine3:x().optional(),mailAddressLine4:x().optional(),whatsappNo:x().min(1,"WhatsApp number is requied").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),additionalContactNo:x().optional().refine(t=>!t||/^(?:[0-9]{10})$/.test(t),{message:"Invalid phone number"}),residenceType:x().min(1,"Residence type is required"),province:x().min(1,"Province is required"),politicallyExposed:x().min(1,"Politically exposed is required"),employmentCategory:x().min(1,"Employment category is required"),governmentSectorType:x().min(1,"Government sector type is required").optional(),pvtSectorType:x().min(1,"Private sector type is required").optional(),selfEmpType:x().min(1,"Self employed types is required").optional(),expInPresentEmployment:x().min(1,"Experience in present employment is required").regex(/^[0-9]*$/,"Years in number reqired"),experienceInPreviousEmployment:x().min(1,"Experience in previous employment is required").regex(/^[0-9]*$/,"Years in number reqired"),nameOfThePreviousEmployer:x().min(1,"Name of the previous employer is required"),occupationType:x().min(1,"Occupation type is required"),nameOfTheEmployer:x().min(1,"Name of the employer/business is required"),designation:x().min(1,"Designation is required"),monthlyNetIncome:x().min(1,"Monthly net income is required"),officeContactNo:x().min(1,"Office contact number is required").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),officeAddressLine1:x().min(1,"Office address is required"),officeAddressLine2:x().optional(),officeAddressLine3:x().optional(),officeAddressLine4:x().optional(),guarantorName:x().min(1,"Guarantor name is required").refine(t=>/^[a-zA-Z\s.]+$/.test(t),{message:"Full name can only contain letters"}),relationShipToApplicant:x().min(1,"Relationship to applicant is required"),guarantorNic:x().min(1,"Guarantor NIC number is required").regex(/^(?:\d{9}[vVxX]|\d{12})$/,"Invalid NIC number"),guarantorMobileNo:x().min(1,"Guarantor mobile number is required").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),guarantorAddressLine1:x().min(1,"Office address is required"),guarantorAddressLine2:x().optional(),guarantorAddressLine3:x().optional(),guarantorAddressLine4:x().optional(),cardCollectBranch:x().min(1,"Card collection branch is required"),nameOnCard:x().min(1,"Name on card is required"),termsAndCondition:rn().refine(t=>t===!0,"You must accept the Terms and Conditions.")}),to=[{label:"Sri Lankan",value:"SriLankan"},{label:"Other",value:"Other"}],no=[{label:"Resident",value:"Resident"},{label:"Nonresident",value:"NonResident"}],oo=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],Ye=["English","Sinhala","Tamil"],Je=["Central","Eastern","North Central","North Western","Northern","Sabaragamuwa","Southern","Western","Uva"],Xe=["Government Sector","Private Sector","Self Employed"],Ze=["Government Healthcare Professionals","Government Bankers","Others"],Qe=["Private Healthcare Professionals","Private Bankers","Others"],De=["Entrepreneurs/Small Business Owners","Freelancers"],Ge=["Full Time","Part Time","Contract"],lo=()=>{var Z,se,y,te,re,ne,ae,le,de,h,V,M,U,F,B,D,S,R,H,oe,me,Pe;const t=Zt(),{data:s}=be(g=>g.userLogin),{loading:n}=be(g=>g.userDetailPost),{data:o}=be(g=>g.allBranches),{data:e,loading:l}=be(g=>g.userDetailGet);f.useEffect(()=>{(s==null?void 0:s.referenceNo)!==void 0&&t(cn((s==null?void 0:s.referenceNo)??""))},[s]);const c=dn((s==null?void 0:s.nic)??""),{control:i,register:d,unregister:p,handleSubmit:u,setValue:m,getValues:E,watch:O,formState:{errors:r}}=an({resolver:ln(eo),shouldUnregister:!0,defaultValues:{nationality:(e==null?void 0:e.nationality)??"",fullName:(e==null?void 0:e.fullName)??"",preferredLanguage:(e==null?void 0:e.preferredLanguage)??Ye[0],dob:(c==null?void 0:c.Birthday)??"",mothersMaidenName:(e==null?void 0:e.mothersMaidenName)??"",residencePhone:(e==null?void 0:e.residencePhone)??"",whatsappNo:(e==null?void 0:e.whatsappNo)??"",additionalContactNo:(e==null?void 0:e.additionalContactNo)??"",residenceType:(e==null?void 0:e.residenceType)??"",permAddressLine1:(e==null?void 0:e.permAddressLine1)??"",permAddressLine2:(e==null?void 0:e.permAddressLine2)??"",permAddressLine3:(e==null?void 0:e.permAddressLine3)??"",permAddressLine4:(e==null?void 0:e.permAddressLine4)??"",province:(e==null?void 0:e.province)??Je[0],mailAddressLine1:(e==null?void 0:e.mailAddressLine1)??"",mailAddressLine2:(e==null?void 0:e.mailAddressLine2)??"",mailAddressLine3:(e==null?void 0:e.mailAddressLine3)??"",mailAddressLine4:(e==null?void 0:e.mailAddressLine4)??"",politicallyExposed:(e==null?void 0:e.politicallyExposed)??"",employmentCategory:(e==null?void 0:e.employmentCategory)??Xe[0],expInPresentEmployment:(e==null?void 0:e.expInPresentEmployment)??"",occupationType:(e==null?void 0:e.occupationType)??Ge[0],nameOfTheEmployer:(e==null?void 0:e.nameOfTheEmployer)??"",designation:(e==null?void 0:e.designation)??"",monthlyNetIncome:(e==null?void 0:e.monthlyNetIncome)??"",officeContactNo:(e==null?void 0:e.officeContactNo)??"",officeAddressLine1:(e==null?void 0:e.officeAddressLine1)??"",officeAddressLine2:(e==null?void 0:e.officeAddressLine2)??"",officeAddressLine3:(e==null?void 0:e.officeAddressLine3)??"",officeAddressLine4:(e==null?void 0:e.officeAddressLine4)??"",experienceInPreviousEmployment:(e==null?void 0:e.experienceInPreviousEmployment)??"",nameOfThePreviousEmployer:(e==null?void 0:e.nameOfThePreviousEmployer)??"",guarantorName:(e==null?void 0:e.guarantorName)??"",relationShipToApplicant:(e==null?void 0:e.relationShipToApplicant)??"",guarantorNic:(e==null?void 0:e.guarantorNic)??"",guarantorMobileNo:(e==null?void 0:e.guarantorMobileNo)??"",guarantorAddressLine1:(e==null?void 0:e.guarantorAddressLine1)??"",guarantorAddressLine2:(e==null?void 0:e.guarantorAddressLine2)??"",guarantorAddressLine3:(e==null?void 0:e.guarantorAddressLine3)??"",guarantorAddressLine4:(e==null?void 0:e.guarantorAddressLine4)??"",cardCollectBranch:(e==null?void 0:e.cardCollectBranch)??"",nameOnCard:(e==null?void 0:e.nameOnCard)??"",termsAndCondition:(e==null?void 0:e.status)==="A",governmentSectorType:Ze[0],pvtSectorType:Qe[0],selfEmpType:De[0]}}),N=Qt(),b=O("employmentCategory"),[w,z]=f.useState(!1),[L,C]=f.useState(!1),[k,j]=f.useState(!1),[q,T]=f.useState(!1),Y=O("monthlyNetIncome");f.useEffect(()=>{const v=Y.replace(/[^0-9.]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");m("monthlyNetIncome",v)},[Y]);const Q=g=>{t(Qn(N,{...g,referenceNo:(s==null?void 0:s.referenceNo)??""}))},_=g=>{m("nationality",g)},ee=g=>{m("residenceType",g)},J=g=>{m("politicallyExposed",g)};f.useEffect(()=>{if(w?m("whatsappNo",(s==null?void 0:s.mobileNumber)??""):m("whatsappNo",(e==null?void 0:e.whatsappNo)??""),L){const{permAddressLine1:g,permAddressLine2:v,permAddressLine3:Se,permAddressLine4:pt}=E();m("mailAddressLine1",g),m("mailAddressLine2",v),m("mailAddressLine3",Se),m("mailAddressLine4",pt)}else m("mailAddressLine1",(e==null?void 0:e.mailAddressLine1)??""),m("mailAddressLine2",(e==null?void 0:e.mailAddressLine2)??""),m("mailAddressLine3",(e==null?void 0:e.mailAddressLine3)??""),m("mailAddressLine4",(e==null?void 0:e.mailAddressLine4)??"");if(k){const{fullName:g}=E();m("nameOnCard",g)}else m("nameOnCard",(e==null?void 0:e.nameOnCard)??"")},[w,L,k]),f.useEffect(()=>{const{employmentCategory:g}=E();g==="Government"&&p("employmentCategory")},[O]),f.useEffect(()=>{t(Gn())},[]);const P=()=>{N("/document-detail")};return a.jsxs("div",{className:"bg-card-pattern flex justify-center py-5 px-2 sm:px-0 sm:h-screen",children:[a.jsxs("div",{className:"container flex flex-col justify-center items-center",children:[a.jsx("img",{className:"w-32 mb-3 animate-fade-up animate-duration-[1200ms] animate-once",src:Dt}),(e==null?void 0:e.stage)==="A"&&a.jsx("div",{className:"w-full flex flex-1 sm:hidden justify-end",children:a.jsxs(fe,{variant:"link",className:"flex flex-row items-center",onClick:P,children:["Document details ",a.jsx(Ke,{size:18,className:"ml-1"})]})}),a.jsxs("form",{onSubmit:u(Q),className:"w-full grid grid-cols-1 sm:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[3000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Customer Personal Details"}),a.jsx(I,{type:"text",label:"Full Name",required:!0,error:(Z=r==null?void 0:r.fullName)==null?void 0:Z.message,...d("fullName")}),a.jsx(I,{type:"date",label:"Date of Birth",required:!0,error:(se=r==null?void 0:r.dob)==null?void 0:se.message,...d("dob")}),a.jsx(I,{type:"text",label:"Mother's Maiden Name",required:!0,error:(y=r==null?void 0:r.mothersMaidenName)==null?void 0:y.message,...d("mothersMaidenName")}),a.jsx(I,{type:"tel",label:"WhatsApp Number",error:(te=r==null?void 0:r.whatsappNo)==null?void 0:te.message,...d("whatsappNo"),check:!0,checkLabel:"Same as the mobile number",checkStatus:w,setCheackStatus:z,required:!0}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Permanent Address",...d("permAddressLine1"),placeholder:"Line 1",required:!0}),a.jsx(I,{type:"text",...d("permAddressLine2"),placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("permAddressLine3"),placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(re=r==null?void 0:r.permAddressLine1)==null?void 0:re.message,...d("permAddressLine4"),placeholder:"Line 4"})]}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Maling Address",...d("mailAddressLine1"),placeholder:"Line 1",check:!0,checkLabel:"Same as the permanent address",checkStatus:L,setCheackStatus:C,required:!0}),a.jsx(I,{type:"text",...d("mailAddressLine2"),disabled:L,placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("mailAddressLine3"),disabled:L,placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(ne=r==null?void 0:r.mailAddressLine1)==null?void 0:ne.message,...d("mailAddressLine4"),disabled:L,placeholder:"Line 4"})]}),a.jsx(X,{control:i,name:"province",render:({field:g})=>{var v;return a.jsx(ie,{options:Je,label:"Province",error:(v=r==null?void 0:r.province)==null?void 0:v.message,...g,required:!0})}}),a.jsx(X,{control:i,name:"preferredLanguage",render:({field:g})=>{var v;return a.jsx(ie,{options:Ye,label:"Preferred Language",error:(v=r==null?void 0:r.preferredLanguage)==null?void 0:v.message,...g,required:!0})}}),a.jsx(X,{control:i,name:"nationality",render:({field:g})=>{var v;return a.jsx(Ie,{options:to,label:"Nationality",error:(v=r==null?void 0:r.nationality)==null?void 0:v.message,...g,onChange:_,required:!0})}}),a.jsx(X,{control:i,name:"residenceType",render:({field:g})=>{var v;return a.jsx(Ie,{options:no,label:"Resident Type",error:(v=r==null?void 0:r.residenceType)==null?void 0:v.message,...g,onChange:ee,required:!0})}}),a.jsx(X,{control:i,name:"politicallyExposed",render:({field:g})=>{var v;return a.jsx(Ie,{options:oo,label:"Politically Exposed",error:(v=r==null?void 0:r.politicallyExposed)==null?void 0:v.message,...g,onChange:J,required:!0})}}),a.jsx(I,{type:"tel",label:"Residence Phone Number",error:(ae=r==null?void 0:r.residencePhone)==null?void 0:ae.message,...d("residencePhone"),ruleLabel:"Enter phone number (e.g. 0712345678)"}),a.jsx(I,{type:"tel",label:"Additional Contact Number",error:(le=r==null?void 0:r.additionalContactNo)==null?void 0:le.message,...d("additionalContactNo"),ruleLabel:"Enter phone number (e.g. 0712345678)"})]}),a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[4000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Customer Employment Details"}),a.jsx(X,{control:i,name:"employmentCategory",render:({field:g})=>{var v;return a.jsx(ie,{options:Xe,label:"Employment Category",error:(v=r==null?void 0:r.employmentCategory)==null?void 0:v.message,...g,required:!0})}}),b==="Government Sector"&&a.jsx(X,{control:i,name:"governmentSectorType",render:({field:g})=>{var v;return a.jsx(ie,{options:Ze,label:"Government Sector Type",error:(v=r==null?void 0:r.governmentSectorType)==null?void 0:v.message,...g,required:!0})}}),b==="Private Sector"&&a.jsx(X,{control:i,name:"pvtSectorType",render:({field:g})=>{var v;return a.jsx(ie,{options:Qe,label:"Private Sector Type",error:(v=r==null?void 0:r.pvtSectorType)==null?void 0:v.message,...g,required:!0})}}),b==="Self Employed"&&a.jsx(X,{control:i,name:"selfEmpType",render:({field:g})=>{var v;return a.jsx(ie,{options:De,label:"Self Employed Type",error:(v=r==null?void 0:r.selfEmpType)==null?void 0:v.message,...g,required:!0})}}),a.jsx(I,{type:"text",label:"Name of the Employer / Business",required:!0,error:(de=r==null?void 0:r.nameOfTheEmployer)==null?void 0:de.message,...d("nameOfTheEmployer")}),a.jsx(I,{type:"text",label:"Designation",required:!0,error:(h=r==null?void 0:r.designation)==null?void 0:h.message,...d("designation")}),a.jsx(X,{control:i,name:"occupationType",render:({field:g})=>{var v;return a.jsx(ie,{options:Ge,label:"Nature of Work",error:(v=r==null?void 0:r.occupationType)==null?void 0:v.message,...g,required:!0})}}),a.jsx(I,{type:"text",label:"Experience in Employment (years)",required:!0,error:(V=r==null?void 0:r.expInPresentEmployment)==null?void 0:V.message,...d("expInPresentEmployment")}),a.jsx(I,{type:"text",label:"Monthly Net Income",required:!0,error:(M=r==null?void 0:r.monthlyNetIncome)==null?void 0:M.message,...d("monthlyNetIncome")}),a.jsx(I,{type:"tel",label:"Office Contact Number",required:!0,error:(U=r==null?void 0:r.officeContactNo)==null?void 0:U.message,...d("officeContactNo"),ruleLabel:"Enter phone number (e.g. 0712345678)"}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Office Address",required:!0,...d("officeAddressLine1"),placeholder:"Line 1"}),a.jsx(I,{type:"text",...d("officeAddressLine2"),placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("officeAddressLine3"),placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(F=r==null?void 0:r.officeAddressLine1)==null?void 0:F.message,...d("officeAddressLine4"),placeholder:"Line 4"})]}),a.jsx(I,{type:"text",label:"Experience In Previous Employment (years)",required:!0,error:(B=r==null?void 0:r.experienceInPreviousEmployment)==null?void 0:B.message,...d("experienceInPreviousEmployment")}),a.jsx(I,{type:"text",label:"Name of the Previous Employer",required:!0,error:(D=r==null?void 0:r.nameOfThePreviousEmployer)==null?void 0:D.message,...d("nameOfThePreviousEmployer")})]}),a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[4000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Guarantor Details"}),a.jsx(I,{type:"text",label:"Guarantor Name",required:!0,error:(S=r==null?void 0:r.guarantorName)==null?void 0:S.message,...d("guarantorName")}),a.jsx(I,{type:"text",label:"Guarantor NIC",required:!0,error:(R=r==null?void 0:r.guarantorNic)==null?void 0:R.message,...d("guarantorNic")}),a.jsx(I,{type:"tel",label:"Guarantor Mobile Number",required:!0,error:(H=r==null?void 0:r.guarantorMobileNo)==null?void 0:H.message,...d("guarantorMobileNo"),ruleLabel:"Enter phone number (e.g. 0712345678)"}),a.jsx(I,{type:"text",label:"Relationship to Applicant",required:!0,error:(oe=r==null?void 0:r.relationShipToApplicant)==null?void 0:oe.message,...d("relationShipToApplicant")}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Guarantor Residential Address",required:!0,...d("guarantorAddressLine1"),placeholder:"Line 1"}),a.jsx(I,{type:"text",...d("guarantorAddressLine2"),placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("guarantorAddressLine3"),placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(me=r==null?void 0:r.guarantorAddressLine1)==null?void 0:me.message,...d("guarantorAddressLine4"),placeholder:"Line 4"})]})]}),a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[5000ms] animate-once hover:shadow-xl mb-20 sm:mb-0 flex flex-col gap-2  sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Credit Card Details"}),a.jsx(I,{type:"text",label:"Name on Card",required:!0,error:(Pe=r==null?void 0:r.nameOnCard)==null?void 0:Pe.message,...d("nameOnCard"),check:!0,checkLabel:"Same as the full name",checkStatus:k,setCheackStatus:j}),a.jsx(X,{control:i,name:"cardCollectBranch",render:({field:g})=>{var v;return a.jsx(Dn,{options:o!==null?o.map(Se=>Se.branchDes):[],label:"Card Collecting Branch",error:(v=r==null?void 0:r.cardCollectBranch)==null?void 0:v.message,...g,required:!0})}}),a.jsx("div",{className:"bg-primary-200 rounded-lg p-3 text-primary animate-fade-up animate-duration-[1500ms] animate-once",children:a.jsx(X,{control:i,name:"termsAndCondition",render:({field:g})=>{var v;return a.jsx(Gt,{type:"terms",...g,value:g.value?"true":"false",setOpen:T,error:(v=r==null?void 0:r.termsAndCondition)==null?void 0:v.message})}})})]}),a.jsxs("div",{className:"mt-5 md:col-span-4 justify-between h-10 animate-fade-up animate-duration-[6000ms] animate-once hidden sm:flex",children:[(e==null?void 0:e.status)==="A"&&a.jsxs(fe,{variant:"link",className:"flex flex-row items-center",onClick:P,children:["Document details ",a.jsx(Ke,{size:18,className:"ml-1"})]}),a.jsxs(fe,{variant:"primary",type:"submit",className:"",children:[n&&a.jsx(Ue,{className:"animate-spin animate-infinite"}),(e==null?void 0:e.status)==="A"?"Update Personal Details":"Save Personal Details"]})]}),a.jsx("div",{className:"fixed sm:hidden bottom-3 bg-primary-50 h-auto animate-fade-up animate-duration-[6000ms] animate-once w-full rounded-lg pr-4",children:a.jsxs(fe,{variant:"primary",type:"submit",className:"w-full",children:[n&&a.jsx(Ue,{className:"animate-spin animate-infinite"}),(e==null?void 0:e.status)==="A"?"Update Personal Details":"Save Personal Details"]})})]})]}),a.jsx(Zn,{setIsOpen:T,isOpen:q})]})};export{lo as default};
