import{g as u,R as p,a9 as Ce,q as v,s as z,S as K,au as q,av as V,aw as Le,x as O,P as B,ax as le,C as P,ay as M,az as T,p as ke,M as Y,aA as $,aB as Me,aC as ue,aD as ne,O as re,w as Pe,a3 as Ie,J as H,aE as Se,a6 as Ae,E as xe,a5 as He,a4 as Ne,aF as Oe,aG as oe,a8 as ae,aH as Be,ad as Ye}from"./index-DjoYrTaD.js";let Ge=u.createContext(()=>{});function Ue({value:e,children:t}){return p.createElement(Ge.Provider,{value:e},t)}function ie(e,t,n,r){let o=Ce(n);u.useEffect(()=>{e=e??window;function l(i){o.current(i)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function W(e,t){let n=u.useRef([]),r=v(e);u.useEffect(()=>{let o=[...n.current];for(let[l,i]of t.entries())if(n.current[l]!==i){let a=r(t,o);return n.current=t,a}},[r,...t])}function je(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let D=[];je(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&D[0]!==t.target&&(D.unshift(t.target),D=D.filter(n=>n!=null&&n.isConnected),D.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function qe(){var e;let[t]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=u.useState((e=t==null?void 0:t.matches)!=null?e:!1);return z(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Ve({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=u.useRef((r=n==null?void 0:n.current)!=null?r:null),l=K(o),i=v(()=>{var a,d,s;let m=[];for(let c of e)c!==null&&(c instanceof HTMLElement?m.push(c):"current"in c&&c.current instanceof HTMLElement&&m.push(c.current));if(t!=null&&t.current)for(let c of t.current)m.push(c);for(let c of(a=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?a:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(o.current)||c.contains((s=(d=o.current)==null?void 0:d.getRootNode())==null?void 0:s.host)||m.some(R=>c.contains(R))||m.push(c));return m});return{resolveContainers:i,contains:v(a=>i().some(d=>d.contains(a))),mainTreeNodeRef:o,MainTreeNode:u.useMemo(()=>function(){return n!=null?null:p.createElement(q,{features:V.Hidden,ref:o})},[o,n])}}let J=u.createContext(()=>{});J.displayName="StackContext";var _=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(_||{});function _e(){return u.useContext(J)}function ze({children:e,onUpdate:t,type:n,element:r,enabled:o}){let l=_e(),i=v((...a)=>{t==null||t(...a),l(...a)});return z(()=>{let a=o===void 0||o===!0;return a&&i(0,n,r),()=>{a&&i(1,n,r)}},[i,n,r,o]),p.createElement(J.Provider,{value:i},e)}function se(){let e=u.useRef(!1);return z(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var k=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(k||{});function Ke(){let e=u.useRef(0);return Le("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ce(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let We="div";var F=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.AutoFocus=32]="AutoFocus",e[e.All=30]="All",e))(F||{});function Je(e,t){let n=u.useRef(null),r=B(n,t),{initialFocus:o,initialFocusFallback:l,containers:i,features:a=30,...d}=e;le()||(a=1);let s=K(n);et({ownerDocument:s},!!(a&16));let m=tt({ownerDocument:s,container:n,initialFocus:o,initialFocusFallback:l},a);nt({ownerDocument:s,container:n,containers:i,previousActiveElement:m},!!(a&8));let c=Ke(),R=v(g=>{let h=n.current;h&&(b=>b())(()=>{P(c.current,{[k.Forwards]:()=>{M(h,T.First,{skipElements:[g.relatedTarget,l]})},[k.Backwards]:()=>{M(h,T.Last,{skipElements:[g.relatedTarget,l]})}})})}),I=ke(),y=u.useRef(!1),w={ref:r,onKeyDown(g){g.key=="Tab"&&(y.current=!0,I.requestAnimationFrame(()=>{y.current=!1}))},onBlur(g){if(!(a&8))return;let h=ce(i);n.current instanceof HTMLElement&&h.add(n.current);let b=g.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(de(h,b)||(y.current?M(n.current,P(c.current,{[k.Forwards]:()=>T.Next,[k.Backwards]:()=>T.Previous})|T.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&$(g.target)))}};return p.createElement(p.Fragment,null,!!(a&4)&&p.createElement(q,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:R,features:V.Focusable}),Y({ourProps:w,theirProps:d,defaultTag:We,name:"FocusTrap"}),!!(a&4)&&p.createElement(q,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:R,features:V.Focusable}))}let Qe=O(Je),Xe=Object.assign(Qe,{features:F});function Ze(e=!0){let t=u.useRef(D.slice());return W(([n],[r])=>{r===!0&&n===!1&&ue(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=D.slice())},[e,D,t]),v(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function et({ownerDocument:e},t){let n=Ze(t);W(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&$(n())},[t]),Me(()=>{t&&$(n())})}function tt({ownerDocument:e,container:t,initialFocus:n,initialFocusFallback:r},o){let l=!!(o&2),i=u.useRef(null),a=se();return W(()=>{if(!l){r!=null&&r.current&&$(r.current);return}let d=t.current;d&&ue(()=>{if(!a.current)return;let s=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===s){i.current=s;return}}else if(d.contains(s)){i.current=s;return}if(n!=null&&n.current)$(n.current);else{if(o&32){if(M(d,T.First|T.AutoFocus)!==ne.Error)return}else if(M(d,T.First)!==ne.Error)return;if(r!=null&&r.current&&($(r.current),(e==null?void 0:e.activeElement)===r.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=e==null?void 0:e.activeElement})},[r,l,o]),i}function nt({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let l=se();ie(e==null?void 0:e.defaultView,"focus",i=>{if(!o||!l.current)return;let a=ce(n);t.current instanceof HTMLElement&&a.add(t.current);let d=r.current;if(!d)return;let s=i.target;s&&s instanceof HTMLElement?de(a,s)?(r.current=s,$(s)):(i.preventDefault(),i.stopPropagation(),$(d)):$(r.current)},!0)}function de(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var rt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(rt||{}),ot=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ot||{});let at={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},N=u.createContext(null);N.displayName="DialogContext";function Q(e){let t=u.useContext(N);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Q),n}return t}function lt(e,t){return P(t.type,at,e,t)}let ut="div",it=re.RenderStrategy|re.Static;function st(e,t){let n=u.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:i,role:a="dialog",autoFocus:d=!0,__demoMode:s=!1,...m}=e,[c,R]=u.useState(0),I=u.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(I.current||(I.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=Ie();o===void 0&&y!==null&&(o=(y&H.Open)===H.Open);let w=u.useRef(null),g=B(w,t),h=K(w),b=e.hasOwnProperty("open")||y!==null,X=e.hasOwnProperty("onClose");if(!b&&!X)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!X)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof l!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let E=o?0:1,[S,fe]=u.useReducer(lt,{titleId:null,descriptionId:null,panelRef:u.createRef()}),L=v(()=>l(!1)),Z=v(f=>fe({type:0,id:f})),G=le()?E===0:!1,A=c>1,pe=u.useContext(N)!==null,[me,ve]=Se(),ge={get current(){var f;return(f=S.panelRef.current)!=null?f:w.current}},{resolveContainers:U,mainTreeNodeRef:Ee,MainTreeNode:we}=Ve({portals:me,defaultContainers:[ge]}),he=A?"parent":"leaf",ee=y!==null?(y&H.Closing)===H.Closing:!1,ye=A||ee?!1:G;Ae({allowed:v(()=>{var f,C;return[(C=(f=w.current)==null?void 0:f.closest("[data-headlessui-portal]"))!=null?C:null]}),disallowed:v(()=>{var f,C;return[(C=(f=Ee.current)==null?void 0:f.closest("body > *:not(#headlessui-portal-root)"))!=null?C:null]})},s?!1:ye),xe(U,f=>{f.preventDefault(),L()},!(!G||A));let Fe=!(A||E!==0);ie(h==null?void 0:h.defaultView,"keydown",f=>{Fe&&(f.defaultPrevented||f.key===Ye.Escape&&(f.preventDefault(),f.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),L()))}),He(h,s?!1:!(ee||E!==0||pe),U),Ne(w,L,E===0);let[$e,be]=Oe(),Te=u.useMemo(()=>[{dialogState:E,close:L,setTitleId:Z},S],[E,S,L,Z]),te=u.useMemo(()=>({open:E===0}),[E]),De={ref:g,id:r,role:a,tabIndex:-1,"aria-modal":s?void 0:E===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":$e},Re=!qe(),x=G?P(he,{parent:F.RestoreFocus,leaf:F.All&~F.FocusLock}):F.None;return d&&(x|=F.AutoFocus),Re||(x&=~F.InitialFocus),s&&(x=F.None),p.createElement(ze,{type:"Dialog",enabled:E===0,element:w,onUpdate:v((f,C)=>{C==="Dialog"&&P(f,{[_.Add]:()=>R(j=>j+1),[_.Remove]:()=>R(j=>j-1)})})},p.createElement(oe,{force:!0},p.createElement(ae,null,p.createElement(N.Provider,{value:Te},p.createElement(ae.Group,{target:w},p.createElement(oe,{force:!1},p.createElement(be,{slot:te,name:"Dialog.Description"},p.createElement(ve,null,p.createElement(Xe,{initialFocus:i,initialFocusFallback:s?void 0:w,containers:U,features:x},p.createElement(Ue,{value:L},Y({ourProps:De,theirProps:m,slot:te,defaultTag:ut,features:it,visible:E===0,name:"Dialog"})))))))))),p.createElement(Be,null,p.createElement(we,null)))}let ct="div";function dt(e,t){let n=u.useId(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:l},i]=Q("Dialog.Panel"),a=B(t,i.panelRef),d=u.useMemo(()=>({open:l===0}),[l]),s=v(m=>{m.stopPropagation()});return Y({ourProps:{ref:a,id:r,onClick:s},theirProps:o,slot:d,defaultTag:ct,name:"Dialog.Panel"})}let ft="h2";function pt(e,t){let n=u.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:i}]=Q("Dialog.Title"),a=B(t);u.useEffect(()=>(i(r),()=>i(null)),[r,i]);let d=u.useMemo(()=>({open:l===0}),[l]);return Y({ourProps:{ref:a,id:r},theirProps:o,slot:d,defaultTag:ft,name:"Dialog.Title"})}let mt=O(st),vt=O(dt),gt=O(pt),yt=Object.assign(mt,{Panel:vt,Title:gt,Description:Pe});function Ft(e){const t=/^(?:\+\d{1,3}\d{10}|[0-9]{10})$/;if(!e.match(t))throw new Error("Invalid phone number format");const n=e.slice(0,-3).replace(/\d/g,"X"),r=e.slice(-3);return n+r}function $t(e){function t(n){const r=("0"+(n.getMonth()+1)).slice(-2),o=("0"+n.getDate()).slice(-2);return`${n.getFullYear()}-${r}-${o}`}if(e.length===10){const n=parseInt("19"+e.slice(0,2));let r=parseInt(e.slice(2,5));const o=r<=366?"Male":"Female";o==="Female"&&(r-=500);const l=new Date(n,0,r);return{Gender:o,Birthday:t(l)}}else if(e.length===12){const n=parseInt(e.slice(0,4));let r=parseInt(e.slice(4,7));const o=r<=366?"Male":"Female";o==="Female"&&(r-=500);const l=new Date(n,0,r);return{Gender:o,Birthday:t(l)}}else return{Gender:"",Birthday:""}}export{ie as E,vt as V,yt as _,W as a,Ft as m,$t as p,gt as q,D as t};
