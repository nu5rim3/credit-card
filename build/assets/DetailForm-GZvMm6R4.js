import{h as p,s as ht,t as Re,x as O,E as gt,y as G,z as xt,O as ke,A as xe,K as Ne,C as bt,F as vt,T as yt,G as Ct,H as ue,J as St,L as It,R as K,M as Et,N as Tt,P as Se,Q as At,S as be,U as Ot,W as Ie,X as Nt,Y as nt,Z as $e,$ as je,a0 as Lt,a1 as ot,a2 as it,a3 as we,a4 as Rt,a5 as jt,a6 as wt,a7 as Pt,a8 as Mt,a9 as Ft,aa as kt,ab as $t,ac as qt,ad as qe,ae as zt,af as _t,ag as ze,ah as Bt,ai as $,aj as W,ak as _e,al as Vt,am as Ut,an as Be,ao as Wt,c as st,j as a,k as Ht,V as Kt,q as Yt,w as Jt,B as ge,ap as Xt,b as rt,aq as Zt,_ as Ve,ar as Ue,as as Qt,at as Dt,au as Gt,av as en,aw as We,ax as tn,p as ye,a as nn,l as on,I,ay as ie,az as Te,aA as sn}from"./index-DvmvIXjs.js";import{o as rn,s as x,b as Ce,u as an,t as ln,C as X,L as He}from"./index-DfApYjhx.js";import{p as dn}from"./textConvertor-BsdEMnbp.js";import{u as cn}from"./userDetailGetActions-BaBQanGG.js";function at(t){var s,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var e=t.length;for(s=0;s<e;s++)t[s]&&(n=at(t[s]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Ke(){for(var t,s,n=0,o="",e=arguments.length;n<e;n++)(t=arguments[n])&&(s=at(t))&&(o&&(o+=" "),o+=s);return o}function he(t,s,n){let o=n.initialDeps??[],e;return()=>{var l,c,i,d;let f;n.key&&((l=n.debug)!=null&&l.call(n))&&(f=Date.now());const u=t();if(!(u.length!==o.length||u.some((A,r)=>o[r]!==A)))return e;o=u;let E;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(E=Date.now()),e=s(...u),n.key&&((i=n.debug)!=null&&i.call(n))){const A=Math.round((Date.now()-f)*100)/100,r=Math.round((Date.now()-E)*100)/100,N=r/16,b=(w,_)=>{for(w=String(w);w.length<_;)w=" "+w;return w};console.info(`%câ± ${b(r,5)} /${b(A,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*N,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(d=n==null?void 0:n.onChange)==null||d.call(n,e),e}}function Ae(t,s){if(t===void 0)throw new Error("Unexpected undefined");return t}const un=(t,s)=>Math.abs(t-s)<1,mn=(t,s)=>{let n;return function(...o){clearTimeout(n),n=setTimeout(()=>t.apply(this,o),s)}},pn=t=>t,fn=t=>{const s=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),o=[];for(let e=s;e<=n;e++)o.push(e);return o},hn=(t,s)=>{const n=t.scrollElement;if(!n)return;const o=l=>{const{width:c,height:i}=l;s({width:Math.round(c),height:Math.round(i)})};if(o(n.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const e=new ResizeObserver(l=>{const c=l[0];if(c!=null&&c.borderBoxSize){const i=c.borderBoxSize[0];if(i){o({width:i.inlineSize,height:i.blockSize});return}}o(n.getBoundingClientRect())});return e.observe(n,{box:"border-box"}),()=>{e.unobserve(n)}},Ye={passive:!0},gn=typeof window>"u"?!0:"onscrollend"in window,xn=(t,s)=>{const n=t.scrollElement;if(!n)return;let o=0;const e=gn?()=>{}:mn(()=>{s(o,!1)},t.options.isScrollingResetDelay),l=d=>()=>{o=n[t.options.horizontal?"scrollLeft":"scrollTop"],e(),s(o,d)},c=l(!0),i=l(!1);return i(),n.addEventListener("scroll",c,Ye),n.addEventListener("scrollend",i,Ye),()=>{n.removeEventListener("scroll",c),n.removeEventListener("scrollend",i)}},bn=(t,s,n)=>{if(s!=null&&s.borderBoxSize){const o=s.borderBoxSize[0];if(o)return Math.round(o[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[n.options.horizontal?"width":"height"])},vn=(t,{adjustments:s=0,behavior:n},o)=>{var e,l;const c=t+s;(l=(e=o.scrollElement)==null?void 0:e.scrollTo)==null||l.call(e,{[o.options.horizontal?"left":"top"]:c,behavior:n})};class yn{constructor(s){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let n=null;const o=()=>n||(typeof ResizeObserver<"u"?n=new ResizeObserver(e=>{e.forEach(l=>{this._measureElement(l.target,l)})}):null);return{disconnect:()=>{var e;return(e=o())==null?void 0:e.disconnect()},observe:e=>{var l;return(l=o())==null?void 0:l.observe(e,{box:"border-box"})},unobserve:e=>{var l;return(l=o())==null?void 0:l.unobserve(e)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([o,e])=>{typeof e>"u"&&delete n[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:pn,rangeExtractor:fn,onChange:()=>{},measureElement:bn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...n}},this.notify=(n,o)=>{var e,l;const{startIndex:c,endIndex:i}=this.range??{startIndex:void 0,endIndex:void 0},d=this.calculateRange();(n||c!==(d==null?void 0:d.startIndex)||i!==(d==null?void 0:d.endIndex))&&((l=(e=this.options).onChange)==null||l.call(e,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const n=this.options.getScrollElement();this.scrollElement!==n&&(this.cleanup(),this.scrollElement=n,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(o,e)=>{this.scrollAdjustments=0,this.scrollDirection=e?this.scrollOffset<o?"forward":"backward":null,this.scrollOffset=o;const l=this.isScrolling;this.isScrolling=e,this.notify(l!==e,e)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=he(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(n,o,e,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:o,scrollMargin:e,getItemKey:l}),{key:!1}),this.getFurthestMeasurement=(n,o)=>{const e=new Map,l=new Map;for(let c=o-1;c>=0;c--){const i=n[c];if(e.has(i.lane))continue;const d=l.get(i.lane);if(d==null||i.end>d.end?l.set(i.lane,i):i.end<d.end&&e.set(i.lane,!0),e.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((c,i)=>c.end===i.end?c.index-i.index:c.end-i.end)[0]:void 0},this.getMeasurements=he(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:o,scrollMargin:e,getItemKey:l},c)=>{const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,i);for(let f=i;f<n;f++){const u=l(f),m=this.options.lanes===1?d[f-1]:this.getFurthestMeasurement(d,f),E=m?m.end+this.options.gap:o+e,A=c.get(u),r=typeof A=="number"?A:this.options.estimateSize(f),N=E+r,b=m?m.lane:f%this.options.lanes;d[f]={index:f,start:E,size:r,end:N,key:u,lane:b}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=he(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,o,e)=>this.range=n.length>0&&o>0?Cn({measurements:n,outerSize:o,scrollOffset:e}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=he(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,o,e,l)=>o===null?[]:n({startIndex:o.startIndex,endIndex:o.endIndex,overscan:e,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const o=this.options.indexAttribute,e=n.getAttribute(o);return e?parseInt(e,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(n,o)=>{const e=this.measurementsCache[this.indexFromElement(n)];if(!e||!n.isConnected){this.measureElementCache.forEach((i,d)=>{i===n&&(this.observer.unobserve(n),this.measureElementCache.delete(d))});return}const l=this.measureElementCache.get(e.key);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.measureElementCache.set(e.key,n));const c=this.options.measureElement(n,o,this);this.resizeItem(e,c)},this.resizeItem=(n,o)=>{const e=this.itemSizeCache.get(n.key)??n.size,l=o-e;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,l,this):n.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,o)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=he(()=>[this.getIndexes(),this.getMeasurements()],(n,o)=>{const e=[];for(let l=0,c=n.length;l<c;l++){const i=n[l],d=o[i];e.push(d)}return e},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const o=this.getMeasurements();return Ae(o[lt(0,o.length-1,e=>Ae(o[e]).start,n)])},this.getOffsetForAlignment=(n,o)=>{const e=this.getSize();o==="auto"&&(n<=this.scrollOffset?o="start":n>=this.scrollOffset+e?o="end":o="start"),o==="start"?n=n:o==="end"?n=n-e:o==="center"&&(n=n-e/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",i=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-this.getSize();return Math.max(Math.min(i,n),0)},this.getOffsetForIndex=(n,o="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const e=Ae(this.getMeasurements()[n]);if(o==="auto")if(e.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)o="end";else if(e.start<=this.scrollOffset+this.options.scrollPaddingStart)o="start";else return[this.scrollOffset,o];const l=o==="end"?e.end+this.options.scrollPaddingEnd:e.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o),o]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:o="start",behavior:e}={})=>{this.cancelScrollToIndex(),e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,o),{adjustments:void 0,behavior:e})},this.scrollToIndex=(n,{align:o="auto",behavior:e}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[l,c]=this.getOffsetForIndex(n,o);this._scrollToOffset(l,{adjustments:void 0,behavior:e}),e!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(n))){const[d]=this.getOffsetForIndex(n,c);un(d,this.scrollOffset)||this.scrollToIndex(n,{align:c,behavior:e})}else this.scrollToIndex(n,{align:c,behavior:e})}))},this.scrollBy=(n,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+n,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var n;const o=this.getMeasurements();let e;return o.length===0?e=this.options.paddingStart:e=this.options.lanes===1?((n=o[o.length-1])==null?void 0:n.end)??0:Math.max(...o.slice(-this.options.lanes).map(l=>l.end)),e-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:o,behavior:e})=>{this.options.scrollToFn(n,{behavior:e,adjustments:o},this)},this.measure=()=>{var n,o;this.itemSizeCache=new Map,(o=(n=this.options).onChange)==null||o.call(n,this,!1)},this.setOptions(s),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}),this.notify(!1,!1)}}const lt=(t,s,n,o)=>{for(;t<=s;){const e=(t+s)/2|0,l=n(e);if(l<o)t=e+1;else if(l>o)s=e-1;else return e}return t>0?t-1:0};function Cn({measurements:t,outerSize:s,scrollOffset:n}){const o=t.length-1,l=lt(0,o,i=>t[i].start,n);let c=l;for(;c<o&&t[c].end<n+s;)c++;return{startIndex:l,endIndex:c}}const Sn=typeof document<"u"?p.useLayoutEffect:p.useEffect;function In(t){const s=p.useReducer(()=>({}),{})[1],n={...t,onChange:(e,l)=>{var c;l?ht.flushSync(s):s(),(c=t.onChange)==null||c.call(t,e,l)}},[o]=p.useState(()=>new yn(n));return o.setOptions(n),p.useEffect(()=>o._didMount(),[]),Sn(()=>o._willUpdate()),o}function En(t){return In({observeElementRect:hn,observeElementOffset:xn,scrollToFn:vn,...t})}function Tn(){let t=Re();return O(s=>{t.dispose(),t.nextFrame(s)})}function dt(t){let s=p.useRef({value:"",selectionStart:null,selectionEnd:null});return gt(t.current,"blur",n=>{let o=n.target;o instanceof HTMLInputElement&&(s.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),O(()=>{let n=t.current;if(document.activeElement!==n&&n instanceof HTMLInputElement&&n.isConnected){if(n.focus({preventScroll:!0}),n.value!==s.current.value)n.setSelectionRange(n.value.length,n.value.length);else{let{selectionStart:o,selectionEnd:e}=s.current;o!==null&&e!==null&&n.setSelectionRange(o,e)}s.current={value:"",selectionStart:null,selectionEnd:null}}})}function An({container:t,accept:s,walk:n,enabled:o=!0}){let e=p.useRef(s),l=p.useRef(n);p.useEffect(()=>{e.current=s,l.current=n},[s,n]),G(()=>{if(!t||!o)return;let c=xt(t);if(!c)return;let i=e.current,d=l.current,f=Object.assign(m=>i(m),{acceptNode:i}),u=c.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;u.nextNode();)d(u.currentNode)},[t,o,e,l])}var Pe=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Pe||{}),On={},Nn=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Nn||{}),Ln=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Ln||{}),Rn=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(Rn||{}),jn=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.SetActivationTrigger=5]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=6]="UpdateVirtualConfiguration",t))(jn||{});function Oe(t,s=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,o=s(t.options.slice()),e=o.length>0&&o[0].dataRef.current.order!==null?o.sort((c,i)=>c.dataRef.current.order-i.dataRef.current.order):Wt(o,c=>c.dataRef.current.domRef.current),l=n?e.indexOf(n):null;return l===-1&&(l=null),{options:e,activeOptionIndex:l}}let wn={1(t){var s;return(s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1,activationTrigger:2,__demoMode:!1}},0(t){var s,n;if((s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===0)return t;if((n=t.dataRef.current)!=null&&n.value){let o=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(o!==-1)return{...t,activeOptionIndex:o,comboboxState:0,__demoMode:!1}}return{...t,comboboxState:0,__demoMode:!1}},2(t,s){var n,o,e,l,c;if((n=t.dataRef.current)!=null&&n.disabled||(o=t.dataRef.current)!=null&&o.optionsRef.current&&!((e=t.dataRef.current)!=null&&e.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:u,disabled:m}=t.virtual,E=s.focus===$.Specific?s.idx:Be(s,{resolveItems:()=>u,resolveActiveIndex:()=>{var r,N;return(N=(r=t.activeOptionIndex)!=null?r:u.findIndex(b=>!m(b)))!=null?N:null},resolveDisabled:m,resolveId(){throw new Error("Function not implemented.")}}),A=(l=s.trigger)!=null?l:2;return t.activeOptionIndex===E&&t.activationTrigger===A?t:{...t,activeOptionIndex:E,activationTrigger:A,__demoMode:!1}}let i=Oe(t);if(i.activeOptionIndex===null){let u=i.options.findIndex(m=>!m.dataRef.current.disabled);u!==-1&&(i.activeOptionIndex=u)}let d=s.focus===$.Specific?s.idx:Be(s,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),f=(c=s.trigger)!=null?c:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,...i,activeOptionIndex:d,activationTrigger:f,__demoMode:!1}},3:(t,s)=>{var n,o,e;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:[...t.options,s.payload]};let l=s.payload,c=Oe(t,d=>(d.push(l),d));t.activeOptionIndex===null&&(o=t.dataRef.current)!=null&&o.isSelected(s.payload.dataRef.current.value)&&(c.activeOptionIndex=c.options.indexOf(l));let i={...t,...c,activationTrigger:2};return(e=t.dataRef.current)!=null&&e.__demoMode&&t.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},4:(t,s)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(e=>e.id!==s.id)};let o=Oe(t,e=>{let l=e.findIndex(c=>c.id===s.id);return l!==-1&&e.splice(l,1),e});return{...t,...o,activationTrigger:2}},5:(t,s)=>t.activationTrigger===s.trigger?t:{...t,activationTrigger:s.trigger},6:(t,s)=>{var n,o;if(t.virtual===null)return{...t,virtual:{options:s.options,disabled:(n=s.disabled)!=null?n:()=>!1}};if(t.virtual.options===s.options&&t.virtual.disabled===s.disabled)return t;let e=t.activeOptionIndex;if(t.activeOptionIndex!==null){let l=s.options.indexOf(t.virtual.options[t.activeOptionIndex]);l!==-1?e=l:e=null}return{...t,activeOptionIndex:e,virtual:{options:s.options,disabled:(o=s.disabled)!=null?o:()=>!1}}}},Me=p.createContext(null);Me.displayName="ComboboxActionsContext";function ve(t){let s=p.useContext(Me);if(s===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ve),n}return s}let ct=p.createContext(null);function Pn(t){let s=me("VirtualProvider"),{options:n}=s.virtual,[o,e]=p.useMemo(()=>{let f=s.optionsRef.current;if(!f)return[0,0];let u=window.getComputedStyle(f);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[s.optionsRef.current]),l=En({scrollPaddingStart:o,scrollPaddingEnd:e,count:n.length,estimateSize(){return 40},getScrollElement(){var f;return(f=s.optionsRef.current)!=null?f:null},overscan:12}),[c,i]=p.useState(0);G(()=>{i(f=>f+1)},[n]);let d=l.getVirtualItems();return d.length===0?null:K.createElement(ct.Provider,{value:l},K.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:f=>{if(f){if(typeof process<"u"&&On.JEST_WORKER_ID!==void 0||s.activationTrigger===0)return;s.activeOptionIndex!==null&&n.length>s.activeOptionIndex&&l.scrollToIndex(s.activeOptionIndex)}}},d.map(f=>{var u;return K.createElement(p.Fragment,{key:f.key},K.cloneElement((u=t.children)==null?void 0:u.call(t,{option:n[f.index],open:s.comboboxState===0}),{key:`${c}-${f.key}`,"data-index":f.index,"aria-setsize":n.length,"aria-posinset":f.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}}))})))}let Ee=p.createContext(null);Ee.displayName="ComboboxDataContext";function me(t){let s=p.useContext(Ee);if(s===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,me),n}return s}function Mn(t,s){return ue(s.type,wn,t,s)}let Fn=p.Fragment;function kn(t,s){var n,o;let e=bt(),{value:l,defaultValue:c,onChange:i,form:d,name:f,by:u,disabled:m=e||!1,onClose:E,__demoMode:A=!1,multiple:r=!1,immediate:N=!1,virtual:b=null,nullable:w,..._}=t,L=vt(c),[y=r?[]:void 0,P]=yt(l,i,L),[j,q]=p.useReducer(Mn,{dataRef:p.createRef(),comboboxState:A?0:1,options:[],virtual:b?{options:b.options,disabled:(n=b.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:A}),T=p.useRef(!1),Y=p.useRef({static:!1,hold:!1}),Q=p.useRef(null),z=p.useRef(null),ee=p.useRef(null),J=Ct(u),M=O(S=>b?u===null?b.options.indexOf(S):b.options.findIndex(R=>J(R,S)):j.options.findIndex(R=>J(R.dataRef.current.value,S))),Z=p.useCallback(S=>ue(C.mode,{1:()=>y.some(R=>J(R,S)),0:()=>J(y,S)}),[y]),se=O(S=>j.activeOptionIndex===M(S)),C=p.useMemo(()=>({...j,immediate:N,optionsPropsRef:Y,inputRef:Q,buttonRef:z,optionsRef:ee,value:y,defaultValue:L,disabled:m,mode:r?1:0,virtual:b?j.virtual:null,get activeOptionIndex(){if(T.current&&j.activeOptionIndex===null&&(b?b.options.length>0:j.options.length>0)){if(b){let R=b.options.findIndex(H=>{var oe,pe;return!((pe=(oe=b.disabled)==null?void 0:oe.call(b,H))!=null&&pe)});if(R!==-1)return R}let S=j.options.findIndex(R=>!R.dataRef.current.disabled);if(S!==-1)return S}return j.activeOptionIndex},calculateIndex:M,compare:J,isSelected:Z,isActive:se}),[y,L,m,r,A,j,b]);G(()=>{var S;b&&q({type:6,options:b.options,disabled:(S=b.disabled)!=null?S:null})},[b,b==null?void 0:b.options,b==null?void 0:b.disabled]),G(()=>{j.dataRef.current=C},[C]),St([C.buttonRef,C.inputRef,C.optionsRef],()=>F.closeCombobox(),C.comboboxState===0);let te=p.useMemo(()=>{var S,R,H;return{open:C.comboboxState===0,disabled:m,activeIndex:C.activeOptionIndex,activeOption:C.activeOptionIndex===null?null:C.virtual?C.virtual.options[(S=C.activeOptionIndex)!=null?S:0]:(H=(R=C.options[C.activeOptionIndex])==null?void 0:R.dataRef.current.value)!=null?H:null,value:y}},[C,m,y]),re=O(()=>{if(C.activeOptionIndex!==null){if(C.virtual)g(C.virtual.options[C.activeOptionIndex]);else{let{dataRef:S}=C.options[C.activeOptionIndex];g(S.current.value)}F.goToOption($.Specific,C.activeOptionIndex)}}),ne=O(()=>{q({type:0}),T.current=!0}),ae=O(()=>{q({type:1}),T.current=!1,E==null||E()}),le=O((S,R,H)=>(T.current=!1,S===$.Specific?q({type:2,focus:$.Specific,idx:R,trigger:H}):q({type:2,focus:S,trigger:H}))),de=O((S,R)=>(q({type:3,payload:{id:S,dataRef:R}}),()=>{C.isActive(R.current.value)&&(T.current=!0),q({type:4,id:S})})),g=O(S=>ue(C.mode,{0(){return P==null?void 0:P(S)},1(){let R=C.value.slice(),H=R.findIndex(oe=>J(oe,S));return H===-1?R.push(S):R.splice(H,1),P==null?void 0:P(R)}})),V=O(S=>{q({type:5,trigger:S})}),F=p.useMemo(()=>({onChange:g,registerOption:de,goToOption:le,closeCombobox:ae,openCombobox:ne,setActivationTrigger:V,selectActiveOption:re}),[]),[U,k]=It(),B=s===null?{}:{ref:s},D=p.useCallback(()=>{if(L!==void 0)return P==null?void 0:P(L)},[P,L]);return K.createElement(k,{value:U,props:{htmlFor:(o=C.inputRef.current)==null?void 0:o.id},slot:{open:C.comboboxState===0,disabled:m}},K.createElement(Et,null,K.createElement(Me.Provider,{value:F},K.createElement(Ee.Provider,{value:C},K.createElement(Tt,{value:ue(C.comboboxState,{0:Se.Open,1:Se.Closed})},f!=null&&K.createElement(At,{disabled:m,data:y!=null?{[f]:y}:{},form:d,onReset:D}),be({ourProps:B,theirProps:_,slot:te,defaultTag:Fn,name:"Combobox"}))))))}let $n="input";function qn(t,s){var n,o,e,l,c;let i=me("Combobox.Input"),d=ve("Combobox.Input"),f=p.useId(),u=Ot(),{id:m=u||`headlessui-combobox-input-${f}`,onChange:E,displayValue:A,disabled:r=i.disabled||!1,autoFocus:N=!1,type:b="text",...w}=t,_=Ie(i.inputRef,s,Nt()),L=nt(i.inputRef),y=p.useRef(!1),P=Re(),j=O(()=>{d.onChange(null),i.optionsRef.current&&(i.optionsRef.current.scrollTop=0),d.goToOption($.Nothing)}),q=p.useMemo(()=>{var g;return typeof A=="function"&&i.value!==void 0?(g=A(i.value))!=null?g:"":typeof i.value=="string"?i.value:""},[i.value,A]);$e(([g,V],[F,U])=>{if(y.current)return;let k=i.inputRef.current;k&&((U===0&&V===1||g!==F)&&(k.value=g),requestAnimationFrame(()=>{if(y.current||!k||(L==null?void 0:L.activeElement)!==k)return;let{selectionStart:B,selectionEnd:D}=k;Math.abs((D??0)-(B??0))===0&&B===0&&k.setSelectionRange(k.value.length,k.value.length)}))},[q,i.comboboxState,L]),$e(([g],[V])=>{if(g===0&&V===1){if(y.current)return;let F=i.inputRef.current;if(!F)return;let U=F.value,{selectionStart:k,selectionEnd:B,selectionDirection:D}=F;F.value="",F.value=U,D!==null?F.setSelectionRange(k,B,D):F.setSelectionRange(k,B)}},[i.comboboxState]);let T=p.useRef(!1),Y=O(()=>{T.current=!0}),Q=O(()=>{P.nextFrame(()=>{T.current=!1})}),z=Tn(),ee=O(g=>{switch(y.current=!0,z(()=>{y.current=!1}),g.key){case W.Enter:if(y.current=!1,i.comboboxState!==0||T.current)return;if(g.preventDefault(),g.stopPropagation(),i.activeOptionIndex===null){d.closeCombobox();return}d.selectActiveOption(),i.mode===0&&d.closeCombobox();break;case W.ArrowDown:return y.current=!1,g.preventDefault(),g.stopPropagation(),ue(i.comboboxState,{0:()=>d.goToOption($.Next),1:()=>d.openCombobox()});case W.ArrowUp:return y.current=!1,g.preventDefault(),g.stopPropagation(),ue(i.comboboxState,{0:()=>d.goToOption($.Previous),1:()=>{d.openCombobox(),P.nextFrame(()=>{i.value||d.goToOption($.Last)})}});case W.Home:if(g.shiftKey)break;return y.current=!1,g.preventDefault(),g.stopPropagation(),d.goToOption($.First);case W.PageUp:return y.current=!1,g.preventDefault(),g.stopPropagation(),d.goToOption($.First);case W.End:if(g.shiftKey)break;return y.current=!1,g.preventDefault(),g.stopPropagation(),d.goToOption($.Last);case W.PageDown:return y.current=!1,g.preventDefault(),g.stopPropagation(),d.goToOption($.Last);case W.Escape:return y.current=!1,i.comboboxState!==0?void 0:(g.preventDefault(),i.optionsRef.current&&!i.optionsPropsRef.current.static&&g.stopPropagation(),i.mode===0&&i.value===null&&j(),d.closeCombobox());case W.Tab:if(y.current=!1,i.comboboxState!==0)return;i.mode===0&&i.activationTrigger!==1&&d.selectActiveOption(),d.closeCombobox();break}}),J=O(g=>{E==null||E(g),i.mode===0&&g.target.value===""&&j(),d.openCombobox()}),M=O(g=>{var V,F,U;let k=(V=g.relatedTarget)!=null?V:_e.find(B=>B!==g.currentTarget);if(y.current=!1,!((F=i.optionsRef.current)!=null&&F.contains(k))&&!((U=i.buttonRef.current)!=null&&U.contains(k))&&i.comboboxState===0)return g.preventDefault(),i.mode===0&&i.value===null&&j(),d.closeCombobox()}),Z=O(g=>{var V,F,U;let k=(V=g.relatedTarget)!=null?V:_e.find(B=>B!==g.currentTarget);(F=i.buttonRef.current)!=null&&F.contains(k)||(U=i.optionsRef.current)!=null&&U.contains(k)||i.disabled||i.immediate&&i.comboboxState!==0&&(d.openCombobox(),P.nextFrame(()=>{d.setActivationTrigger(1)}))}),se=je(),C=Lt(),{isFocused:te,focusProps:re}=ot({autoFocus:N}),{isHovered:ne,hoverProps:ae}=it({isDisabled:r}),le=p.useMemo(()=>({open:i.comboboxState===0,disabled:r,hover:ne,focus:te,autofocus:N}),[i,ne,te,N,r]),de=we({ref:_,id:m,role:"combobox",type:b,"aria-controls":(n=i.optionsRef.current)==null?void 0:n.id,"aria-expanded":i.comboboxState===0,"aria-activedescendant":i.activeOptionIndex===null?void 0:i.virtual?(o=i.options.find(g=>!g.dataRef.current.disabled&&i.compare(g.dataRef.current.value,i.virtual.options[i.activeOptionIndex])))==null?void 0:o.id:(e=i.options[i.activeOptionIndex])==null?void 0:e.id,"aria-labelledby":se,"aria-describedby":C,"aria-autocomplete":"list",defaultValue:(c=(l=t.defaultValue)!=null?l:i.defaultValue!==void 0?A==null?void 0:A(i.defaultValue):null)!=null?c:i.defaultValue,disabled:r||void 0,autoFocus:N,onCompositionStart:Y,onCompositionEnd:Q,onKeyDown:ee,onChange:J,onFocus:Z,onBlur:M},re,ae);return be({ourProps:de,theirProps:w,slot:le,defaultTag:$n,name:"Combobox.Input"})}let zn="button";function _n(t,s){var n;let o=me("Combobox.Button"),e=ve("Combobox.Button"),l=Ie(o.buttonRef,s),c=p.useId(),{id:i=`headlessui-combobox-button-${c}`,disabled:d=o.disabled||!1,autoFocus:f=!1,...u}=t,m=Re(),E=dt(o.inputRef),A=O(T=>{switch(T.key){case W.Space:case W.Enter:return T.preventDefault(),T.stopPropagation(),o.comboboxState===1&&e.openCombobox(),m.nextFrame(()=>E());case W.ArrowDown:return T.preventDefault(),T.stopPropagation(),o.comboboxState===1&&(e.openCombobox(),m.nextFrame(()=>{o.value||e.goToOption($.First)})),m.nextFrame(()=>E());case W.ArrowUp:return T.preventDefault(),T.stopPropagation(),o.comboboxState===1&&(e.openCombobox(),m.nextFrame(()=>{o.value||e.goToOption($.Last)})),m.nextFrame(()=>E());case W.Escape:return o.comboboxState!==0?void 0:(T.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&T.stopPropagation(),e.closeCombobox(),m.nextFrame(()=>E()));default:return}}),r=O(T=>{T.preventDefault(),!Vt(T.currentTarget)&&(T.button===Pe.Left&&(o.comboboxState===0?e.closeCombobox():e.openCombobox()),E())}),N=je([i]),{isFocusVisible:b,focusProps:w}=ot({autoFocus:f}),{isHovered:_,hoverProps:L}=it({isDisabled:d}),{pressed:y,pressProps:P}=Rt({disabled:d}),j=p.useMemo(()=>({open:o.comboboxState===0,active:y||o.comboboxState===0,disabled:d,value:o.value,hover:_,focus:b}),[o,_,b,y,d]),q=we({ref:l,id:i,type:jt(t,o.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.comboboxState===0,"aria-labelledby":N,disabled:d||void 0,autoFocus:f,onMouseDown:r,onKeyDown:A},w,L,P);return be({ourProps:q,theirProps:u,slot:j,defaultTag:zn,name:"Combobox.Button"})}let Bn="div",Vn=ke.RenderStrategy|ke.Static;function Un(t,s){var n;let o=p.useId(),{id:e=`headlessui-combobox-options-${o}`,hold:l=!1,anchor:c,portal:i=!1,modal:d=!0,...f}=t,u=me("Combobox.Options"),m=ve("Combobox.Options"),E=wt(c);E&&(i=!0);let[A,r]=Pt(E),N=Mt(),b=Ie(u.optionsRef,s,E?A:null),w=nt(u.optionsRef),_=Ft(),L=_!==null?(_&Se.Open)===Se.Open:u.comboboxState===0;kt(u.inputRef,m.closeCombobox,L),$t(w,u.__demoMode?!1:d&&u.comboboxState===0),qt({allowed:O(()=>[u.inputRef.current,u.buttonRef.current,u.optionsRef.current])},u.__demoMode?!1:d&&u.comboboxState===0),G(()=>{var z;u.optionsPropsRef.current.static=(z=t.static)!=null?z:!1},[u.optionsPropsRef,t.static]),G(()=>{u.optionsPropsRef.current.hold=l},[u.optionsPropsRef,l]),An({container:u.optionsRef.current,enabled:u.comboboxState===0,accept(z){return z.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:z.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(z){z.setAttribute("role","none")}});let y=je([(n=u.buttonRef.current)==null?void 0:n.id]),P=p.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u]),j=O(()=>{m.setActivationTrigger(0)}),q=we(E?N():{},{"aria-labelledby":y,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:e,ref:b,style:{...r,"--input-width":qe(u.inputRef,!0).width,"--button-width":qe(u.buttonRef,!0).width},onWheel:j});u.virtual&&L&&Object.assign(f,{children:K.createElement(Pn,null,f.children)});let[T,Y]=p.useState(u.value);u.value!==T&&u.comboboxState===0&&u.mode!==1&&Y(u.value);let Q=O(z=>u.compare(T,z));return K.createElement(zt,{enabled:i?t.static||L:!1},K.createElement(Ee.Provider,{value:u.mode===1?u:{...u,isSelected:Q}},be({ourProps:q,theirProps:f,slot:P,defaultTag:Bn,features:Vn,visible:L,name:"Combobox.Options"})))}let Wn="div";function Hn(t,s){var n,o,e,l;let c=me("Combobox.Option"),i=ve("Combobox.Option"),d=p.useId(),{id:f=`headlessui-combobox-option-${d}`,value:u,disabled:m=(e=(o=(n=c.virtual)==null?void 0:n.disabled)==null?void 0:o.call(n,u))!=null?e:!1,order:E=null,...A}=t,r=dt(c.inputRef),N=c.virtual?c.activeOptionIndex===c.calculateIndex(u):c.activeOptionIndex===null?!1:((l=c.options[c.activeOptionIndex])==null?void 0:l.id)===f,b=c.isSelected(u),w=p.useRef(null),_=_t({disabled:m,value:u,domRef:w,order:E}),L=p.useContext(ct),y=Ie(s,w,L?L.measureElement:null),P=O(()=>i.onChange(u));G(()=>i.registerOption(f,_),[_,f]);let j=p.useRef(!(c.virtual||c.__demoMode));G(()=>{if(!c.virtual&&!c.__demoMode)return ze().requestAnimationFrame(()=>{j.current=!0})},[c.virtual,c.__demoMode]),G(()=>{if(j.current&&c.comboboxState===0&&N&&c.activationTrigger!==0)return ze().requestAnimationFrame(()=>{var M,Z;(Z=(M=w.current)==null?void 0:M.scrollIntoView)==null||Z.call(M,{block:"nearest"})})},[w,N,c.comboboxState,c.activationTrigger,c.activeOptionIndex]);let q=O(M=>{M.preventDefault(),M.button===Pe.Left&&(m||(P(),Ut()||requestAnimationFrame(()=>r()),c.mode===0&&i.closeCombobox()))}),T=O(()=>{if(m)return i.goToOption($.Nothing);let M=c.calculateIndex(u);i.goToOption($.Specific,M)}),Y=Bt(),Q=O(M=>Y.update(M)),z=O(M=>{if(!Y.wasMoved(M)||m||N)return;let Z=c.calculateIndex(u);i.goToOption($.Specific,Z,0)}),ee=O(M=>{Y.wasMoved(M)&&(m||N&&(c.optionsPropsRef.current.hold||i.goToOption($.Nothing)))}),J=p.useMemo(()=>({active:N,focus:N,selected:b,disabled:m}),[N,b,m]);return be({ourProps:{id:f,ref:y,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:q,onFocus:T,onPointerEnter:Q,onMouseEnter:Q,onPointerMove:z,onMouseMove:z,onPointerLeave:ee,onMouseLeave:ee},theirProps:A,slot:J,defaultTag:Wn,name:"Combobox.Option"})}let Kn=xe(kn),ut=xe(_n),mt=xe(qn),Yn=Ne,pt=xe(Un),ft=xe(Hn),Jn=Object.assign(Kn,{Input:mt,Button:ut,Label:Yn,Options:pt,Option:ft});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=st("StepForward",[["line",{x1:"6",x2:"6",y1:"4",y2:"20",key:"fy8qot"}],["polygon",{points:"10,4 20,12 10,20",key:"1mc1pf"}]]),Zn=({isOpen:t,setIsOpen:s})=>a.jsx(Ht,{open:t,onClose:()=>s(!1),className:"relative z-50",children:a.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4 bg-primary/50 backdrop-blur-lg",children:a.jsxs(Kt,{className:"container space-y-4 border bg-primary-50 p-5 rounded-lg shadow-lg text-center text-primary",children:[a.jsx(Yt,{className:"font-semibold text-xl",children:"Terms and Conditions"}),a.jsxs(Jt,{className:"text-gray-500 px-5 bg-white border p-4 rounded-lg h-[50vh] sm:h-[60vh]  overflow-x-scroll",children:[a.jsx("p",{className:"mb-5 text-base",children:"CENTRAL BANK OF SRI LANKA"}),a.jsx("p",{className:"mb-5",children:"I CASCC (Primary Cardholder), declare that all details given above by me on this form are true and correct."}),a.jsx("p",{className:"mb-5",children:"I hereby confirm that I am aware of the conditions imposed under the provision of the Foreign Exchange Act, No 12 of 2017 (the Act) on Electronic Fund Transfer Cards (EFTCs) subject to which the card may be used for transactions in foreign exchange and I hereby undertake to abide by the said conditions."}),a.jsx("p",{className:"mb-5",children:"I further agree to provide any information on transactions carried out by me in foreign exchange on the card issued to me as LOLC Finance PLC may require for the purpose of Act."}),a.jsx("p",{className:"mb-5",children:"I am aware that the restricted financial institution is required to suspend availability of foreign exchange on ETFC if reasonable grounds exist to suspect that unauthorized foreign exchange transactions are being carried out on the EFTC issued to me and to report the matter to the Director-Department of Foreign Exchange. I also affirm that I undertake to surrender the Credit Card to LOLC Finance PLC, if I migrate or leave Sri Lanka for employment abroad."}),a.jsx("p",{className:"mb-5 text-red-500",children:"Terms & Condition | Tariff"}),a.jsx("p",{className:"mb-5",children:"I confirm that I accept clauses herein and shall be taken as my acceptance of the accuracy of the information supplied by me for the purpose of the entirety of this digital/online application."})]}),a.jsx("div",{className:"flex justify-center sm:justify-end",children:a.jsx(ge,{className:"w-full sm:w-40",onClick:()=>s(!1),variant:"primary",children:"Close"})})]})})}),Qn=(t,s)=>async n=>{var o,e,l,c;n(Xt());try{const i=await rt.post("/general-customer",s);n(Zt(i.data)),Ve.success(i.data.message),t("/document-detail")}catch(i){i?(n(Ue((e=(o=i==null?void 0:i.response)==null?void 0:o.data)==null?void 0:e.error)),Ve.error((c=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:c.error)):n(Ue("An unknown error occurred"))}},Dn=p.forwardRef(({options:t,disabled:s,label:n,className:o,required:e,error:l,...c},i)=>{const[d,f]=p.useState(""),u=d===""?t:t&&t.filter(m=>m.toLowerCase().includes(d.toLowerCase()));return a.jsxs(Qt,{children:[a.jsxs(Ne,{className:"block text-sm font-medium text-primary-950 text-left mb-1",children:[n,e&&a.jsx("span",{className:"ml-1 text-red-800",children:"*"})]}),a.jsxs(Jn,{onClose:()=>f(""),as:"div",...c,children:[a.jsxs("div",{className:"relative",children:[a.jsx(mt,{className:Ke("w-full rounded-lg border border-primary-400 py-2 px-3 bg-white text-primary-950 text-sm","focus:outline-none data-[focus]:outline-2 data-[focus]:-outline-offset-2 data-[focus]:outline-white/25",o),displayValue:m=>m,onChange:m=>f(m.target.value),placeholder:`Select a ${n.toLowerCase()}`,disabled:s,ref:i}),a.jsx(ut,{className:"group absolute inset-y-0 right-0 px-2.5",children:a.jsx(Dt,{className:"size-4 fill-white/60 group-data-[hover]:fill-white"})})]}),a.jsx(pt,{anchor:"bottom",className:Ke("w-[var(--input-width)] bg-primary-50 rounded-lg shadow-lg [--anchor-gap:var(--spacing-1)] empty:invisible","transition duration-100 ease-in data-[leave]:data-[closed]:opacity-0"),children:u&&u.map(m=>a.jsxs(ft,{value:m,className:"group flex cursor-default items-center gap-2 py-1.5 select-none data-[focus]:bg-primary/10 px-2",children:[a.jsx(Xn,{className:"invisible size-4 group-data-[selected]:visible"}),a.jsx("div",{className:"text-sm text-primary-900",children:m})]},m))})]}),a.jsx(Ne,{className:"block text-xs font-medium text-red-800 text-left mt-1 italic normal-case",children:l})]})}),Gn=()=>async t=>{var s,n;t(Gt());try{const o=await rt.get("/branches/fusion");t(en(o.data.data.content??[]))}catch(o){t(o?We((n=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:n.error):We("An unknown error occurred"))}},Le=new Date;Le.setFullYear(Le.getFullYear()-18);const eo=rn({fullName:x().min(1,"Full name is required").refine(t=>/^[a-zA-Z\s.]+$/.test(t),{message:"Full name can only contain letters"}),nationality:x().min(1,"Nationality is required"),preferredLanguage:x().min(1,"Preferred language is required"),dob:x().refine(t=>{const s=new Date(t),n=Le.getTime();return!isNaN(s.getTime())&&s.getTime()<=n},{message:"You must be at least 18 years old"}),mothersMaidenName:x().min(1,"Mother's maiden name is required").refine(t=>/^[a-zA-Z\s.]+$/.test(t),{message:"Name can only contain letters"}),residencePhone:x().optional().refine(t=>!t||/^(?:[0-9]{10})$/.test(t),{message:"Invalid phone number"}),permAddressLine1:x().min(1,"Permanent address is required"),permAddressLine2:x().optional(),permAddressLine3:x().optional(),permAddressLine4:x().optional(),mailAddressLine1:x().min(1,"Maling address is required"),mailAddressLine2:x().optional(),mailAddressLine3:x().optional(),mailAddressLine4:x().optional(),whatsappNo:x().min(1,"WhatsApp number is requied").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),additionalContactNo:x().optional().refine(t=>!t||/^(?:[0-9]{10})$/.test(t),{message:"Invalid phone number"}),residenceType:x().min(1,"Residence type is required"),province:x().min(1,"Province is required"),politicallyExposed:x().min(1,"Politically exposed is required"),employmentCategory:x().min(1,"Employment category is required"),governmentSectorType:x().min(1,"Government sector type is required").optional(),pvtSectorType:x().min(1,"Private sector type is required").optional(),selfEmpType:x().min(1,"Self employed types is required").optional(),expInPresentEmployment:x().min(1,"Experience in present employment is required").regex(/^[0-9\s.]*$/,"Years in number required"),experienceInPreviousEmployment:x().min(1,"Experience in previous employment is required").regex(/^[0-9\s.]*$/,"Years in number required"),nameOfThePreviousEmployer:x().min(1,"Name of the previous employer is required"),occupationType:x().min(1,"Occupation type is required"),nameOfTheEmployer:x().min(1,"Name of the employer/business is required"),designation:x().min(1,"Designation is required"),monthlyNetIncome:x().min(1,"Monthly net income is required"),officeContactNo:x().min(1,"Office contact number is required").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),officeAddressLine1:x().min(1,"Office address is required"),officeAddressLine2:x().optional(),officeAddressLine3:x().optional(),officeAddressLine4:x().optional(),guarantorName:x().min(1,"Guarantor name is required").refine(t=>/^[a-zA-Z\s.]+$/.test(t),{message:"Name can only contain letters"}),relationShipToApplicant:x().min(1,"Relationship to applicant is required"),guarantorNic:x().min(1,"Guarantor NIC number is required").regex(/^(?:\d{9}[vVxX]|\d{12})$/,"Invalid NIC number"),guarantorMobileNo:x().min(1,"Guarantor mobile number is required").regex(/^(?:[0-9]{10})$/,"Invalid phone number (e.g. 0712345678)"),guarantorAddressLine1:x().min(1,"Office address is required"),guarantorAddressLine2:x().optional(),guarantorAddressLine3:x().optional(),guarantorAddressLine4:x().optional(),cardCollectBranch:x().min(1,"Card collection branch is required"),nameOnCard:x().min(1,"Name of the card is required").refine(t=>/^[a-zA-Z\s.]+$/.test(t),{message:"Name can only contain letters"}),termsAndCondition:Ce().refine(t=>t===!0,"You must accept the Terms and Conditions."),isWhatsAppSame:Ce().optional(),isMailAddressSame:Ce().optional(),isCardHolderNameSame:Ce().optional()}),to=[{label:"Sri Lankan",value:"SriLankan"},{label:"Other",value:"Other"}],no=[{label:"Resident",value:"Resident"},{label:"Nonresident",value:"NonResident"}],oo=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],Xe=["English","Sinhala","Tamil"],Ze=["Central","Eastern","North Central","North Western","Northern","Sabaragamuwa","Southern","Western","Uva"],Qe=["Government Sector","Private Sector","Self Employed"],De=["Government Healthcare Professionals","Government Bankers","Others"],Ge=["Private Healthcare Professionals","Private Bankers","Others"],et=["Entrepreneurs/Small Business Owners","Freelancers"],tt=["Full Time","Part Time","Contract"],lo=()=>{var Z,se,C,te,re,ne,ae,le,de,g,V,F,U,k,B,D,S,R,H,oe,pe,Fe;const t=tn(),{data:s}=ye(h=>h.userLogin),{loading:n}=ye(h=>h.userDetailPost),{data:o}=ye(h=>h.allBranches),{data:e,loading:l}=ye(h=>h.userDetailGet);p.useEffect(()=>{(s==null?void 0:s.stage)==="PENDING_DOCUMENT"&&t(cn((s==null?void 0:s.referenceNo)??""))},[s]);const c=dn((s==null?void 0:s.nic)??""),{control:i,register:d,unregister:f,handleSubmit:u,setValue:m,getValues:E,watch:A,formState:{errors:r}}=an({resolver:ln(eo),shouldUnregister:!0,defaultValues:{nationality:(e==null?void 0:e.nationality)??"",fullName:(e==null?void 0:e.fullName)??"",preferredLanguage:(e==null?void 0:e.preferredLanguage)??Xe[0],dob:(c==null?void 0:c.Birthday)??"",mothersMaidenName:(e==null?void 0:e.mothersMaidenName)??"",residencePhone:(e==null?void 0:e.residencePhone)??"",whatsappNo:(e==null?void 0:e.whatsappNo)??"",additionalContactNo:(e==null?void 0:e.additionalContactNo)??"",residenceType:(e==null?void 0:e.residenceType)??"",permAddressLine1:(e==null?void 0:e.permAddressLine1)??"",permAddressLine2:(e==null?void 0:e.permAddressLine2)??"",permAddressLine3:(e==null?void 0:e.permAddressLine3)??"",permAddressLine4:(e==null?void 0:e.permAddressLine4)??"",province:(e==null?void 0:e.province)??Ze[0],mailAddressLine1:(e==null?void 0:e.mailAddressLine1)??"",mailAddressLine2:(e==null?void 0:e.mailAddressLine2)??"",mailAddressLine3:(e==null?void 0:e.mailAddressLine3)??"",mailAddressLine4:(e==null?void 0:e.mailAddressLine4)??"",politicallyExposed:(e==null?void 0:e.politicallyExposed)??"",employmentCategory:(e==null?void 0:e.employmentCategory)??Qe[0],expInPresentEmployment:(e==null?void 0:e.expInPresentEmployment)??"",occupationType:(e==null?void 0:e.occupationType)??tt[0],nameOfTheEmployer:(e==null?void 0:e.nameOfTheEmployer)??"",designation:(e==null?void 0:e.designation)??"",monthlyNetIncome:(e==null?void 0:e.monthlyNetIncome)??"",officeContactNo:(e==null?void 0:e.officeContactNo)??"",officeAddressLine1:(e==null?void 0:e.officeAddressLine1)??"",officeAddressLine2:(e==null?void 0:e.officeAddressLine2)??"",officeAddressLine3:(e==null?void 0:e.officeAddressLine3)??"",officeAddressLine4:(e==null?void 0:e.officeAddressLine4)??"",experienceInPreviousEmployment:(e==null?void 0:e.experienceInPreviousEmployment)??"",nameOfThePreviousEmployer:(e==null?void 0:e.nameOfThePreviousEmployer)??"",guarantorName:(e==null?void 0:e.guarantorName)??"",relationShipToApplicant:(e==null?void 0:e.relationShipToApplicant)??"",guarantorNic:(e==null?void 0:e.guarantorNic)??"",guarantorMobileNo:(e==null?void 0:e.guarantorMobileNo)??"",guarantorAddressLine1:(e==null?void 0:e.guarantorAddressLine1)??"",guarantorAddressLine2:(e==null?void 0:e.guarantorAddressLine2)??"",guarantorAddressLine3:(e==null?void 0:e.guarantorAddressLine3)??"",guarantorAddressLine4:(e==null?void 0:e.guarantorAddressLine4)??"",cardCollectBranch:(e==null?void 0:e.cardCollectBranch)??"",nameOnCard:(e==null?void 0:e.nameOnCard)??"",termsAndCondition:(e==null?void 0:e.status)==="A",governmentSectorType:De[0],pvtSectorType:Ge[0],selfEmpType:et[0],isWhatsAppSame:(e==null?void 0:e.isWhatsAppSame)??!1,isMailAddressSame:(e==null?void 0:e.isMailAddressSame)??!1,isCardHolderNameSame:(e==null?void 0:e.isCardHolderNameSame)??!1}}),N=nn(),b=A("employmentCategory"),[w,_]=p.useState(!1),[L,y]=p.useState(!1),[P,j]=p.useState(!1),[q,T]=p.useState(!1),Y=A("monthlyNetIncome");p.useEffect(()=>{const v=Y.replace(/[^0-9.]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");m("monthlyNetIncome",v)},[Y]);const Q=h=>{var ce;const v=((ce=o==null?void 0:o.find(fe=>(fe==null?void 0:fe.branchDes)===h.cardCollectBranch))==null?void 0:ce.branchCode)??"";t(Qn(N,{...h,referenceNo:(s==null?void 0:s.referenceNo)??"",branchCode:v}))},z=h=>{m("nationality",h)},ee=h=>{m("residenceType",h)},J=h=>{m("politicallyExposed",h)};p.useEffect(()=>{w?m("whatsappNo",(s==null?void 0:s.mobileNumber)??""):m("whatsappNo",(e==null?void 0:e.whatsappNo)??""),m("isWhatsAppSame",w)},[w]),p.useEffect(()=>{if(L){const{permAddressLine1:h,permAddressLine2:v,permAddressLine3:ce,permAddressLine4:fe}=E();m("mailAddressLine1",h),m("mailAddressLine2",v),m("mailAddressLine3",ce),m("mailAddressLine4",fe)}else m("mailAddressLine1",(e==null?void 0:e.mailAddressLine1)??""),m("mailAddressLine2",(e==null?void 0:e.mailAddressLine2)??""),m("mailAddressLine3",(e==null?void 0:e.mailAddressLine3)??""),m("mailAddressLine4",(e==null?void 0:e.mailAddressLine4)??"");m("isWhatsAppSame",L)},[L]),p.useEffect(()=>{if(P){const{fullName:h}=E();m("nameOnCard",h)}else m("nameOnCard",(e==null?void 0:e.nameOnCard)??"");m("isCardHolderNameSame",P)},[P]),p.useEffect(()=>{const{employmentCategory:h}=E();h==="Government"&&f("employmentCategory")},[A]),p.useEffect(()=>{t(Gn())},[]);const M=()=>{N("/document-detail")};return p.useEffect(()=>{e!=null&&e.isWhatsAppSame&&_(!0),e!=null&&e.isMailAddressSame&&y(!0),e!=null&&e.isCardHolderNameSame&&j(!0)},[e]),a.jsxs("div",{className:"bg-card-pattern flex justify-center py-5 px-2 sm:px-0 sm:h-screen",children:[a.jsxs("div",{className:"container flex flex-col justify-center items-center",children:[a.jsx("img",{className:"w-32 mb-3 animate-fade-up animate-duration-[1200ms] animate-once",src:on}),(e==null?void 0:e.stage)==="A"&&a.jsx("div",{className:"w-full flex flex-1 sm:hidden justify-end",children:a.jsxs(ge,{variant:"link",className:"flex flex-row items-center",onClick:M,children:["Document details ",a.jsx(Je,{size:18,className:"ml-1"})]})}),a.jsxs("form",{onSubmit:u(Q),className:"w-full grid grid-cols-1 sm:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[3000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Customer Personal Details"}),a.jsx(I,{type:"text",label:"Full Name",required:!0,error:(Z=r==null?void 0:r.fullName)==null?void 0:Z.message,...d("fullName")}),a.jsx(I,{type:"date",label:"Date of Birth",required:!0,error:(se=r==null?void 0:r.dob)==null?void 0:se.message,...d("dob")}),a.jsx(I,{type:"text",label:"Mother's Maiden Name",required:!0,error:(C=r==null?void 0:r.mothersMaidenName)==null?void 0:C.message,...d("mothersMaidenName")}),a.jsx(I,{type:"tel",label:"WhatsApp Number",error:(te=r==null?void 0:r.whatsappNo)==null?void 0:te.message,...d("whatsappNo"),check:!0,checkLabel:"Same as the mobile number",checkStatus:w,setCheackStatus:_,required:!0}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Permanent Address",...d("permAddressLine1"),placeholder:"Line 1",required:!0}),a.jsx(I,{type:"text",...d("permAddressLine2"),placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("permAddressLine3"),placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(re=r==null?void 0:r.permAddressLine1)==null?void 0:re.message,...d("permAddressLine4"),placeholder:"Line 4"})]}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Maling Address",...d("mailAddressLine1"),placeholder:"Line 1",check:!0,checkLabel:"Same as the permanent address",checkStatus:L,setCheackStatus:y,required:!0}),a.jsx(I,{type:"text",...d("mailAddressLine2"),disabled:L,placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("mailAddressLine3"),disabled:L,placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(ne=r==null?void 0:r.mailAddressLine1)==null?void 0:ne.message,...d("mailAddressLine4"),disabled:L,placeholder:"Line 4"})]}),a.jsx(X,{control:i,name:"province",render:({field:h})=>{var v;return a.jsx(ie,{options:Ze,label:"Province",error:(v=r==null?void 0:r.province)==null?void 0:v.message,...h,required:!0})}}),a.jsx(X,{control:i,name:"preferredLanguage",render:({field:h})=>{var v;return a.jsx(ie,{options:Xe,label:"Preferred Language",error:(v=r==null?void 0:r.preferredLanguage)==null?void 0:v.message,...h,required:!0})}}),a.jsx(X,{control:i,name:"nationality",render:({field:h})=>{var v;return a.jsx(Te,{options:to,label:"Nationality",error:(v=r==null?void 0:r.nationality)==null?void 0:v.message,...h,onChange:z,required:!0})}}),a.jsx(X,{control:i,name:"residenceType",render:({field:h})=>{var v;return a.jsx(Te,{options:no,label:"Resident Type",error:(v=r==null?void 0:r.residenceType)==null?void 0:v.message,...h,onChange:ee,required:!0})}}),a.jsx(X,{control:i,name:"politicallyExposed",render:({field:h})=>{var v;return a.jsx(Te,{options:oo,label:"Politically Exposed",error:(v=r==null?void 0:r.politicallyExposed)==null?void 0:v.message,...h,onChange:J,required:!0})}}),a.jsx(I,{type:"tel",label:"Residence Phone Number",error:(ae=r==null?void 0:r.residencePhone)==null?void 0:ae.message,...d("residencePhone"),ruleLabel:"Enter phone number (e.g. 0712345678)"}),a.jsx(I,{type:"tel",label:"Additional Contact Number",error:(le=r==null?void 0:r.additionalContactNo)==null?void 0:le.message,...d("additionalContactNo"),ruleLabel:"Enter phone number (e.g. 0712345678)"})]}),a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[4000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Customer Employment Details"}),a.jsx(X,{control:i,name:"employmentCategory",render:({field:h})=>{var v;return a.jsx(ie,{options:Qe,label:"Employment Category",error:(v=r==null?void 0:r.employmentCategory)==null?void 0:v.message,...h,required:!0})}}),b==="Government Sector"&&a.jsx(X,{control:i,name:"governmentSectorType",render:({field:h})=>{var v;return a.jsx(ie,{options:De,label:"Government Sector Type",error:(v=r==null?void 0:r.governmentSectorType)==null?void 0:v.message,...h,required:!0})}}),b==="Private Sector"&&a.jsx(X,{control:i,name:"pvtSectorType",render:({field:h})=>{var v;return a.jsx(ie,{options:Ge,label:"Private Sector Type",error:(v=r==null?void 0:r.pvtSectorType)==null?void 0:v.message,...h,required:!0})}}),b==="Self Employed"&&a.jsx(X,{control:i,name:"selfEmpType",render:({field:h})=>{var v;return a.jsx(ie,{options:et,label:"Self Employed Type",error:(v=r==null?void 0:r.selfEmpType)==null?void 0:v.message,...h,required:!0})}}),a.jsx(I,{type:"text",label:"Name of the Employer / Business",required:!0,error:(de=r==null?void 0:r.nameOfTheEmployer)==null?void 0:de.message,...d("nameOfTheEmployer")}),a.jsx(I,{type:"text",label:"Designation",required:!0,error:(g=r==null?void 0:r.designation)==null?void 0:g.message,...d("designation")}),a.jsx(X,{control:i,name:"occupationType",render:({field:h})=>{var v;return a.jsx(ie,{options:tt,label:"Nature of Work",error:(v=r==null?void 0:r.occupationType)==null?void 0:v.message,...h,required:!0})}}),a.jsx(I,{type:"text",label:"Experience in Employment (years)",required:!0,error:(V=r==null?void 0:r.expInPresentEmployment)==null?void 0:V.message,...d("expInPresentEmployment")}),a.jsx(I,{type:"text",label:"Monthly Net Income",required:!0,error:(F=r==null?void 0:r.monthlyNetIncome)==null?void 0:F.message,...d("monthlyNetIncome")}),a.jsx(I,{type:"tel",label:"Office Contact Number",required:!0,error:(U=r==null?void 0:r.officeContactNo)==null?void 0:U.message,...d("officeContactNo"),ruleLabel:"Enter phone number (e.g. 0712345678)"}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Office Address",required:!0,...d("officeAddressLine1"),placeholder:"Line 1"}),a.jsx(I,{type:"text",...d("officeAddressLine2"),placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("officeAddressLine3"),placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(k=r==null?void 0:r.officeAddressLine1)==null?void 0:k.message,...d("officeAddressLine4"),placeholder:"Line 4"})]}),a.jsx(I,{type:"text",label:"Experience In Previous Employment (years)",required:!0,error:(B=r==null?void 0:r.experienceInPreviousEmployment)==null?void 0:B.message,...d("experienceInPreviousEmployment")}),a.jsx(I,{type:"text",label:"Name of the Previous Employer",required:!0,error:(D=r==null?void 0:r.nameOfThePreviousEmployer)==null?void 0:D.message,...d("nameOfThePreviousEmployer")})]}),a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[4000ms] animate-once hover:shadow-xl flex flex-col gap-2 sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Guarantor Details"}),a.jsx(I,{type:"text",label:"Guarantor Name",required:!0,error:(S=r==null?void 0:r.guarantorName)==null?void 0:S.message,...d("guarantorName")}),a.jsx(I,{type:"text",label:"Guarantor NIC",required:!0,error:(R=r==null?void 0:r.guarantorNic)==null?void 0:R.message,...d("guarantorNic")}),a.jsx(I,{type:"tel",label:"Guarantor Mobile Number",required:!0,error:(H=r==null?void 0:r.guarantorMobileNo)==null?void 0:H.message,...d("guarantorMobileNo"),ruleLabel:"Enter phone number (e.g. 0712345678)"}),a.jsx(I,{type:"text",label:"Relationship to Applicant",required:!0,error:(oe=r==null?void 0:r.relationShipToApplicant)==null?void 0:oe.message,...d("relationShipToApplicant")}),a.jsxs(a.Fragment,{children:[a.jsx(I,{type:"text",label:"Guarantor Residential Address",required:!0,...d("guarantorAddressLine1"),placeholder:"Line 1"}),a.jsx(I,{type:"text",...d("guarantorAddressLine2"),placeholder:"Line 2"}),a.jsx(I,{type:"text",...d("guarantorAddressLine3"),placeholder:"Line 3"}),a.jsx(I,{type:"text",error:(pe=r==null?void 0:r.guarantorAddressLine1)==null?void 0:pe.message,...d("guarantorAddressLine4"),placeholder:"Line 4"})]})]}),a.jsxs("div",{className:"bg-primary-50 rounded-lg shadow-lg p-4 animate-fade-up animate-duration-[5000ms] animate-once hover:shadow-xl mb-20 sm:mb-0 flex flex-col gap-2  sm:h-[80vh] sm:overflow-scroll",children:[a.jsx("p",{className:"font-semibold text-primary-950",children:"Credit Card Details"}),a.jsx(I,{type:"text",label:"Name on Card",required:!0,error:(Fe=r==null?void 0:r.nameOnCard)==null?void 0:Fe.message,...d("nameOnCard"),check:!0,checkLabel:"Same as the full name",checkStatus:P,setCheackStatus:j}),a.jsx(X,{control:i,name:"cardCollectBranch",render:({field:h})=>{var v;return a.jsx(Dn,{options:o!==null?o.map(ce=>ce.branchDes):[],label:"Card Collecting Branch",error:(v=r==null?void 0:r.cardCollectBranch)==null?void 0:v.message,...h,required:!0})}}),a.jsx("div",{className:"bg-primary-200 rounded-lg p-3 text-primary animate-fade-up animate-duration-[1500ms] animate-once",children:a.jsx(X,{control:i,name:"termsAndCondition",render:({field:h})=>{var v;return a.jsx(sn,{type:"terms",checked:h.value,...h,setOpen:T,error:(v=r==null?void 0:r.termsAndCondition)==null?void 0:v.message})}})})]}),a.jsxs("div",{className:"mt-5 md:col-span-4 justify-between h-10 animate-fade-up animate-duration-[6000ms] animate-once hidden sm:flex",children:[(e==null?void 0:e.status)==="A"&&a.jsxs(ge,{variant:"link",className:"flex flex-row items-center",onClick:M,children:["Document details ",a.jsx(Je,{size:18,className:"ml-1"})]}),a.jsxs(ge,{variant:"primary",type:"submit",className:"",children:[n&&a.jsx(He,{className:"animate-spin animate-infinite"}),(e==null?void 0:e.status)==="A"?"Update Personal Details":"Save Personal Details"]})]}),a.jsx("div",{className:"fixed sm:hidden bottom-3 bg-primary-50 h-auto animate-fade-up animate-duration-[6000ms] animate-once w-full rounded-lg pr-4",children:a.jsxs(ge,{variant:"primary",type:"submit",className:"w-full",children:[n&&a.jsx(He,{className:"animate-spin animate-infinite"}),(e==null?void 0:e.status)==="A"?"Update Personal Details":"Save Personal Details"]})})]})]}),a.jsx(Zn,{setIsOpen:T,isOpen:q})]})};export{lo as default};
